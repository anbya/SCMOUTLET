[{"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\index.js":"1","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\App.js":"2","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\reportWebVitals.js":"3","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\dashboardPage.js":"4","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\loginPage.js":"5","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterVendorPage.js":"6","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterBarangPage.js":"7","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\navbar.js":"8","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterRawProcessingPage.js":"9","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterOutletPage.js":"10","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\inventory.js":"11","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\produksiPage.js":"12","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\rawProsessingPlanPage.js":"13","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterProduksiPage.js":"14","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\planproduksiPage.js":"15","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\purchaseOrderPage.js":"16","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\completionplanproduksiPage.js":"17","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\deliveryOrderPage.js":"18","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\receivePoPage.js":"19","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\orderPage.js":"20","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\pembelianPage.js":"21","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\salesPage.js":"22","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\userPage.js":"23","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\reportPage.js":"24","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\transferInPage.js":"25","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\purchaseOrderPrint.js":"26","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\transferOutPage.js":"27","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\productionPlanPrint.js":"28","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\transferOutPrint.js":"29","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\testReport.js":"30","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\rawProsessingPlanPrint.js":"31","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\route\\PrivateRoute.js":"32","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\redux\\store.js":"33","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\main.js":"34","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterVendor.js":"35","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterBarang.js":"36","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterRawProcessing.js":"37","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterOutlet.js":"38","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\rawProsessingPlan.js":"39","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterProduksi.js":"40","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\produksi.js":"41","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\planproduksi.js":"42","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\productin.js":"43","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\dummyProductData.js":"44","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\betweenTransferOut.js":"45","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\betweenTransferIn.js":"46","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\sales.js":"47","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\report.js":"48","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\user.js":"49","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\pembelian.js":"50","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\receivepo.js":"51","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\order.js":"52","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\productout.js":"53","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\completionplanproduksi.js":"54","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\redux\\reducers\\index.js":"55","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\dummyData.js":"56","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\LoadingRoutes.js":"57"},{"size":547,"mtime":1606779858570,"results":"58","hashOfConfig":"59"},{"size":4082,"mtime":1617936455070,"results":"60","hashOfConfig":"59"},{"size":362,"mtime":1606779082382,"results":"61","hashOfConfig":"59"},{"size":326,"mtime":1602562391798,"results":"62","hashOfConfig":"59"},{"size":5630,"mtime":1612150935458,"results":"63","hashOfConfig":"59"},{"size":344,"mtime":1597120026970,"results":"64","hashOfConfig":"59"},{"size":344,"mtime":1597120131991,"results":"65","hashOfConfig":"59"},{"size":6097,"mtime":1612338028901,"results":"66","hashOfConfig":"59"},{"size":391,"mtime":1601610179635,"results":"67","hashOfConfig":"59"},{"size":344,"mtime":1599018271867,"results":"68","hashOfConfig":"59"},{"size":1932,"mtime":1596362263540,"results":"69","hashOfConfig":"59"},{"size":336,"mtime":1597120409725,"results":"70","hashOfConfig":"59"},{"size":373,"mtime":1601869889663,"results":"71","hashOfConfig":"59"},{"size":366,"mtime":1599189911690,"results":"72","hashOfConfig":"59"},{"size":356,"mtime":1600743748827,"results":"73","hashOfConfig":"59"},{"size":357,"mtime":1597120241079,"results":"74","hashOfConfig":"59"},{"size":406,"mtime":1601181965141,"results":"75","hashOfConfig":"59"},{"size":358,"mtime":1597120483348,"results":"76","hashOfConfig":"59"},{"size":341,"mtime":1597120330863,"results":"77","hashOfConfig":"59"},{"size":321,"mtime":1597138450546,"results":"78","hashOfConfig":"59"},{"size":341,"mtime":1604334249725,"results":"79","hashOfConfig":"59"},{"size":321,"mtime":1603772891509,"results":"80","hashOfConfig":"59"},{"size":316,"mtime":1597925714442,"results":"81","hashOfConfig":"59"},{"size":326,"mtime":1598239547932,"results":"82","hashOfConfig":"59"},{"size":367,"mtime":1602583668954,"results":"83","hashOfConfig":"59"},{"size":16199,"mtime":1611818599153,"results":"84","hashOfConfig":"59"},{"size":372,"mtime":1602583649817,"results":"85","hashOfConfig":"59"},{"size":11059,"mtime":1611818599153,"results":"86","hashOfConfig":"59"},{"size":10245,"mtime":1611818599153,"results":"87","hashOfConfig":"59"},{"size":3656,"mtime":1598519507714,"results":"88","hashOfConfig":"59"},{"size":10182,"mtime":1611818599153,"results":"89","hashOfConfig":"59"},{"size":508,"mtime":1597119094882,"results":"90","hashOfConfig":"59"},{"size":616,"mtime":1571458820000,"results":"91","hashOfConfig":"59"},{"size":8066,"mtime":1617936656247,"results":"92","hashOfConfig":"59"},{"size":13812,"mtime":1611818599153,"results":"93","hashOfConfig":"59"},{"size":18170,"mtime":1611818599153,"results":"94","hashOfConfig":"59"},{"size":31345,"mtime":1611818599153,"results":"95","hashOfConfig":"59"},{"size":13780,"mtime":1611818599153,"results":"96","hashOfConfig":"59"},{"size":28218,"mtime":1611818599153,"results":"97","hashOfConfig":"59"},{"size":38811,"mtime":1611818599153,"results":"98","hashOfConfig":"59"},{"size":29689,"mtime":1611818599153,"results":"99","hashOfConfig":"59"},{"size":37181,"mtime":1611818599153,"results":"100","hashOfConfig":"59"},{"size":22363,"mtime":1611818599153,"results":"101","hashOfConfig":"59"},{"size":3944,"mtime":1598603016979,"results":"102","hashOfConfig":"59"},{"size":28660,"mtime":1617935759111,"results":"103","hashOfConfig":"59"},{"size":13709,"mtime":1611818599153,"results":"104","hashOfConfig":"59"},{"size":28242,"mtime":1611818599153,"results":"105","hashOfConfig":"59"},{"size":3262,"mtime":1598840984784,"results":"106","hashOfConfig":"59"},{"size":13777,"mtime":1611818672749,"results":"107","hashOfConfig":"59"},{"size":21313,"mtime":1611818599153,"results":"108","hashOfConfig":"59"},{"size":10686,"mtime":1611818599153,"results":"109","hashOfConfig":"59"},{"size":28555,"mtime":1613380276929,"results":"110","hashOfConfig":"59"},{"size":21323,"mtime":1611818599153,"results":"111","hashOfConfig":"59"},{"size":34827,"mtime":1611818599154,"results":"112","hashOfConfig":"59"},{"size":1087,"mtime":1602736989675,"results":"113","hashOfConfig":"59"},{"size":9217,"mtime":1596428179987,"results":"114","hashOfConfig":"59"},{"size":433,"mtime":1615534871445,"results":"115","hashOfConfig":"59"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},"gmokho",{"filePath":"119","messages":"120","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"118"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"118"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"135","usedDeprecatedRules":"118"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":32,"fixableErrorCount":0,"fixableWarningCount":0,"source":"172","usedDeprecatedRules":"118"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"175","messages":"176","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"177","usedDeprecatedRules":"118"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"180","usedDeprecatedRules":"118"},{"filePath":"181","messages":"182","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"183","usedDeprecatedRules":"118"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":22,"fixableErrorCount":0,"fixableWarningCount":0,"source":"186","usedDeprecatedRules":"118"},{"filePath":"187","messages":"188","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"189","messages":"190","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"118"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"196","usedDeprecatedRules":"118"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"199","usedDeprecatedRules":"118"},{"filePath":"200","messages":"201","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"202","usedDeprecatedRules":"118"},{"filePath":"203","messages":"204","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205","usedDeprecatedRules":"118"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"208","usedDeprecatedRules":"118"},{"filePath":"209","messages":"210","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"211","usedDeprecatedRules":"118"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"214","usedDeprecatedRules":"118"},{"filePath":"215","messages":"216","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"217","usedDeprecatedRules":"118"},{"filePath":"218","messages":"219","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"220","usedDeprecatedRules":"118"},{"filePath":"221","messages":"222","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"223","messages":"224","errorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"225","usedDeprecatedRules":"118"},{"filePath":"226","messages":"227","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"228","usedDeprecatedRules":"118"},{"filePath":"229","messages":"230","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"231","usedDeprecatedRules":"118"},{"filePath":"232","messages":"233","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"234","usedDeprecatedRules":"118"},{"filePath":"235","messages":"236","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"237","usedDeprecatedRules":"118"},{"filePath":"238","messages":"239","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"240","usedDeprecatedRules":"118"},{"filePath":"241","messages":"242","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"243","usedDeprecatedRules":"118"},{"filePath":"244","messages":"245","errorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"246","usedDeprecatedRules":"118"},{"filePath":"247","messages":"248","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"249","usedDeprecatedRules":"118"},{"filePath":"250","messages":"251","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"252","usedDeprecatedRules":"118"},{"filePath":"253","messages":"254","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"255","messages":"256","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"257","messages":"258","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\index.js",[],["259","260"],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\App.js",["261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281"],"import React, { Component } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport \"./assets/font-awesome/css/font-awesome.min.css\";\nimport 'react-data-table-component-extensions/dist/index.css';\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport PrivateRoute from './route/PrivateRoute';\nimport Mainpage from \"./pages/dashboardPage\";\nimport Loginpage from \"./pages/loginPage\";\nimport Navbarpage from \"./pages/navbar\";\nimport MasterBarang from \"./pages/masterBarangPage\";\nimport MasterVendor from \"./pages/masterVendorPage\";\nimport MasterOutlet from \"./pages/masterOutletPage\";\nimport InventoryPage from \"./pages/inventory\";\nimport MasterProduksiPage from \"./pages/masterProduksiPage\";\nimport MasterRawProcessingPage from \"./pages/masterRawProcessingPage\";\nimport ProduksiPage from \"./pages/produksiPage\";\nimport RawProsessingPage from \"./pages/rawProsessingPlanPage\";\nimport PlanproduksiPage from \"./pages/planproduksiPage\";\nimport CompletionplanproduksiPage from \"./pages/completionplanproduksiPage\";\nimport ProductinPage from \"./pages/purchaseOrderPage\";\nimport ReceivepoPage from \"./pages/receivePoPage\";\nimport ProductoutPage from \"./pages/deliveryOrderPage\";\nimport orderPage from \"./pages/orderPage\";\nimport pembelianPage from \"./pages/pembelianPage\";\nimport SalesPage from \"./pages/salesPage\";\nimport userPage from \"./pages/userPage\";\nimport reportPage from \"./pages/reportPage\";\nimport TransferInPage from \"./pages/transferInPage\";\nimport TransferOutPage from \"./pages/transferOutPage\";\nimport TestReport from \"./pages/testReport\";\nimport purchaseOrderPrint from \"./pages/purchaseOrderPrint\";\nimport ProductionPlanPrint from \"./pages/productionPlanPrint\";\nimport RawProsessingPlanPrint from \"./pages/rawProsessingPlanPrint\";\nimport TransferOutPrint from \"./pages/transferOutPrint\";\nimport LoadingRoutes from './LoadingRoutes';\n\n\nclass App extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        // base state\n        prmLoading:true\n        // base state --\n      };\n    }\n    componentDidMount = async () =>  {\n        await localStorage.removeItem(\"APIROUTE\");\n        localStorage.setItem(\"APIROUTE\",\"https://3ef97221024d.ngrok.io\")\n        // localStorage.setItem(\"APIROUTE\",\"http://localhost:3009\")\n        this.setState({\n            ...this.state,\n            prmLoading: false\n        });\n        // axios\n        // .get(`${process.env.REACT_APP_LINK}`)\n        // .then(async result => {\n        //     await localStorage.setItem(\"APIROUTE\",result.data.APIROUTE)\n        //     this.setState({\n        //         ...this.state,\n        //         prmLoading: false\n        //     });\n        // })\n        // .catch(error => {\n        //   console.log(error);\n        // });\n    }\n    render() {\n        if(this.state.prmLoading === true){\n            return(\n                <Router>\n                    <LoadingRoutes />\n                </Router>\n            )\n        } else {\n            return (\n                <div>\n                <Provider store={store}>\n                  <Router>\n                    <Switch>\n                      <Route exact path=\"/\">\n                        <Loginpage />\n                      </Route>\n                      <PrivateRoute component={Mainpage} path=\"/home\" exact />\n                      <PrivateRoute component={orderPage} path=\"/order\" exact />\n                      <PrivateRoute component={pembelianPage} path=\"/pembelian\" exact />\n                      <PrivateRoute component={SalesPage} path=\"/sales\" exact />\n                      <PrivateRoute component={TransferInPage} path=\"/transferin\" exact />\n                      <PrivateRoute component={TransferOutPage} path=\"/transferout\" exact />\n                      <PrivateRoute component={TransferOutPrint} path=\"/transferOutPrint\" exact />\n                    </Switch>\n                  </Router>\n                </Provider>\n                </div>\n            );\n        }\n    }\n}\n\nexport default App;","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\reportWebVitals.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\dashboardPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\loginPage.js",["282","283"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  // InputGroup,\r\n  Input,\r\n  Container,\r\n  Row,\r\n  Col,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport jgLogo from '../assets/img/icon.png';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\n\r\n\r\nclass loginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loginPRM:\"\",\r\n      loginNik:\"\",\r\n      loginPass:\"\",\r\n      outletList:[],\r\n      buttonLoginPrm:false,\r\n      buttonLoginText:\"Login\",\r\n    };\r\n  }\r\n  componentDidMount = async () =>{\r\n    let authToken = await localStorage.getItem(\"authToken\")\r\n    authToken != null ? this.kembaliKeLogin() : this.ambilDataOutlet()\r\n  }\r\n  kembaliKeLogin = () =>{\r\n    this.props.history.push({ pathname: \"/home\" })\r\n  }\r\n  ambilDataOutlet = () =>{\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataOutlet`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        outletList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  loginCheck = async () =>{\r\n    const dataToSend = {\r\n      NIK:this.state.loginNik,\r\n      PASS:this.state.loginPass,\r\n      PRM:this.state.loginPRM\r\n    };\r\n    if(dataToSend.PRM === \"\"){\r\n      alert(\"Anda harus memilih data outlet\")\r\n    } \r\n    else if(dataToSend.NIK === \"\" || dataToSend.PASS === \"\"){\r\n      alert(\"NIK dan password user tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonLoginPrm:true,\r\n        buttonLoginText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/login`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        if(result.data.status === \"00\"){\r\n          let prmNIK = result.data.nik\r\n          await this.setState({\r\n            ...this.state,\r\n            buttonLoginPrm:false,\r\n            buttonLoginText:\"Login\"\r\n          });\r\n          await localStorage.setItem(\"authToken\",prmNIK)\r\n          await localStorage.setItem(\"outletID\",this.state.loginPRM)\r\n          this.props.history.push({ pathname: \"/home\" })\r\n        } else {\r\n          this.setState({\r\n            ...this.state,\r\n            buttonLoginPrm:false,\r\n            buttonLoginText:\"Login\"\r\n          });\r\n          alert(result.data.message)\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <Container fluid={true} style={{backgroundColor:\"#003060\",height:\"100vh\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n        <div className=\"card\" style={{backgroundColor:\"rgba(255, 255, 255, 0)\"}}>\r\n          <div className=\"card-body\" style={{backgroundColor:\"rgba(255, 255, 255, 0.6)\",borderRadius:10}}>\r\n            <Row style={{paddingTop:30,paddingBottom:30}}>\r\n              <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <img className=\"portoimage\" width=\"50%\" src={jgLogo} alt=\"jgLogo\" style={{borderRadius:150}} />\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"loginPRM\">Type barang</Label>\r\n                  <Input type=\"select\" name=\"loginPRM\" id=\"loginPRM\" value={this.state.loginPRM}  onChange={this.handleChange}>\r\n                    <option value=\"\">Pilih outlet</option>\r\n                    {this.state.outletList.length > 0 && this.state.outletList.map((outletList,index) =>\r\n                      <option value={outletList.id_outlet} key={index}>{outletList.nama_outlet}</option>\r\n                    )}\r\n                  </Input>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"loginNik\">NIK</Label>\r\n                  <Input type=\"text\" name=\"loginNik\" id=\"loginNik\" value={this.state.loginNik} onChange={this.handleChange} placeholder=\"Input NIK\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"loginPass\">Password</Label>\r\n                  <Input type=\"password\" name=\"loginPass\" id=\"loginPass\" value={this.state.loginPass} onChange={this.handleChange} placeholder=\"Input Password\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{paddingBottom:30}}>\r\n              <Col>\r\n                <button className=\"my-btn full-widht\" onClick={() => this.loginCheck()}>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonLoginPrm}\r\n                  />\r\n                  {this.state.buttonLoginText}\r\n                </button>\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(loginPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterVendorPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterBarangPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\navbar.js",["284","285","286","287","288","289","290"],"import React, { Component,useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem\r\n} from 'reactstrap';\r\n\r\nclass navbar extends Component {\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        navCollapse:false,\r\n        fixedNav:\"\",\r\n        dropdownState:false,\r\n        testState:true,\r\n        testArray:[1,2,5,6]\r\n      };\r\n    }\r\n    componentDidMount = async () =>  {\r\n      let aksesPage = this.props.aksespage\r\n      if(aksesPage == \"\"){\r\n        let prmNIK = localStorage.getItem(\"authToken\")\r\n        let prmOUTLET = localStorage.getItem(\"outletID\")\r\n        const dataToSend = {\r\n          NIK: prmNIK,\r\n          OUTLET: prmOUTLET\r\n        };\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getAksesOutlet`, dataToSend, {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n          }\r\n        })\r\n        .then( result => {\r\n          this.props.dispatch({ type: \"SETAKSES\", payload: result.data.akses });\r\n          this.props.dispatch({ type: \"SETUSERINFO\", payload: result.data.userinfo });\r\n          this.props.dispatch({ type: \"SETOUTLETNAME\", payload: result.data.namaOutlet });\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n          console.log(this.props);\r\n        });\r\n      }\r\n    }\r\n    navToggle = () =>  {\r\n      this.setState({\r\n        ...this.state,\r\n        navCollapse: !this.state.navCollapse\r\n      });\r\n    }\r\n    dropdownToggle = () =>  {\r\n      this.setState({\r\n        ...this.state,\r\n        dropdownState: !this.state.dropdownState\r\n      });\r\n    }\r\n    logout = async () =>{\r\n        await localStorage.removeItem(\"authToken\");\r\n        await localStorage.removeItem(\"outletID\");\r\n        await this.props.history.push({ pathname: \"/\"})\r\n        await this.props.dispatch({ type: \"SETAKSES\", payload: \"\" });\r\n        await this.props.dispatch({ type: \"SETUSERINFO\", payload: \"\" });\r\n    }\r\n    render() {\r\n        return (\r\n              <Navbar color=\"light\" light expand=\"md\" style={{position:\"sticky\",top:0,zIndex:1}}>\r\n                <NavbarBrand href=\"/home\" style={{width:\"150px\"}}>\r\n                  JAYGEEGROUP - {this.props.OutletName}\r\n                </NavbarBrand>\r\n                <NavbarToggler onClick={() => this.navToggle()} />\r\n                <Collapse isOpen={this.state.navCollapse} navbar>\r\n                  <Nav className=\"ml-auto\" navbar>\r\n                    <NavItem style={{cursor:\"pointer\",borderBottom:this.props.navState == \"\"?\"1px solid #000\":\"1px solid rgb(247, 247, 247)\"}}>\r\n                      <NavLink\r\n                      onClick={() =>  {this.props.history.push({pathname: \"/home\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"\" })}}\r\n                      >\r\n                        Dashboard\r\n                      </NavLink>\r\n                    </NavItem>\r\n                    <NavItem style={{cursor:\"pointer\",borderBottom:this.props.navState == \"pembelian\"?\"1px solid #000\":\"1px solid rgb(247, 247, 247)\"}}>\r\n                      <NavLink\r\n                      onClick={() =>  {this.props.history.push({pathname: \"/pembelian\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"pembelian\" })}}\r\n                      >\r\n                        Modul Pembelian\r\n                      </NavLink>\r\n                    </NavItem>\r\n                    <NavItem style={{cursor:\"pointer\",borderBottom:this.props.navState == \"order\"?\"1px solid #000\":\"1px solid rgb(247, 247, 247)\"}}>\r\n                      <NavLink\r\n                      onClick={() =>  {this.props.history.push({pathname: \"/order\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"order\" })}}\r\n                      >\r\n                        Modul Order\r\n                      </NavLink>\r\n                    </NavItem>\r\n                    <NavItem style={{cursor:\"pointer\",borderBottom:this.props.navState == \"sales\"?\"1px solid #000\":\"1px solid rgb(247, 247, 247)\"}}>\r\n                      <NavLink\r\n                      onClick={() =>  {this.props.history.push({pathname: \"/sales\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"sales\" })}}\r\n                      >\r\n                        Modul Sales\r\n                      </NavLink>\r\n                    </NavItem>\r\n                    <UncontrolledDropdown nav inNavbar style={{cursor:\"pointer\",borderBottom:this.props.navState == \"betweentransfer\"?\"1px solid #000\":\"1px solid rgb(247, 247, 247)\"}}>\r\n                      <DropdownToggle nav caret>\r\n                        Between Transfer\r\n                      </DropdownToggle>\r\n                      <DropdownMenu right>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/transferin\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"betweentransfer\" })}}>\r\n                          Transfer In\r\n                        </DropdownItem>\r\n                        <DropdownItem onClick={() =>  {this.props.history.push({pathname: \"/transferout\"});this.props.dispatch({ type: \"SETNAVSTATE\", payload: \"betweentransfer\" })}}>\r\n                          Transfer Out\r\n                        </DropdownItem>\r\n                      </DropdownMenu>\r\n                    </UncontrolledDropdown>\r\n                    <NavItem style={{cursor:\"pointer\"}}>\r\n                      <NavLink onClick={() =>  this.logout()}>Log Out</NavLink>\r\n                    </NavItem>\r\n                  </Nav>\r\n                </Collapse>\r\n              </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\n// export default withRouter(navbar);\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage,\r\n    userinfo: state.reducer.userinfo,\r\n    navState: state.reducer.navState,\r\n    OutletName: state.reducer.OutletName\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(navbar));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterRawProcessingPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterOutletPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\inventory.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\produksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\rawProsessingPlanPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterProduksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\planproduksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\purchaseOrderPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\completionplanproduksiPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\deliveryOrderPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\receivePoPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\orderPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\pembelianPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\salesPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\userPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\reportPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\transferInPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\purchaseOrderPrint.js",["291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass purchaseOrderPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n      IDPOH: params.ID\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getPOReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataPOH\r\n      });\r\n      let dataLenght = result.data.dataPOD.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              this.tambahTotalPO(parseInt(result.data.dataPOD[i2].qty)*parseInt(result.data.dataPOD[i2].harga))\r\n              arrayChildData.push(result.data.dataPOD[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  tambahTotalPO = (val) =>  {\r\n    let totalPOAwal = this.state.totalPO\r\n    let totalPOUpdate = totalPOAwal+val\r\n    this.setState({\r\n        ...this.state,\r\n        totalPO: totalPOUpdate\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Purchase order</span>\r\n                        <br></br>\r\n                        <span style={{fontSize:\"12pt\"}}>Jl. Agung karya 7 blok c No.4-5</span>\r\n                        <br></br>\r\n                        <span style={{fontSize:\"12pt\"}}>sunter podomoro kec tanjung priuk</span>\r\n                        <br></br>\r\n                        <span style={{fontSize:\"12pt\"}}>Jakarta utara 14340</span>\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Purchase order</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Kepada</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Alamat</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\" style={{paddingRight:\"5vw\"}}>\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].alamat_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Pic</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].pic_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Telepon / fax</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].telp_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Email</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].email_vendor}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\" style={{height:\"10vh\"}}>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>No.PO</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_po}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Tanggal Order</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_buat_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Pengiriman</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_outlet}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Tanggal kirim</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_kirim_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                  </Row>\r\n\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"5\" sm=\"5\" md=\"5\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Keterangan</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>QTY</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Harga Satuan</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Total</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"5\" sm=\"5\" md=\"5\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.qty}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{this.formatNumber(dummyDataRow2.harga)}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{this.formatNumber(dummyDataRow2.qty*dummyDataRow2.harga)}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                      <Row style={{visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                          <Col>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"0pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>NOTE : PENGIRIMAN SEBELUM JAM 14.00</span></Col>\r\n                                <Col xs=\"4\" sm=\"4\" md=\"4\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Jumlah</span></Col>\r\n                                <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-end\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>{this.formatNumber(this.state.totalPO)}</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"0pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Senin-Juma'at Pengiriman  Sebelum Jam 14:00</span></Col>\r\n                                <Col xs=\"4\" sm=\"4\" md=\"4\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Total</span></Col>\r\n                                <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-end\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>{this.formatNumber(this.state.totalPO)}</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"0pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Sabtu Pengiriman Sebelum Jam 11:00</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"0pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Disetujui,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Purchasing</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Svp Finance</span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(purchaseOrderPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\transferOutPage.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\productionPlanPrint.js",["323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","339","340","341","342","343","344"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass productionPlanPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n        IDPRODUKSIH: params.ID\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataProduksiH\r\n      });\r\n      let dataLenght = result.data.dataPakaiProduksiD.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              arrayChildData.push(result.data.dataPakaiProduksiD[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Production plan form</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Production number</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_produksi}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Plan date</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_produksi_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Production item</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].production_item}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Quantity</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].production_qty_plan} {this.state.dataHeader[0].satuan_production_item}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Note</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].note_produksi}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"regular\",fontSize:\"18pt\"}}>Goods production list</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Nama barang</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>QTY</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Satuan</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.qty}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.satuan_barang}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Disetujui,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Admin</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Head Central Kitchen</span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(productionPlanPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\transferOutPrint.js",["345","346","347","348","349","350","351","352","353","354","355","356","357","358","359","360","361","362","363","364","365","366"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass transferOutPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    const dataToSend = {\r\n        ID: params.ID\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferoutPrint`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataTransferout\r\n      });\r\n      let dataLenght = result.data.dataTransferout_D.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              arrayChildData.push(result.data.dataTransferout_D[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Transfer Out</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"7\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Nomor Transfer Out</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_between_transfer}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Tanggal Transfer Out</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_kirim_between_transfer_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"5\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Pengirim</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_outlet_pengirim}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"4\">\r\n                            <span style={{fontSize:\"12pt\"}}>Penerima</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"8\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nama_outlet_penerima}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"regular\",fontSize:\"18pt\"}}>Order list</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Nama barang</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>QTY</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Satuan</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.qty}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.satuan_barang}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Diterima,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}></span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}></span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(transferOutPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\testReport.js",["367","368","369","370","371","372","373","374","375","376"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport { autoTable } from \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass testReportPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      people: [\r\n        { name: \"Keanu Reeves\", profession: \"Actor\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n        { name: \"Lionel Messi\", profession: \"Football Player\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n        { name: \"Cristiano Ronaldo\", profession: \"Football Player\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n        { name: \"Jack Nicklaus\", profession: \"Golf Player\",test1:\"test1\",test2:\"test2\",test3:\"test3\",test4:\"test4\",test5:\"test5\",test6:\"test6\" },\r\n      ],\r\n    };\r\n  }\r\n  generatePdf = ()=>{\r\n    const doc = new jsPDF('p','pt','a4');\r\n    doc.setProperties({\r\n      title: \"This is my title\"\r\n    });\r\n    doc.setFont('Arial', '')\r\n    doc.setFontSize(30)\r\n    let text = 'Hi How are you'\r\n    let xcenterPotiotion = (doc.internal.pageSize.width / 2) - (doc.getStringUnitWidth(text) * doc.internal.getFontSize() / 2);\r\n    doc.addImage(jgLogo, 'PNG', 0, 0, 100, 100);\r\n    doc.text('Purchase order', xcenterPotiotion, 50);\r\n    doc.setFont('Arial', '')\r\n    doc.setFontSize(10)\r\n    doc.text(text, 10, 100);\r\n    doc.text(text, 140, 100);\r\n    doc.text(text, 280, 100);\r\n    doc.text(text, 420, 100);\r\n    doc.addPage();\r\n    var generateData = function(amount) {\r\n      var result = [];\r\n      var data = {\r\n        coin: \"100\",\r\n        game_group: \"GameGroup\",\r\n        game_name: \"XPTO2\",\r\n        game_version: \"25\",\r\n        machine: \"20485861\",\r\n        vlt: \"0\"\r\n      };\r\n      for (var i = 0; i < amount; i += 1) {\r\n        data.id = (i + 1).toString();\r\n        result.push(Object.assign({}, data));\r\n      }\r\n      return result;\r\n    };\r\n    \r\n    function createHeaders(keys) {\r\n      var result = [];\r\n      for (var i = 0; i < keys.length; i += 1) {\r\n        result.push({\r\n          id: keys[i],\r\n          name: keys[i],\r\n          prompt: keys[i],\r\n          width: 250,\r\n          align: \"center\",\r\n          padding: 0\r\n        });\r\n      }\r\n      return result;\r\n    }\r\n    \r\n    var headers = createHeaders([\r\n      \"id\",\r\n      \"coin\",\r\n      \"game_group\",\r\n      \"game_name\",\r\n      \"game_version\",\r\n      \"machine\",\r\n      \"vlt\"\r\n    ]);\r\n    doc.table(1, 1, generateData(100), headers);\r\n    //top left\r\n    doc.text(\"*\", 1, 10);\r\n    doc.text(\"*\", 5, 10);\r\n    //top right\r\n    doc.text(\"*\", 585, 10);\r\n    doc.text(\"*\", 589, 10);\r\n    //bottom left\r\n    doc.text(\"*\", 1, 842);\r\n    doc.text(\"*\", 5, 842);\r\n    //bottom right\r\n    doc.text(\"*\", 585, 842);\r\n    doc.text(\"*\", 589, 842);\r\n    window.open(doc.output('bloburi'), '_blank');\r\n  }\r\n  render() {\r\n    return (\r\n      <div id=\"divid\">\r\n        <button className=\"my-btn full-widht\" onClick={() => this.generatePdf()}>\r\n          Generate pdf\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage,\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(testReportPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\rawProsessingPlanPrint.js",["377","378","379","380","381","382","383","384","385","386","387","388","389","390","391","392","393","394","395","396","397","398"],"import React, { Component } from \"react\";\r\nimport queryString from 'query-string';\r\nimport '../potraitPrint.css';\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataProductDummy from './dummyProductData';\r\nimport jgLogo from '../assets/img/icon.png';\r\n\r\nclass rawProcessingPlanPrint extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      reportBody:true,\r\n      dataHeader:[],\r\n      dataRow:[],\r\n      totalPO:0\r\n    };\r\n  }\r\n  componentDidMount = () =>{\r\n    let url = this.props.location.search;\r\n    let params = queryString.parse(url);\r\n    console.log(params.ID);\r\n    const dataToSend = {\r\n        IDRAWPROCESSINGH: params.ID\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getRawProsessingPlanReport`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        dataHeader:result.data.dataRawProcessingH\r\n      });\r\n      let dataLenght = result.data.dataRawProcessingD.length\r\n      let dataPerPage = 20\r\n      let dataLoop = Math.ceil(parseInt(dataLenght)/parseInt(dataPerPage))\r\n      for (let i1 = 0; i1 < dataLoop; i1++) {\r\n          let prmLoop = i1 + 1\r\n          let prmStart = i1 * 1 * dataPerPage\r\n          let prmEnd = prmLoop < dataLoop ? prmLoop * dataPerPage : dataLenght\r\n          let arrayChildData = []\r\n          for (let i2 = prmStart; i2 < prmEnd; i2++) {\r\n              arrayChildData.push(result.data.dataRawProcessingD[i2])\r\n          }\r\n          let beginData = this.state.dataRow\r\n          beginData.push(arrayChildData)\r\n          this.setState({\r\n              ...this.state,\r\n              dataRow: beginData\r\n          });\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  formatNumber = (num) =>  {\r\n    return num.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1,')\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n            {this.state.dataRow.length > 0 && this.state.dataRow.map((dummyDataRow1,index1) =>\r\n                <Container style={{pageBreakAfter:\"always\",visibility:this.state.reportBody===true?\"visible\":\"hidden\"}}>\r\n                  <Row>\r\n                      <Col xs=\"9\" sm=\"9\" md=\"9\">\r\n                      </Col>\r\n                      <Col xs=\"3\" sm=\"3\" md=\"3\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <img className=\"portoimage\" width=\"60%\" src={jgLogo} alt=\"jgLogo\" />\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"30pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\",fontSize:\"18pt\"}}>Raw processing form</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"8\">\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"5\">\r\n                            <span style={{fontSize:\"12pt\"}}>Raw processing plan number</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"7\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].nomor_raw_processing}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"5\">\r\n                            <span style={{fontSize:\"12pt\"}}>Date</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"7\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].tanggal_raw_processing_to_show}</span>\r\n                          </Col>\r\n                        </Row>\r\n                        <Row>\r\n                          <Col xs=\"4\" sm=\"4\" md=\"5\">\r\n                            <span style={{fontSize:\"12pt\"}}>Note</span>\r\n                          </Col>\r\n                          <Col xs=\"8\" sm=\"8\" md=\"7\">\r\n                            <span style={{fontSize:\"12pt\"}}>: {this.state.dataHeader[0].note_raw_processing}</span>\r\n                          </Col>\r\n                        </Row>\r\n                      </Col>\r\n                      <Col xs=\"6\" sm=\"6\" md=\"4\">\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"20pt\"}}>\r\n                      <Col style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"regular\",fontSize:\"18pt\"}}>Raw material list</span>\r\n                      </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"20pt\",marginBottom:\"0pt\",minHeight:\"40vh\"}}>\r\n                    <Col>\r\n                      <Row>\r\n                          <Col>\r\n                              <Row>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"flex-start\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>NO.</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Nama barang</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>QTY</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontWeight:\"bold\",fontSize:\"12pt\"}}>Satuan</span></Col>\r\n                              </Row>\r\n                          {this.state.dataRow[index1].length > 0 && this.state.dataRow[index1].map((dummyDataRow2,index2) =>\r\n                              <Row key={index2}>\r\n                                  <Col xs=\"1\" sm=\"1\" md=\"1\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{index1*20+index2+1}</span></Col>\r\n                                  <Col xs=\"7\" sm=\"7\" md=\"7\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataleft\":\"rowDataleft\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.nama_barang}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowData\":\"rowData\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.total_qty}</span></Col>\r\n                                  <Col xs=\"2\" sm=\"2\" md=\"2\" className={index2+1==this.state.dataRow[index1].length?\"lastRowDataright\":\"rowDataright\"}><span style={{fontSize:\"12pt\"}}>{dummyDataRow2.satuan_barang}</span></Col>\r\n                              </Row>\r\n                          )}\r\n                          </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row style={{marginTop:\"8vh\",visibility:this.state.reportBody===false?\"hidden\":index1+1 === parseInt(this.state.dataRow.length)?\"visible\":\"hidden\"}}>\r\n                      <Col>\r\n                          <Row>\r\n                            <Col xs=\"6\" sm=\"6\" md=\"6\">\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Dibuat,</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Disetujui,</span></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{minHeight:\"150pt\",border:\"1pt solid #000000\"}}></Col>\r\n                              </Row>\r\n                              <Row>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Admin</span></Col>\r\n                                <Col xs=\"6\" sm=\"6\" md=\"6\" style={{display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\",border:\"1pt solid #000000\"}}><span style={{fontSize:\"12pt\"}}>Head Central Kitchen</span></Col>\r\n                              </Row>\r\n                            </Col>\r\n                          </Row>\r\n                      </Col>\r\n                  </Row>\r\n                  {/* <Row>\r\n                      <Col style={{height:\"10vh\",display:\"flex\",display:\"-webkit-flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontSize:\"2vh\"}}>page {index1+1}/{this.state.dataRow.length}</span></Col>\r\n                  </Row> */}\r\n                </Container>\r\n            )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    poid: state.reducer.poid,\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(rawProcessingPlanPrint));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\route\\PrivateRoute.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\redux\\store.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\main.js",["399","400","401"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\n\r\nclass mainPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // data table recent purchase\r\n      dataRecentPurchase: [],\r\n      loadingRecentPurchase:false,\r\n      // data table open order\r\n      dataOpenOrder: [],\r\n      loadingOpenOrder:false,\r\n      // data table raw material\r\n      dataInventory: [],\r\n      loadingInventory:false,\r\n      // data table finished goods\r\n      dataInventory2: [],\r\n      loadingInventory2:false,\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      loadingOpenOrder:true,\r\n      loadingInventory2:true,\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataDashboardOutlet`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOpenOrder: result.data.dataOrderH,\r\n        dataInventory2: result.data.dataInventoryFinshedGoods,\r\n        loadingOpenOrder:false,\r\n        loadingInventory2:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      loadingOpenOrder:true,\r\n      loadingInventory2:true,\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/dataDashboardOutlet`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOpenOrder: result.data.dataOrderH,\r\n        dataInventory2: result.data.dataInventoryFinshedGoods,\r\n        loadingOpenOrder:false,\r\n        loadingInventory2:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  navToggle = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      navCollapse: !this.state.navCollapse\r\n    });\r\n  }\r\n  render() {\r\n    const openOrderColumns = [\r\n      {\r\n        name: 'Nomor order',\r\n        selector: 'nomor_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet',\r\n        selector: 'nama_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status order',\r\n        selector: 'status_order',\r\n        sortable: true,\r\n      },\r\n    ];\r\n    // data table finished goods\r\n    const inventory2Columns = [\r\n      {\r\n        name: 'Kode Barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'OnHand Qty',\r\n        selector: 'onhand_qty',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Barang',\r\n        selector: 'satuan_barang',\r\n        sortable: true,\r\n      },\r\n    ];\r\n    const conditionalInventory2RowStyles = [\r\n      {\r\n        when: row => row.onhand_qty == 0,\r\n        style: {\r\n          color: 'red',\r\n          '&:hover': {\r\n            color: 'red',\r\n            cursor: 'pointer',\r\n          },\r\n        },\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Hello {this.props.userinfo.nama_user}</span>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <div className=\"card\" style={{height:\"100%\"}}>\r\n                  <div className=\"card-header\">\r\n                    <Row>\r\n                      <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\"}}>Finished Goods</span>\r\n                      </Col>\r\n                      {/* <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                        <button className=\"myBtn\" onClick={() => this.exportPDF()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                      </Col> */}\r\n                    </Row>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <DataTableExtensions\r\n                        columns={inventory2Columns}\r\n                        data={this.state.dataInventory2}\r\n                        print={false}\r\n                        exportHeaders={false}\r\n                        export={false}\r\n                    >\r\n                      <DataTable\r\n                        defaultSortField=\"title\"\r\n                        pagination={true}\r\n                        highlightOnHover={true}\r\n                        striped={false}\r\n                        progressPending={this.state.loadingInventory2}\r\n                        noHeader={true}\r\n                        fixedHeader={false}\r\n                        paginationPerPage={5}\r\n                        paginationRowsPerPageOptions={[5]}\r\n                        fixedHeaderScrollHeight=\"300px\"\r\n                        conditionalRowStyles={conditionalInventory2RowStyles}\r\n                      />\r\n                    </DataTableExtensions>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <div className=\"card\" style={{marginTop:15}}>\r\n                  <div className=\"card-header\">\r\n                    <Row>\r\n                      <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\"}}>Open Order</span>\r\n                      </Col>\r\n                    </Row>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <DataTableExtensions\r\n                        columns={openOrderColumns}\r\n                        data={this.state.dataOpenOrder}\r\n                        print={false}\r\n                        exportHeaders={false}\r\n                        export={false}\r\n                    >\r\n                      <DataTable\r\n                        defaultSortField=\"title\"\r\n                        pagination={true}\r\n                        highlightOnHover={true}\r\n                        striped={false}\r\n                        progressPending={this.state.loadingOpenOrder}\r\n                        noHeader={true}\r\n                        fixedHeader={false}\r\n                        paginationPerPage={5}\r\n                        paginationRowsPerPageOptions={[5,10]}\r\n                        fixedHeaderScrollHeight=\"300px\"\r\n                      />\r\n                    </DataTableExtensions>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n          </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage,\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(mainPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterVendor.js",["402"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass masterVendor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahnamavendor:\"\",\r\n      tambahAlamatvendor:\"\",\r\n      tambahPICvendor:\"\",\r\n      tambahTelpvendor:\"\",\r\n      tambahEmailvendor:\"\",\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodevendor:\"\",\r\n      editnamavendor:\"\",\r\n      editAlamatvendor:\"\",\r\n      editPICvendor:\"\",\r\n      editTelpvendor:\"\",\r\n      editEmailvendor:\"\",\r\n      masterVendorList:[]\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/dataVendor`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterVendorList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/dataVendor`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterVendorList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      tambahnamavendor:\"\",\r\n      tambahAlamatvendor:\"\",\r\n      tambahPICvendor:\"\",\r\n      tambahTelpvendor:\"\",\r\n      tambahEmailvendor:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = (data) =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodevendor:data.kode_vendor,\r\n      editnamavendor:data.nama_vendor,\r\n      editAlamatvendor:data.alamat_vendor,\r\n      editPICvendor:data.pic,\r\n      editTelpvendor:data.telp_vendor,\r\n      editEmailvendor:data.email_vendor\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodevendor:\"\",\r\n      editnamavendor:\"\",\r\n      editAlamatvendor:\"\",\r\n      editPICvendor:\"\",\r\n      editTelpvendor:\"\",\r\n      editEmailvendor:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      ID: this.state.editkodevendor,\r\n      NAME: this.state.editnamavendor,\r\n      ALAMAT: this.state.editAlamatvendor,\r\n      PIC: this.state.editPICvendor,\r\n      TELP: this.state.editTelpvendor,\r\n      EMAIL: this.state.editEmailvendor\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editdataVendor`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Save\"\r\n      });\r\n      alert(\"data berhasil diupdate\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NAME: this.state.tambahnamavendor,\r\n      ALAMAT: this.state.tambahAlamatvendor,\r\n      PIC: this.state.tambahPICvendor,\r\n      TELP: this.state.tambahTelpvendor,\r\n      EMAIL: this.state.tambahEmailvendor\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"nama vendor tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/adddataVendor`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode vendor',\r\n        selector: 'kode_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Alamat vendor',\r\n        selector: 'alamat_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'PIC vendor',\r\n        selector: 'pic',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Telp vendor',\r\n        selector: 'telp_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Email vendor',\r\n        selector: 'email_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah master vendor</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahnamavendor\">Nama vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahnamavendor\" id=\"tambahnamavendor\" value={this.state.tambahnamavendor} onChange={this.handleChange} placeholder=\"Nama vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahAlamatvendor\">Alamat vendor</Label>\r\n                  <Input type=\"textarea\" name=\"tambahAlamatvendor\" id=\"tambahAlamatvendor\" value={this.state.tambahAlamatvendor} onChange={this.handleChange} placeholder=\"Alamat vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahPICvendor\">PIC vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahPICvendor\" id=\"tambahPICvendor\" value={this.state.tambahPICvendor} onChange={this.handleChange} placeholder=\"PIC vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahTelpvendor\">Telp vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahTelpvendor\" id=\"tambahTelpvendor\" value={this.state.tambahTelpvendor} onChange={this.handleChange} placeholder=\"Telp vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahEmailvendor\">Email vendor</Label>\r\n                  <Input type=\"text\" name=\"tambahEmailvendor\" id=\"tambahEmailvendor\" value={this.state.tambahEmailvendor} onChange={this.handleChange} placeholder=\"Email vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master vendor</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamabeditnamavendorarang\">Nama vendor</Label>\r\n                  <Input type=\"text\" name=\"editnamavendor\" id=\"editnamavendor\" value={this.state.editnamavendor} onChange={this.handleChange} placeholder=\"Nama vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editAlamatvendor\">Alamat vendor</Label>\r\n                  <Input type=\"textarea\" name=\"editAlamatvendor\" id=\"editAlamatvendor\" value={this.state.editAlamatvendor} onChange={this.handleChange} placeholder=\"Alamat vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editPICvendor\">PIC vendor</Label>\r\n                  <Input type=\"text\" name=\"editPICvendor\" id=\"editPICvendor\" value={this.state.editPICvendor} onChange={this.handleChange} placeholder=\"PIC vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editTelpvendor\">Telp vendor</Label>\r\n                  <Input type=\"text\" name=\"editTelpvendor\" id=\"editTelpvendor\" value={this.state.editTelpvendor} onChange={this.handleChange} placeholder=\"Telp vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editEmailvendor\">Email vendor</Label>\r\n                  <Input type=\"text\" name=\"editEmailvendor\" id=\"editEmailvendor\" value={this.state.editEmailvendor} onChange={this.handleChange} placeholder=\"Email vendor\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master vendor</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterVendorList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterVendor));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterBarang.js",["403","404"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataDummy from './dummyData'\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass masterBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahUnitbarang:\"\",\r\n      tambahKonversibarang:\"\",\r\n      tambahtypebarang:\"\",\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodebarang:\"\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      editUnitbarang:\"\",\r\n      editKonversibarang:\"\",\r\n      edittypebarang:\"\",\r\n      masterBarangList:[],\r\n      vendorList:[],\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/masterbarang`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/masterbarang`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getVendorOption`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        vendorList: result.data.dataToShow\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true,\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahUnitbarang:\"\",\r\n      tambahKonversibarang:\"\",\r\n      tambahtypebarang:\"\",\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahUnitbarang:\"\",\r\n      tambahKonversibarang:\"\",\r\n      tambahtypebarang:\"\",\r\n      vendorList: [],\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    var dataPRMvendor = {\r\n      value: data.kode_vendor,\r\n      label: data.vendor_name\r\n    };\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getVendorOption`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        vendorList: result.data.dataToShow\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodebarang:data.kode_barang,\r\n      editnamabarang:data.nama_barang,\r\n      editsatuanbarang:data.satuan_barang,\r\n      editUnitbarang:data.unit_barang,\r\n      editKonversibarang:data.conversi_satuan,\r\n      edittypebarang:data.type_barang,\r\n      prmVendor:dataPRMvendor,\r\n      tambahkodevendor:data.kode_vendor\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodebarang:\"\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      editUnitbarang:\"\",\r\n      editKonversibarang:\"\",\r\n      edittypebarang:\"\",\r\n      vendorList: [],\r\n      prmVendor:\"\",\r\n      tambahkodevendor:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    const dataToSend = {\r\n      ID: this.state.editkodebarang,\r\n      NAME: this.state.editnamabarang,\r\n      UNIT: this.state.editUnitbarang,\r\n      SATUAN: this.state.editsatuanbarang,\r\n      KONVERSI: this.state.editKonversibarang,\r\n      VENDORCODE: this.state.tambahkodevendor,\r\n      TYPE: this.state.edittypebarang\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"Nama barang tidak boleh kosong\")\r\n    } else if(dataToSend.UNIT === \"\"){\r\n      alert(\"Unit barang tidak boleh kosong\")\r\n    } else if(dataToSend.SATUAN === \"\"){\r\n      alert(\"Satuan barang tidak boleh kosong\")\r\n    } else if(dataToSend.KONVERSI === \"\"){\r\n      alert(\"Konversi barang tidak boleh kosong\")\r\n    } else if(dataToSend.VENDORCODE === \"\"){\r\n      alert(\"Vendor tidak boleh kosong\")\r\n    } else if(dataToSend.TYPE === \"\"){\r\n      alert(\"Type barang tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:true,\r\n        buttonEditText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editMasterBarangData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonEditPrm:false,\r\n          buttonEditText:\"Save\"\r\n        });\r\n        alert(\"data berhasil diupdate\")\r\n        await this.modalEditClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NAME: this.state.tambahnamabarang,\r\n      UNIT: this.state.tambahUnitbarang,\r\n      SATUAN: this.state.tambahsatuanbarang,\r\n      KONVERSI: this.state.tambahKonversibarang,\r\n      VENDORCODE: this.state.tambahkodevendor,\r\n      TYPE: this.state.tambahtypebarang\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"Nama barang tidak boleh kosong\")\r\n    } else if(dataToSend.UNIT === \"\"){\r\n      alert(\"Unit barang tidak boleh kosong\")\r\n    } else if(dataToSend.SATUAN === \"\"){\r\n      alert(\"Satuan barang tidak boleh kosong\")\r\n    } else if(dataToSend.KONVERSI === \"\"){\r\n      alert(\"Konversi barang tidak boleh kosong\")\r\n    } else if(dataToSend.VENDORCODE === \"\"){\r\n      alert(\"Vendor tidak boleh kosong\")\r\n    } else if(dataToSend.TYPE === \"\"){\r\n      alert(\"Type barang tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addMasterBarangData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChanged = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmVendor: value,\r\n      tambahkodevendor:value.value\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Unit',\r\n        selector: 'unit_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan',\r\n        selector: 'satuan_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Conversi',\r\n        selector: 'conversi_satuan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Type',\r\n        selector: 'type_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Vendor',\r\n        selector: 'vendor_name',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah master barang</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahnamabarang\">Nama barang</Label>\r\n                  <Input type=\"text\" name=\"tambahnamabarang\" id=\"tambahnamabarang\" value={this.state.tambahnamabarang} onChange={this.handleChange} placeholder=\"Nama barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahUnitbarang\">Unit barang</Label>\r\n                  <Input type=\"text\" name=\"tambahUnitbarang\" id=\"tambahUnitbarang\" value={this.state.tambahUnitbarang} onChange={this.handleChange} placeholder=\"Unit barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahsatuanbarang\">Satuan barang</Label>\r\n                  <Input type=\"text\" name=\"tambahsatuanbarang\" id=\"tambahsatuanbarang\" value={this.state.tambahsatuanbarang} onChange={this.handleChange} placeholder=\"Satuan barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahKonversibarang\">Konversi unit ke satuan</Label>\r\n                  <Input\r\n                    type=\"number\"\r\n                    name=\"tambahKonversibarang\"\r\n                    id=\"tambahKonversibarang\"\r\n                    value={this.state.tambahKonversibarang}\r\n                    onChange={this.handleChange}\r\n                    placeholder=\"Konversi barang\"\r\n                    min=\"1\"\r\n                  />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahtypebarang\">Type barang</Label>\r\n                  <Input type=\"select\" name=\"tambahtypebarang\" id=\"tambahtypebarang\" value={this.state.tambahtypebarang}  onChange={this.handleChange}>\r\n                    <option value=\"\">Pilih type barang</option>\r\n                    <option value=\"RAW MATERIAL\">Raw material</option>\r\n                    <option value=\"FINISHED GOODS\">Finished goods</option>\r\n                  </Input>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"prmVendor\">Vendor</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmVendor\"\r\n                    value={this.state.prmVendor}\r\n                    options={this.state.vendorList}\r\n                    onChange={this.onSelectChanged.bind(this)}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master barang</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamabarang\">Nama barang</Label>\r\n                  <Input type=\"text\" name=\"editnamabarang\" id=\"editnamabarang\" value={this.state.editnamabarang} onChange={this.handleChange} placeholder=\"Nama barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"editUnitbarang\">Unit barang</Label>\r\n                  <Input type=\"text\" name=\"editUnitbarang\" id=\"editUnitbarang\" value={this.state.editUnitbarang} onChange={this.handleChange} placeholder=\"Unit barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"editsatuanbarang\">Satuan barang</Label>\r\n                  <Input type=\"text\" name=\"editsatuanbarang\" id=\"editsatuanbarang\" value={this.state.editsatuanbarang} onChange={this.handleChange} placeholder=\"Satuan barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"editKonversibarang\">Konversi unit ke satuan</Label>\r\n                  <Input type=\"text\" name=\"editKonversibarang\" id=\"editKonversibarang\" value={this.state.editKonversibarang} onChange={this.handleChange} placeholder=\"Konversi barang\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"edittypebarang\">Type barang</Label>\r\n                  <Input type=\"select\" name=\"edittypebarang\" id=\"edittypebarang\" value={this.state.edittypebarang}  onChange={this.handleChange}>\r\n                    <option value=\"\">Pilih type barang</option>\r\n                    <option value=\"RAW MATERIAL\">Raw material</option>\r\n                    <option value=\"FINISHED GOODS\">Finished goods</option>\r\n                  </Input>\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"tambahsatuanbarang\">Vendor</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmVendor\"\r\n                    value={this.state.prmVendor}\r\n                    options={this.state.vendorList}\r\n                    onChange={this.onSelectChanged.bind(this)}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master barang</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterBarangList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                    {/* <DataTable\r\n                      columns={columns}\r\n                      data={this.state.masterBarangList}\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    /> */}\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterBarang));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterRawProcessing.js",["405","406","407","408","409"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass masterRawProcessing extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataMasterRawProsessingH:[],\r\n      dataFinishedGoodsD:[],\r\n      dataProduksiSisaD:[],\r\n      dataRawMaterialD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state button edit produksi\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      opsiCost:\"\",\r\n      listAddBarangHasil:[],\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getMasterRawprosessing`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterRawProsessingH: result.data.dataMasterRawProsessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getMasterRawprosessing`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterRawProsessingH: result.data.dataMasterRawProsessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getFormAddMasterRawprosessing`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangPakaiList: result.data.dataMasterBarangRaw,\r\n        masterBarangHasilList: result.data.dataMasterBarangFinished,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      opsiCost:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      opsiCost:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      KODEDATAH: data.kode_master_rawprosessing_h\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterRawprosessingD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataRawMaterialD:result.data.dataRawMaterialD,\r\n        dataFinishedGoodsD:result.data.dataFinishedGoodsD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      dataRawMaterialD:[],\r\n      dataFinishedGoodsD:[],\r\n      dataProduksiSisaD:[],\r\n      detailDataProduksi:\"\",\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        ADDDATARAWMATERIAL: this.state.listAddBarangPakai,\r\n        ADDDATAFINISHEDGOODS: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangPakai = this.state.listAddBarangPakai.length\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangPakai < 1){\r\n      alert(\"Data raw material tidak boleh kosong\")\r\n    } else if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data Finished goods tidak boleh kosong\")\r\n    } else {\r\n        this.setState({\r\n            ...this.state,\r\n            buttonAddPrm:true,\r\n            buttonAddText:\"\"\r\n        });\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addMasterRawprosessing`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            buttonAddPrm:false,\r\n            buttonAddText:\"Save\",\r\n            });\r\n            alert(\"data berhasil Ditambahkan\")\r\n            await this.modalAddClose()\r\n            this.refreshPageData()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            console.log(this.props);\r\n        });\r\n    }\r\n  }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.nama_barang,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\"){\r\n      alert(\"barang hasil produksi tidak boleh kosong\")\r\n    } else if(this.state.opsiCost === \"\"){\r\n      alert(\"pengaturan cost tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangHasil\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,opsi_cost:`${this.state.opsiCost}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangHasil: daftarBarang,\r\n          prmBarangHasil:\"\",\r\n          tambahkodebaranghasil:\"\",\r\n          tambahnamabaranghasil:\"\",\r\n          tambahsatuanbaranghasil:\"\",\r\n          tambahqtybaranghasil:\"\",\r\n          opsiCost:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list finished goods\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang\r\n    });\r\n  }\r\n  // function barang pakai produksi\r\n  onSelectChangedMasterBarangPakai = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakai: value,\r\n      tambahkodebarangpakai:value.value,\r\n      tambahnamabarangpakai:value.nama_barang,\r\n      tambahsatuanbarangpakai:value.satuan,\r\n    });\r\n  }\r\n  addDataPakai = async () => {\r\n    if(this.state.tambahkodebarangpakai === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangPakai\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakai = async (keyArray) => {\r\n    // let daftarBarang = this.state.listAddBarangPakai\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   listAddBarangPakai: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.listAddBarangPakai\r\n    let daftarBarangSisa = this.state.listAddBarangSisa\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisa(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  handleChangeDatapakaiQTYD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDatapakaiCOSTD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].cost=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisa = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisa: value,\r\n      tambahkodebarangsisa:value.value,\r\n      tambahnamabarangsisa:value.nama_barang,\r\n      tambahsatuanbarangsisa:value.satuan,\r\n    });\r\n  }\r\n  addDataSisa = async () => {\r\n    if(this.state.tambahkodebarangsisa === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisa === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahopsicost === \"\"){\r\n        alert(\"pengaturan cost tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangSisa\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,prm:`${this.state.tambahprmbarangsisa}`,opsicost:`${this.state.tambahopsicost}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisa = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  // function delete master produksi\r\n  deleteData = (data) => {\r\n    const dataToSend = {\r\n      ID: data.kode_master_produksi_h,\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/deleteMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      alert(\"data berhasil dihapus\")\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      IDRAWPROCESSs:this.state.detailDataProduksi.kode_master_rawprosessing_h\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/updateMasterrawprosessing`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"NONACTIVATE\",\r\n      });\r\n      alert(\"Data plan produksi berhasil di nonaktifkan\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n        {/* <button className=\"myBtn\" onClick={() => { if (window.confirm('Apakah anda yakin akan menghapus master produksi ini ?')) this.deleteData(data) } }><i className=\"fa fa-trash fa-2x\" aria-hidden=\"true\"></i></button> */}\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode Master Raw Prosessing',\r\n        selector: 'kode_master_rawprosessing_h',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Kode Barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form master raw processing</ModalHeader>\r\n          <ModalBody>\r\n            {/* Finish Product section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Raw material</h3>\r\n              </Col>\r\n            </Row>\r\n            {\r\n            this.state.listAddBarangPakai.length > 0 ?\"\"\r\n            :\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"10\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangPakai\"\r\n                  value={this.state.prmBarangPakai}\r\n                  options={this.state.masterBarangPakaiList}\r\n                  onChange={this.onSelectChangedMasterBarangPakai.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataPakai()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            }\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"9\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                    <Col xs=\"9\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataPakai(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* Finish Product section end */}\r\n            {/* Raw material section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Finished goods</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"8\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangHasil\"\r\n                  value={this.state.prmBarangHasil}\r\n                  options={this.state.masterBarangHasilList}\r\n                  onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <FormGroup>\r\n                  <Input type=\"select\" name=\"opsiCost\" id=\"opsiCost\" value={this.state.opsiCost}  onChange={this.handleChange}>\r\n                    <option value=\"\">Pengatuan Cost</option>\r\n                    <option value=\"WITHCOST\">Dengan Cost</option>\r\n                    <option value=\"NOCOST\">Tanpa Cost</option>\r\n                  </Input>\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"flex-start\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataHasil()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PENGATURAN COST</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                    <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.opsi_cost}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* Raw material section end */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail master raw processing</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Raw Material</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"10\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataRawMaterialD.length > 0 && this.state.dataRawMaterialD.map((dataRawMaterialD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataRawMaterialD.kode_barang}</span></Col>\r\n                    <Col xs=\"10\"><span style={{fontWeight:\"bold\"}}>{dataRawMaterialD.nama_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Finished Goods</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"8\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PENGATURAN COST</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataFinishedGoodsD.length > 0 && this.state.dataFinishedGoodsD.map((dataFinishedGoodsD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataFinishedGoodsD.kode_barang}</span></Col>\r\n                    <Col xs=\"8\"><span style={{fontWeight:\"bold\"}}>{dataFinishedGoodsD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataFinishedGoodsD.prm_cost}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"danger\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menonaktifkan master plan produksi ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          {/* <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter> */}\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master Raw Processing</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataMasterRawProsessingH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterRawProcessing));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterOutlet.js",["410"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass masterOutlet extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahnamaoutlet:\"\",\r\n      tambahAlamatoutlet:\"\",\r\n      tambahPICoutlet:\"\",\r\n      tambahTelpoutlet:\"\",\r\n      tambahEmailoutlet:\"\",\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeoutlet:\"\",\r\n      editnamaoutlet:\"\",\r\n      editAlamatoutlet:\"\",\r\n      editPICoutlet:\"\",\r\n      editTelpoutlet:\"\",\r\n      editEmailoutlet:\"\",\r\n      masterOutletList:[]\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/dataOutlet`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOutletList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/dataOutlet`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOutletList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      tambahnamaoutlet:\"\",\r\n      tambahAlamatoutlet:\"\",\r\n      tambahPICoutlet:\"\",\r\n      tambahTelpoutlet:\"\",\r\n      tambahEmailoutlet:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = (data) =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodeoutlet:data.id_outlet,\r\n      editnamaoutlet:data.nama_outlet,\r\n      editAlamatoutlet:data.alamat_outlet,\r\n      editPICoutlet:data.pic,\r\n      editTelpoutlet:data.telp,\r\n      editEmailoutlet:data.email\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeoutlet:\"\",\r\n      editnamaoutlet:\"\",\r\n      editAlamatoutlet:\"\",\r\n      editPICoutlet:\"\",\r\n      editTelpoutlet:\"\",\r\n      editEmailoutlet:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      ID: this.state.editkodeoutlet,\r\n      NAME: this.state.editnamaoutlet,\r\n      ALAMAT: this.state.editAlamatoutlet,\r\n      PIC: this.state.editPICoutlet,\r\n      TELP: this.state.editTelpoutlet,\r\n      EMAIL: this.state.editEmailoutlet\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editdataOutlet`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Save\"\r\n      });\r\n      alert(\"data berhasil diupdate\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NAME: this.state.tambahnamaoutlet,\r\n      ALAMAT: this.state.tambahAlamatoutlet,\r\n      PIC: this.state.tambahPICoutlet,\r\n      TELP: this.state.tambahTelpoutlet,\r\n      EMAIL: this.state.tambahEmailoutlet\r\n    };\r\n    if(dataToSend.NAME === \"\"){\r\n      alert(\"nama outlet tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/adddataOutlet`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode outlet',\r\n        selector: 'id_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama outlet',\r\n        selector: 'nama_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Alamat outlet',\r\n        selector: 'alamat_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'PIC outlet',\r\n        selector: 'pic',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Telp outlet',\r\n        selector: 'telp',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Email outlet',\r\n        selector: 'email',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah master outlet</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahnamaoutlet\">Nama outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahnamaoutlet\" id=\"tambahnamaoutlet\" value={this.state.tambahnamaoutlet} onChange={this.handleChange} placeholder=\"Nama outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahAlamatoutlet\">Alamat outlet</Label>\r\n                  <Input type=\"textarea\" name=\"tambahAlamatoutlet\" id=\"tambahAlamatoutlet\" value={this.state.tambahAlamatoutlet} onChange={this.handleChange} placeholder=\"Alamat outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahPICoutlet\">PIC outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahPICoutlet\" id=\"tambahPICoutlet\" value={this.state.tambahPICoutlet} onChange={this.handleChange} placeholder=\"PIC outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahTelpoutlet\">Telp outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahTelpoutlet\" id=\"tambahTelpoutlet\" value={this.state.tambahTelpoutlet} onChange={this.handleChange} placeholder=\"Telp outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahEmailoutlet\">Email outlet</Label>\r\n                  <Input type=\"text\" name=\"tambahEmailoutlet\" id=\"tambahEmailoutlet\" value={this.state.tambahEmailoutlet} onChange={this.handleChange} placeholder=\"Email outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master outlet</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamabeditnamavendorarang\">Nama outlet</Label>\r\n                  <Input type=\"text\" name=\"editnamaoutlet\" id=\"editnamaoutlet\" value={this.state.editnamaoutlet} onChange={this.handleChange} placeholder=\"Nama outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editAlamatoutlet\">Alamat outlet</Label>\r\n                  <Input type=\"textarea\" name=\"editAlamatoutlet\" id=\"editAlamatoutlet\" value={this.state.editAlamatoutlet} onChange={this.handleChange} placeholder=\"Alamat outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editPICoutlet\">PIC outlet</Label>\r\n                  <Input type=\"text\" name=\"editPICoutlet\" id=\"editPICoutlet\" value={this.state.editPICoutlet} onChange={this.handleChange} placeholder=\"PIC outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editTelpoutlet\">Telp outlet</Label>\r\n                  <Input type=\"text\" name=\"editTelpoutlet\" id=\"editTelpoutlet\" value={this.state.editTelpoutlet} onChange={this.handleChange} placeholder=\"Telp outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editEmailoutlet\">Email outlet</Label>\r\n                  <Input type=\"text\" name=\"editEmailoutlet\" id=\"editEmailoutlet\" value={this.state.editEmailoutlet} onChange={this.handleChange} placeholder=\"Email outlet\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master Outlet</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterOutletList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterOutlet));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\rawProsessingPlan.js",["411","412","413","414"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass rawProsessing extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailData:\"\",\r\n      editNote:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getRawProsessingPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataRawProcessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getRawProsessingPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataRawProcessingH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getFormRawProsessingPlan`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDRAWPROCESSH: data.kode_raw_processing_h,\r\n      IDMASTERRAWPROCESS: data.kode_master_rawprosessing_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getRawProsessingPlanPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataRawMaterial,\r\n        dataProduksiHasilD:result.data.dataFinishedGoods\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailData:data,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      editNote:data.note_raw_processing\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailData:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      editNote:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    const dataToSend = {\r\n      COST:this.state.dataProduksiPakaiD[0].cost_satuan,\r\n      IDRAWPROCESSH:this.state.detailData.kode_raw_processing_h,\r\n      NOTE:this.state.editNote,\r\n      FINISHEDGOODS:this.state.dataProduksiHasilD,\r\n      USER:this.props.userinfo.id_user,\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/rawProcessCompletion`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Selesaikan proses ini\",\r\n      });\r\n      alert(\"Raw process berhasil di tutup\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALRAWPROCES: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATARAWMATERIAL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data item produksi tidak boleh kosong\")\r\n    } else {\r\n      console.log(dataToSend);\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormRawProsessingPlan`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`https://scmoutlet.jaygeegroupapp.com/rawProsessingPlanPrint?ID=${result.data.kodeRawProcessingH}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(parseInt(this.state.prmBarangHasil.qty_in_stok) < parseInt(this.state.tambahqtybaranghasil)){\r\n      alert(\"Stok tidak mencukupi\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n        let daftarBarang = this.state.listAddBarangHasil\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${this.state.tambahqtybaranghasil}`,satuan:`${this.state.tambahsatuanbaranghasil}`,prmMasterRawProsessing:`${this.state.prmBarangHasil.kode_master_rawprosessing_h}`}\r\n        await daftarBarang.push(dataTopush)\r\n        this.setState({\r\n            ...this.state,\r\n            listAddBarangHasil: daftarBarang\r\n        });\r\n        let dataToSend = {\r\n            KEYPLANPRODUCTION: this.state.prmBarangHasil.kode_master_produksi_h,\r\n            MULTIPLEBY:this.state.tambahqtybaranghasil\r\n        };\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addItemProductionPlan`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataKebutuhanProduksi\r\n            });\r\n            this.setState({\r\n                ...this.state,\r\n                prmBarangHasil:\"\",\r\n                tambahkodebaranghasil:\"\",\r\n                tambahnamabaranghasil:\"\",\r\n                tambahsatuanbaranghasil:\"\",\r\n                tambahqtybaranghasil:\"\",\r\n            });\r\n            this.cekPlanProduksi()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[],\r\n      prmPlanProduksi:true\r\n    });\r\n  }\r\n  cekPlanProduksi = () =>  {\r\n    let dataToCek = this.state.listAddBarangPakai\r\n    let panjangData = this.state.listAddBarangPakai.length\r\n    for(let i=0;i<panjangData;i++){\r\n        let qtyReq=dataToCek[i].qty\r\n        let qtyInStok=dataToCek[i].qty_in_stok\r\n        if (parseInt(qtyInStok)<parseInt(qtyReq)){\r\n            this.setState({\r\n                ...this.state,\r\n                prmPlanProduksi:false\r\n            });\r\n        }\r\n    }\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    // let maxSend = daftarBarang[IdData].qty_in_inventory\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiHasilD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Raw Process',\r\n        selector: 'nomor_raw_processing',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Raw Process',\r\n        selector: 'tanggal_raw_processing',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Item Raw Process',\r\n        selector: 'raw_material',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Quantity Raw Process',\r\n        selector: 'raw_material_qty_plan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Raw Process',\r\n        selector: 'satuan_raw_material',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Raw Process',\r\n        selector: 'note_raw_processing',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Raw processing plan form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal pengajuan rencana produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Production item</h3>\r\n                </Col>\r\n                </Row>\r\n                {\r\n                this.state.listAddBarangHasil.length > 0 ?\"\"\r\n                :\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production plan item</Label>\r\n                        <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmBarangHasil\"\r\n                        value={this.state.prmBarangHasil}\r\n                        options={this.state.masterBarangHasilList}\r\n                        onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                        placeholder=\"Select a production plan item\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Qty in stok</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.qty_in_stok == undefined?\"---\":this.state.prmBarangHasil.qty_in_stok} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Qty request</Label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          name=\"tambahqtybaranghasil\"\r\n                          id=\"tambahqtybaranghasil\"\r\n                          value={this.state.tambahqtybaranghasil}\r\n                          onChange={this.handleChange}\r\n                          placeholder=\"Qty\"\r\n                          min=\"1\"\r\n                          max={this.state.prmBarangHasil.qty_in_stok}\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Satuan</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.satuan == undefined?\"---\":this.state.prmBarangHasil.satuan} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button color=\"success\" block={true} onClick={() => this.addDataHasil()}>\r\n                    <ScaleLoader\r\n                        height={18}\r\n                        width={4}\r\n                        radius={2}\r\n                        margin={2}\r\n                        color={'#FFFFFF'}\r\n                        loading={this.state.buttonAddBarangHasilPrm}\r\n                    />\r\n                    {this.state.buttonAddBarangHasilText}\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n                }\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                    <Row key={index}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                        <Col xs=\"1\">\r\n                        <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                        </Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* hasil produksi section */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()} disabled={this.state.prmPlanProduksi == true ? false:true}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail raw processing plan</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor raw process</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailData.nomor_raw_processing} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal raw process</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailData.tanggal_raw_processing} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"editNote\">Note raw process</Label>\r\n                  <Input type=\"textarea\" name=\"editNote\" id=\"editNote\" value={this.state.editNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Raw material list</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.total_qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Finished goods</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiHasilD.qty}`}\r\n                            onChange={this.handleChangeDatapakaiD}\r\n                            min=\"0\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menyeleesaikan proses ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Raw processing plan list</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(rawProsessing));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\masterProduksi.js",["415","416","417","418","419","420","421","422","423"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass masterProduksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataMasterProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state button edit produksi\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/masterproduksi`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterProduksiH: result.data.dataMasterProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/masterproduksi`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataMasterProduksiH: result.data.dataMasterProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getFormAddMasterProduksi`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangPakaiList: result.data.dataMasterBarang,\r\n        masterBarangSisaList: result.data.dataMasterBarang,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      tambahqtybarangpakai:\"\",\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahprmbarangsisa:\"\",\r\n      tambahopsicost:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      KODEMASTERPRODUKSIH: data.kode_master_produksi_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiHasilD:result.data.dataMasterProduksiHasilD,\r\n        dataProduksiPakaiD:result.data.dataMasterProduksiPakaiD,\r\n        masterBarangPakaiListE: result.data.dataMasterBarang,\r\n        masterBarangSisaListE: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"NONACTIVATE\",\r\n      dataProduksiHasilD:[],\r\n      dataProduksiPakaiD:[],\r\n      detailDataProduksi:\"\",\r\n      // state edit barang pakai produksi\r\n      prmBarangPakaiE:\"\",\r\n      masterBarangPakaiListE:[],\r\n      tambahkodebarangpakaiE:\"\",\r\n      tambahnamabarangpakaiE:\"\",\r\n      tambahsatuanbarangpakaiE:\"\",\r\n      listAddBarangPakaiE:[],\r\n      // state edit barang sisa produksi\r\n      prmBarangSisaE:\"\",\r\n      masterBarangSisaListE:[],\r\n      tambahkodebarangsisaE:\"\",\r\n      tambahnamabarangsisaE:\"\",\r\n      tambahsatuanbarangsisaE:\"\",\r\n      tambahprmbarangsisaE:\"\",\r\n      tambahkonversionratebarangsisaE:\"\",\r\n      listAddBarangSisaE:[],\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangPakai = this.state.listAddBarangPakai.length\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data barang hasil produksi tidak boleh kosong\")\r\n    } else if (cekAddDataBarangPakai < 1){\r\n      alert(\"Data barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n        this.setState({\r\n            ...this.state,\r\n            buttonAddPrm:true,\r\n            buttonAddText:\"\"\r\n        });\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addMasterProduksi`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            let statusApi = result.data.status\r\n            if(statusApi === \"00\"){\r\n              await this.setState({\r\n              ...this.state,\r\n              buttonAddPrm:false,\r\n              buttonAddText:\"Save\",\r\n              });\r\n              alert(\"kode barang hasil produksi sudah ada di sistem\")\r\n            } else {\r\n              await this.setState({\r\n              ...this.state,\r\n              buttonAddPrm:false,\r\n              buttonAddText:\"Save\",\r\n              });\r\n              alert(\"data berhasil Ditambahkan\")\r\n              await this.modalAddClose()\r\n              // window.open(\"http://google.com\", \"_blank\")\r\n              this.refreshPageData()\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n            console.log(this.props);\r\n        });\r\n    }\r\n  }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.nama_barang,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\"){\r\n      alert(\"barang hasil produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil == \"\"){\r\n      alert(\"qty barang hasil produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangHasil\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n      let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,satuan:`${this.state.tambahsatuanbaranghasil}`,qty:`${this.state.tambahqtybaranghasil}`}\r\n      await daftarBarang.push(dataTopush)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangHasil: daftarBarang,\r\n        prmBarangHasil:\"\",\r\n        tambahkodebaranghasil:\"\",\r\n        tambahnamabaranghasil:\"\",\r\n        tambahsatuanbaranghasil:\"\",\r\n        tambahqtybaranghasil:\"\",\r\n      });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang\r\n    });\r\n  }\r\n  // function barang pakai produksi\r\n  onSelectChangedMasterBarangPakai = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakai: value,\r\n      tambahkodebarangpakai:value.value,\r\n      tambahnamabarangpakai:value.nama_barang,\r\n      tambahsatuanbarangpakai:value.satuan,\r\n    });\r\n  }\r\n  addDataPakai = async () => {\r\n    if(this.state.tambahkodebarangpakai === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangPakai\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`,satuan:`${this.state.tambahsatuanbarangpakai}`,qty:`${this.state.tambahqtybarangpakai}`,cost:`0`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n          tambahqtybarangpakai:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangPakai: daftarBarang,\r\n          prmBarangPakai:\"\",\r\n          tambahkodebarangpakai:\"\",\r\n          tambahnamabarangpakai:\"\",\r\n          tambahsatuanbarangpakai:\"\",\r\n          tambahqtybarangpakai:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakai = async (keyArray) => {\r\n    // let daftarBarang = this.state.listAddBarangPakai\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   listAddBarangPakai: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.listAddBarangPakai\r\n    let daftarBarangSisa = this.state.listAddBarangSisa\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisa(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  handleChangeDatapakaiQTYD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDatapakaiCOSTD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    daftarBarang[IdData].cost=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisa = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisa: value,\r\n      tambahkodebarangsisa:value.value,\r\n      tambahnamabarangsisa:value.nama_barang,\r\n      tambahsatuanbarangsisa:value.satuan,\r\n    });\r\n  }\r\n  addDataSisa = async () => {\r\n    if(this.state.tambahkodebarangsisa === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisa === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahopsicost === \"\"){\r\n        alert(\"pengaturan cost tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangSisa\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,prm:`${this.state.tambahprmbarangsisa}`,opsicost:`${this.state.tambahopsicost}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangSisa: daftarBarang,\r\n          prmBarangSisa:\"\",\r\n          tambahkodebarangsisa:\"\",\r\n          tambahnamabarangsisa:\"\",\r\n          tambahsatuanbarangsisa:\"\",\r\n          tambahprmbarangsisa:\"\",\r\n          tambahopsicost:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisa = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  // function edit barang pakai produksi\r\n  onSelectChangedMasterBarangPakaiE = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangPakaiE: value,\r\n      tambahkodebarangpakaiE:value.value,\r\n      tambahnamabarangpakaiE:value.nama_barang,\r\n      tambahsatuanbarangpakaiE:value.satuan,\r\n    });\r\n  }\r\n  addDataPakaiE = async () => {\r\n    if(this.state.tambahkodebarangpakaiE === \"\"){\r\n      alert(\"barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataProduksiPakaiD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakaiE}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakaiE}`,nama_barang:`${this.state.tambahnamabarangpakaiE}`,satuan_barang:`${this.state.tambahsatuanbarangpakaiE}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataProduksiPakaiD: daftarBarang,\r\n          prmBarangPakaiE:\"\",\r\n          tambahkodebarangpakaiE:\"\",\r\n          tambahnamabarangpakaiE:\"\",\r\n          tambahsatuanbarangpakaiE:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang pakai produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          dataProduksiPakaiD: daftarBarang,\r\n          prmBarangPakaiE:\"\",\r\n          tambahkodebarangpakaiE:\"\",\r\n          tambahnamabarangpakaiE:\"\",\r\n          tambahsatuanbarangpakaiE:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataPakaiE = async (keyArray) => {\r\n    // let daftarBarang = this.state.dataProduksiPakaiD\r\n    // await daftarBarang.splice(keyArray, 1)\r\n    // await this.setState({\r\n    //   ...this.state,\r\n    //   dataProduksiPakaiD: daftarBarang\r\n    // });\r\n    let daftarBarangPakai = this.state.dataProduksiPakaiD\r\n    let daftarBarangSisa = this.state.dataProduksiSisaD\r\n    let resultChecked = daftarBarangSisa.find(o => o.prm_kode_barang_pakai === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n    if(resultChecked===undefined){\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarangPakai\r\n      });\r\n    } else {\r\n      let result = daftarBarangSisa.filter(o => o.prm_kode_barang_pakai === `${daftarBarangPakai[keyArray].kode_barang}`);\r\n      for(let ia =0;ia<result.length;ia++){\r\n        let indexArray = daftarBarangSisa.findIndex(x => x.kode_barang === `${result[ia].kode_barang}`);\r\n        this.eraseAddDataSisaE(indexArray)\r\n      }\r\n      await daftarBarangPakai.splice(keyArray, 1)\r\n      await this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarangPakai\r\n      });\r\n    }\r\n  }\r\n  // function barang sisa produksi\r\n  onSelectChangedMasterBarangSisaE = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangSisaE: value,\r\n      tambahkodebarangsisaE:value.value,\r\n      tambahnamabarangsisaE:value.nama_barang,\r\n      tambahsatuanbarangsisaE:value.satuan,\r\n    });\r\n  }\r\n  addDataSisaE = async () => {\r\n    if(this.state.tambahkodebarangsisaE === \"\"){\r\n      alert(\"barang sisa produksi tidak boleh kosong\")\r\n    } else if(this.state.tambahprmbarangsisaE === \"\"){\r\n        alert(\"barang pakai tidak boleh kosong\")\r\n    } else if(this.state.tambahkonversionratebarangsisaE === \"\"){\r\n        alert(\"satuan konversi tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataProduksiSisaD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisaE}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {\r\n        kode_barang:`${this.state.tambahkodebarangsisaE}`,\r\n        nama_barang_sisa:`${this.state.tambahnamabarangsisaE}`,\r\n        prm_kode_barang_pakai:`${this.state.tambahprmbarangsisaE}`,\r\n        conversion_rate:`${this.state.tambahkonversionratebarangsisaE}`,\r\n        satuan_barang_sisa:`${this.state.tambahsatuanbarangsisaE}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataProduksiSisaD: daftarBarang,\r\n          prmBarangSisaE:\"\",\r\n          tambahkodebarangsisaE:\"\",\r\n          tambahnamabarangsisaE:\"\",\r\n          tambahsatuanbarangsisaE:\"\",\r\n          tambahprmbarangsisaE:\"\",\r\n          tambahkonversionratebarangsisaE:\"\",\r\n        });\r\n      } else {\r\n        alert(\"barang sudah ada di list barang sisa produksi\")\r\n        this.setState({\r\n          ...this.state,\r\n          dataProduksiSisaD: daftarBarang,\r\n          prmBarangSisaE:\"\",\r\n          tambahkodebarangsisaE:\"\",\r\n          tambahnamabarangsisaE:\"\",\r\n          tambahsatuanbarangsisaE:\"\",\r\n          tambahprmbarangsisaE:\"\",\r\n          tambahkonversionratebarangsisaE:\"\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataSisaE = async (keyArray) => {\r\n    let daftarBarang = this.state.dataProduksiSisaD\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      dataProduksiSisaD: daftarBarang\r\n    });\r\n  }\r\n  // function update master produksi\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      IDPLANPRODUCTION:this.state.detailDataProduksi.kode_master_produksi_h\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/updateMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"NONACTIVATE\",\r\n      });\r\n      alert(\"Data plan produksi berhasil di nonaktifkan\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  // function delete master produksi\r\n  deleteData = (data) => {\r\n    const dataToSend = {\r\n      ID: data.kode_master_produksi_h,\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/deleteMasterProduksi`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      alert(\"data berhasil dihapus\")\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n        {/* <button className=\"myBtn\" onClick={() => { if (window.confirm('Apakah anda yakin akan menghapus master produksi ini ?')) this.deleteData(data) } }><i className=\"fa fa-trash fa-2x\" aria-hidden=\"true\"></i></button> */}\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Kode Master Produksi',\r\n        selector: 'kode_master_produksi_h',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Kode Barang',\r\n        selector: 'kode_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama Barang',\r\n        selector: 'nama_barang',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form master plan produksi</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            {\r\n            this.state.listAddBarangHasil.length > 0 ?\"\"\r\n            :\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"7\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangHasil\"\r\n                  value={this.state.prmBarangHasil}\r\n                  options={this.state.masterBarangHasilList}\r\n                  onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"tambahqtybaranghasil\"\r\n                  id=\"tambahqtybaranghasil\"\r\n                  placeholder=\"qty\"\r\n                  value={this.state.tambahqtybaranghasil}\r\n                  onChange={this.handleChange}\r\n                  min=\"0\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>{this.state.tambahsatuanbaranghasil == \"\"?\"---\":this.state.tambahsatuanbaranghasil+\"/batch\"}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataHasil()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            }\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"7\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangPakai\"\r\n                  value={this.state.prmBarangPakai}\r\n                  options={this.state.masterBarangPakaiList}\r\n                  onChange={this.onSelectChangedMasterBarangPakai.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <Input\r\n                  type=\"number\"\r\n                  name=\"tambahqtybarangpakai\"\r\n                  id=\"tambahqtybarangpakai\"\r\n                  placeholder=\"qty\"\r\n                  value={this.state.tambahqtybarangpakai}\r\n                  onChange={this.handleChange}\r\n                  min=\"0\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>{this.state.tambahsatuanbarangpakai == \"\"?\"---\":this.state.tambahsatuanbarangpakai+\"/batch\"}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addDataPakai()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataPakai(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Master plan Produksi</ModalHeader>\r\n          <ModalBody>\r\n            {/* hasil produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section end */}\r\n            {/* pakai produksi section start */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"danger\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menonaktifkan master plan produksi ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section end */}\r\n          </ModalBody>\r\n          {/* <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter> */}\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Master Plan Produksi</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataMasterProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(masterProduksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\produksi.js",["424","425"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass produksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getProduksiPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getProduksiPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getFormAddProduksi`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangPakaiList: result.data.dataMasterBarang,\r\n        masterBarangSisaList: result.data.dataMasterBarang,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      KODEPRODUKSIH: data.kode_produksi_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProduksiPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataProduksiPakaiD,\r\n        dataProduksiSisaD:result.data.dataProduksiSisaD,\r\n        dataProduksiHasilD:result.data.dataProduksiHasilD,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALPRODUKSI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGSISA: this.state.listAddBarangSisa,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangPakai = this.state.listAddBarangPakai.length\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data barang hasil produksi tidak boleh kosong\")\r\n    } else if (cekAddDataBarangPakai < 1){\r\n      alert(\"Data barang pakai produksi tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addProduksi`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(\"http://google.com\", \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarangHasil\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${this.state.tambahqtybaranghasil}`,satuan:`${this.state.tambahsatuanbaranghasil}`}\r\n        await daftarBarang.push(dataTopush)\r\n        let dataToSend = {\r\n          PRMBARANGHASIL: this.state.prmBarangHasil.prmBarangHasil\r\n        };\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarangHasil: daftarBarang,\r\n          prmBarangHasil:\"\",\r\n          tambahkodebaranghasil:\"\",\r\n          tambahnamabaranghasil:\"\",\r\n          tambahsatuanbaranghasil:\"\",\r\n          tambahqtybaranghasil:\"\",\r\n        });\r\n        await axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailBarangProduksi`, dataToSend, {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n          }\r\n        })\r\n        .then( result => {\r\n          this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataProduksiPakaiD,\r\n            listAddBarangSisa:result.data.dataProduksiSisaD,\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      } else {\r\n        let dataToSend = {\r\n          PRMBARANGHASIL: this.state.prmBarangHasil.prmBarangHasil\r\n        };\r\n        let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebaranghasil}`);\r\n        let qtyAwal = daftarBarang[indexArray].qty\r\n        let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybaranghasil)\r\n        daftarBarang[indexArray].qty=qtyAkhir\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarangHasil: daftarBarang,\r\n          prmBarangHasil:\"\",\r\n          tambahkodebaranghasil:\"\",\r\n          tambahnamabaranghasil:\"\",\r\n          tambahsatuanbaranghasil:\"\",\r\n          tambahqtybaranghasil:\"\",\r\n        });\r\n        await axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailBarangProduksi`, dataToSend, {\r\n          headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n          }\r\n        })\r\n        .then( result => {\r\n          this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataProduksiPakaiD,\r\n            listAddBarangSisa:result.data.dataProduksiSisaD,\r\n          });\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[]\r\n    });\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangPakai\r\n    let maxSend = daftarBarang[IdData].qty_in_inventory\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangPakai: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Produksi',\r\n        selector: 'nomor_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Produksi',\r\n        selector: 'note_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Produksi',\r\n        selector: 'tanggal_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Create User',\r\n        selector: 'create_user',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            {\r\n            this.state.listAddBarangHasil.length > 0 ?\"\"\r\n            :\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"5\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarangHasil\"\r\n                  value={this.state.prmBarangHasil}\r\n                  options={this.state.masterBarangHasilList}\r\n                  onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <Input type=\"number\" name=\"tambahqtybaranghasil\" id=\"tambahqtybaranghasil\" value={this.state.tambahqtybaranghasil} onChange={this.handleChange} placeholder=\"Qty\" min=\"1\" />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\">\r\n                <span style={{fontWeight:\"bold\"}}>{this.state.prmBarangHasil.satuan}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" onClick={() => this.addDataHasil()}>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonAddBarangHasilPrm}\r\n                  />\r\n                  {this.state.buttonAddBarangHasilText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            }\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>IN STOK</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty_in_inventory}</span></Col>\r\n                    <Col xs=\"2\">\r\n                      <Input\r\n                        type=\"number\"\r\n                        name={`${index}`}\r\n                        id={`${index}`}\r\n                        value={listAddBarangPakai.qty}\r\n                        onChange={this.handleChangeDatapakaiD}\r\n                        min=\"0\" max={`${listAddBarangPakai.qty_in_inventory}`}\r\n                      />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* sisa produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang sisa produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarangSisa.length > 0 && this.state.listAddBarangSisa.map((listAddBarangSisa,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangSisa.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{listAddBarangSisa.nama_barang}</span></Col>\r\n                    <Col xs=\"2\">\r\n                      <Input\r\n                        type=\"number\"\r\n                        name={`${index}`}\r\n                        id={`${index}`}\r\n                        value={listAddBarangSisa.qty}\r\n                        onChange={this.handleChangeDataSisaD}\r\n                        min=\"0\"\r\n                      />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangSisa.satuan}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.tanggal_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataProduksi.note_produksi} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* sisa produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang sisa produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiSisaD.length > 0 && this.state.dataProduksiSisaD.map((dataProduksiSisaD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiSisaD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>List Produksi</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(produksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\planproduksi.js",["426","427","428","429"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass planProduksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state button edit produksi\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan produksi ini\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getFormProductionPlan`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDPRODUKSIH: data.kode_produksi_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getProductionPlanPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataPakaiProduksiD,\r\n        dataProduksiHasilD:result.data.dataHasilProduksiD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan produksi ini\"\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan produksi ini\"\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALPRODUKSI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGSISA: this.state.listAddBarangSisa,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data item produksi tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormProductionPlan`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`https://scmoutlet.jaygeegroupapp.com/productionPlanPrint?ID=${result.data.kodeProduksiH}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  // function barang pakai produksi\r\n  // onSelectChangedMasterBarangPakai = async (value) => {\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     prmBarangPakai: value,\r\n  //     tambahkodebarangpakai:value.value,\r\n  //     tambahnamabarangpakai:value.label,\r\n  //     tambahsatuanbarangpakai:value.satuan,\r\n  //     inStok:value.qty_in_stok,\r\n  //   });\r\n  // }\r\n  // addDataPakai = async () => {\r\n  //   let qtyTambahPakai = parseInt(this.state.tambahqtybarangpakai)\r\n  //   let qtyInStok = parseInt(this.state.inStok)\r\n  //   if(this.state.tambahkodebarangpakai === \"\" || this.state.tambahqtybarangpakai === \"\"){\r\n  //     alert(\"barang dan qty barang tidak boleh kosong\")\r\n  //   } else if(this.state.tambahqtybarangpakai === 0 || this.state.tambahqtybarangpakai === \"0\"){\r\n  //     alert(\"Qty tidak boleh 0 (Nol)\")\r\n  //   } else if(qtyTambahPakai > qtyInStok){\r\n  //     alert(\"Qty yang anda input melebihi stok\")\r\n  //   } else {\r\n  //     let daftarBarang = this.state.listAddBarangPakai\r\n  //     let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n  //     if(resultChecked===undefined){\r\n  //       let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`,qty:`${this.state.tambahqtybarangpakai}`,satuan:`${this.state.tambahsatuanbarangpakai}`}\r\n  //       await daftarBarang.push(dataTopush)\r\n  //       await this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangPakai: daftarBarang,\r\n  //         prmBarangPakai:\"\",\r\n  //         inStok:\"\",\r\n  //         tambahkodebarangpakai:\"\",\r\n  //         tambahnamabarangpakai:\"\",\r\n  //         tambahsatuanbarangpakai:\"\",\r\n  //         tambahqtybarangpakai:\"\",\r\n  //       });\r\n  //     } else {\r\n  //       let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n  //       let qtyAwal = daftarBarang[indexArray].qty\r\n  //       let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarangpakai)\r\n  //       daftarBarang[indexArray].qty=qtyAkhir\r\n  //       this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangPakai: daftarBarang,\r\n  //         prmBarangPakai:\"\",\r\n  //         inStok:\"\",\r\n  //         tambahkodebarangpakai:\"\",\r\n  //         tambahnamabarangpakai:\"\",\r\n  //         tambahsatuanbarangpakai:\"\",\r\n  //         tambahqtybarangpakai:\"\",\r\n  //       });\r\n  //     }\r\n  //   }\r\n  // }\r\n  // eraseAddDataPakai = async (keyArray) => {\r\n  //   let daftarBarang = this.state.listAddBarangPakai\r\n  //   await daftarBarang.splice(keyArray, 1)\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     listAddBarangPakai: daftarBarang\r\n  //   });\r\n  // }\r\n  // function barang sisa produksi\r\n  // onSelectChangedMasterBarangSisa = async (value) => {\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     prmBarangSisa: value,\r\n  //     tambahkodebarangsisa:value.value,\r\n  //     tambahnamabarangsisa:value.label,\r\n  //     tambahsatuanbarangsisa:value.satuan,\r\n  //   });\r\n  // }\r\n  // addDataSisa = async () => {\r\n  //   if(this.state.tambahkodebarangsisa === \"\" || this.state.tambahqtybarangsisa === \"\"){\r\n  //     alert(\"barang dan qty barang tidak boleh kosong\")\r\n  //   } else if(this.state.tambahqtybarangsisa === 0 || this.state.tambahqtybarangsisa === \"0\"){\r\n  //     alert(\"Qty tidak boleh 0 (Nol)\")\r\n  //   } else {\r\n  //     let daftarBarang = this.state.listAddBarangSisa\r\n  //     let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n  //     if(resultChecked===undefined){\r\n  //       let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,qty:`${this.state.tambahqtybarangsisa}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n  //       await daftarBarang.push(dataTopush)\r\n  //       await this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangSisa: daftarBarang,\r\n  //         prmBarangSisa:\"\",\r\n  //         tambahkodebarangsisa:\"\",\r\n  //         tambahnamabarangsisa:\"\",\r\n  //         tambahsatuanbarangsisa:\"\",\r\n  //         tambahqtybarangsisa:\"\",\r\n  //       });\r\n  //     } else {\r\n  //       let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n  //       let qtyAwal = daftarBarang[indexArray].qty\r\n  //       let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarangsisa)\r\n  //       daftarBarang[indexArray].qty=qtyAkhir\r\n  //       this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangSisa: daftarBarang,\r\n  //         prmBarangSisa:\"\",\r\n  //         tambahkodebarangsisa:\"\",\r\n  //         tambahnamabarangsisa:\"\",\r\n  //         tambahsatuanbarangsisa:\"\",\r\n  //         tambahqtybarangsisa:\"\",\r\n  //       });\r\n  //     }\r\n  //   }\r\n  // }\r\n  // eraseAddDataSisa = async (keyArray) => {\r\n  //   let daftarBarang = this.state.listAddBarangSisa\r\n  //   await daftarBarang.splice(keyArray, 1)\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     listAddBarangSisa: daftarBarang\r\n  //   });\r\n  // }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n        let daftarBarang = this.state.listAddBarangHasil\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${parseInt(this.state.tambahqtybaranghasil)*parseInt(this.state.prmBarangHasil.qty)}`,satuan:`${this.state.tambahsatuanbaranghasil}`,prmMasterProduksi:`${this.state.prmBarangHasil.kode_master_produksi_h}`}\r\n        await daftarBarang.push(dataTopush)\r\n        this.setState({\r\n            ...this.state,\r\n            listAddBarangHasil: daftarBarang\r\n        });\r\n        let dataToSend = {\r\n            KEYPLANPRODUCTION: this.state.prmBarangHasil.kode_master_produksi_h,\r\n            MULTIPLEBY:this.state.tambahqtybaranghasil\r\n        };\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addItemProductionPlan`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataKebutuhanProduksi\r\n            });\r\n            this.setState({\r\n                ...this.state,\r\n                prmBarangHasil:\"\",\r\n                tambahkodebaranghasil:\"\",\r\n                tambahnamabaranghasil:\"\",\r\n                tambahsatuanbaranghasil:\"\",\r\n                tambahqtybaranghasil:\"\",\r\n            });\r\n            this.cekPlanProduksi()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[],\r\n      prmPlanProduksi:true\r\n    });\r\n  }\r\n  cekPlanProduksi = () =>  {\r\n    let dataToCek = this.state.listAddBarangPakai\r\n    let panjangData = this.state.listAddBarangPakai.length\r\n    for(let i=0;i<panjangData;i++){\r\n        let qtyReq=dataToCek[i].qty\r\n        let qtyInStok=dataToCek[i].qty_in_stok\r\n        if (parseInt(qtyInStok)<parseInt(qtyReq)){\r\n            this.setState({\r\n                ...this.state,\r\n                prmPlanProduksi:false\r\n            });\r\n        }\r\n    }\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    if(parseInt(event.target.value) > parseInt(daftarBarang[IdData].qty_plan)){\r\n      alert(\"jumlah yang di input melebihi total plan produksi\")\r\n    } else {\r\n      daftarBarang[IdData].qty_produksi=event.target.value\r\n      this.setState({\r\n        ...this.state,\r\n        listAddBarangPakai: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiPakaiD\r\n    if(parseInt(event.target.value) > parseInt(daftarBarang[IdData].qty)){\r\n      alert(\"jumlah yang di input melebihi total pemakaian produksi\")\r\n    } else {\r\n      daftarBarang[IdData].qty_sisa=event.target.value\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  updateData = () => {\r\n    const dataToSend = {\r\n      COST:this.state.detailDataProduksi.total_cost,\r\n      IDPRODUKSIH:this.state.detailDataProduksi.kode_produksi_h,\r\n      HASILPRODUKSI:this.state.dataProduksiHasilD,\r\n      // PAKAIPRODUKSI:this.state.dataProduksiPakaiD,\r\n      USER:this.props.userinfo.id_user,\r\n    };\r\n    console.log(dataToSend);\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/productionPlanCompletion`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Selesaikan produksi ini\",\r\n      });\r\n      alert(\"Produksi ini berhasil di tutup\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Produksi',\r\n        selector: 'nomor_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Produksi',\r\n        selector: 'tanggal_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Item Produksi',\r\n        selector: 'production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Quantity Produksi',\r\n        selector: 'production_qty_plan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Produksi',\r\n        selector: 'satuan_production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Produksi',\r\n        selector: 'note_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Production plan form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal pengajuan rencana produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Production item</h3>\r\n                </Col>\r\n                </Row>\r\n                {\r\n                this.state.listAddBarangHasil.length > 0 ?\"\"\r\n                :\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production plan item</Label>\r\n                        <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmBarangHasil\"\r\n                        value={this.state.prmBarangHasil}\r\n                        options={this.state.masterBarangHasilList}\r\n                        onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                        placeholder=\"Select a production plan item\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production per batch</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.qty == undefined?\"---\":this.state.prmBarangHasil.qty} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Satuan</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.satuan == undefined?\"---\":this.state.prmBarangHasil.satuan} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Multiple batch by</Label>\r\n                        <Input type=\"number\" name=\"tambahqtybaranghasil\" id=\"tambahqtybaranghasil\" value={this.state.tambahqtybaranghasil} onChange={this.handleChange} placeholder=\"Qty\" min=\"1\" />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button color=\"success\" block={true} onClick={() => this.addDataHasil()}>\r\n                    <ScaleLoader\r\n                        height={18}\r\n                        width={4}\r\n                        radius={2}\r\n                        margin={2}\r\n                        color={'#FFFFFF'}\r\n                        loading={this.state.buttonAddBarangHasilPrm}\r\n                    />\r\n                    {this.state.buttonAddBarangHasilText}\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n                }\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                    <Row key={index}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                        <Col xs=\"1\">\r\n                        <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                        </Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* hasil produksi section */}\r\n            {/* pakai produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Raw material</h3>\r\n                </Col>\r\n                </Row>\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>IN STOK</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                    <Row key={index} style={{color:parseInt(listAddBarangPakai.qty_in_stok) < parseInt(listAddBarangPakai.qty)?\"#FF0000\":\"#000000\"}}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                        <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty_in_stok}</span></Col>\r\n                        <Col xs=\"2\">\r\n                        <span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty}</span>\r\n                        </Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan_barang}</span></Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* pakai produksi section */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()} disabled={this.state.prmPlanProduksi == true ? false:true}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.nomor_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.tanggal_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataProduksi.note_produksi} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PLAN QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PRODUCE QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty_plan}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiHasilD.qty_produksi}`}\r\n                            onChange={this.handleChangeDatapakaiD}\r\n                            min=\"0\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY PAKAI</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n                {/* <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY PAKAI</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY SISA</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row> */}\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n                {/* {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiPakaiD.qty_sisa}`}\r\n                            onChange={this.handleChangeDataSisaD}\r\n                            min=\"0\"\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )} */}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan menyelesaikan proses ini ?')) this.updateData() } }>\r\n                  <ScaleLoader\r\n                    height={18}\r\n                    width={4}\r\n                    radius={2}\r\n                    margin={2}\r\n                    color={'#FFFFFF'}\r\n                    loading={this.state.buttonEditPrm}\r\n                  />\r\n                  {this.state.buttonEditText}\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Production plan list</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(planProduksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\productin.js",["430","431"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\r\n\r\nclass productIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataPOH:[],\r\n      dataPOD:[],\r\n      detailDataPO:\"\",\r\n      tanggalKirim: new Date(),\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getFormPOData`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterVendorList: result.data.dataVendor,\r\n        masterBarangList: result.data.dataMasterBarang,\r\n        masterOutletList: result.data.dataOutlet\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      tanggalKirim: new Date(),\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodePOH: data.kode_purchase_order_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailPOData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataPO:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\"\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\" || this.state.tambahqtybarang === \"\" || this.state.tambahhargabarang === \"\"){\r\n      alert(\"barang, qty dan harga barang tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarang}`,nama_barang:`${this.state.tambahnamabarang}`,qty:`${this.state.tambahqtybarang}`,satuan:`${this.state.tambahsatuanbarang}`,harga:`${this.state.tambahhargabarang}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n        this.hitungTotal()\r\n      } else {\r\n        let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarang}`);\r\n        let qtyAwal = daftarBarang[indexArray].qty\r\n        let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarang)\r\n        daftarBarang[indexArray].qty=qtyAkhir\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n    this.hitungTotal()\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterVendor = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmVendor: value,\r\n      tambahkodevendor:value.value\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahsatuanbarang:value.unit\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n      VENDORCODE: this.state.tambahkodevendor,\r\n      OUTLETCODE: this.state.tambahkodeoutlet,\r\n      TANGGALPO: this.state.dateForm,\r\n      TOTALPURCHASE: this.state.totalPembelian,\r\n      USER:this.props.userinfo.id_user,\r\n      ADDDATA: this.state.listAddBarang,\r\n      TANGGALKIRIM: this.state.tanggalKirim\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if(dataToSend.VENDORCODE === \"\"){\r\n      alert(\"Data vendor tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    } else if (this.state.tambahkodeoutlet === \"\"){\r\n      alert(\"Lokasi pengiriman tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormPOData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`https://scmoutlet.jaygeegroupapp.com/purchaseOrderPrint?ID=${result.data.id_po_h}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  datepickerHandleChange = date => {\r\n    this.setState({\r\n      ...this.state,\r\n      tanggalKirim: date\r\n    });\r\n  };\r\n  render() {\r\n    // console.log(this.state.prmBarang.unit);\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor PO',\r\n        selector: 'nomor_po',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Total pembelian',\r\n        selector: 'jumlah_pembelian',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pembuatan purchase order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal buat PO</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Vendor</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmVendor\"\r\n                    value={this.state.prmVendor}\r\n                    options={this.state.masterVendorList}\r\n                    onChange={this.onSelectChangedMasterVendor.bind(this)}\r\n                    placeholder=\"Pilih Vendor\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Lokasi pengiriman</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOutlet\"\r\n                    value={this.state.prmOutlet}\r\n                    options={this.state.masterOutletList}\r\n                    onChange={this.onSelectChangedMasterOutlet.bind(this)}\r\n                    placeholder=\"Pilih tujuan kirim\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal kirim</Label>\r\n                  <br></br>\r\n                  <DatePicker\r\n                    selected={this.state.tanggalKirim}\r\n                    onChange={this.datepickerHandleChange}\r\n                    dateFormat=\"dd-MMMM-yyyy\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10,paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"5\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarang\"\r\n                  value={this.state.prmBarang}\r\n                  options={this.state.masterBarangList}\r\n                  onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <Input type=\"number\" name=\"tambahqtybarang\" id=\"tambahqtybarang\" value={this.state.tambahqtybarang} onChange={this.handleChange} placeholder=\"Qty\" min=\"0\" />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n              <span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.unit == undefined?\"---\":this.state.prmBarang.unit}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"3\">\r\n                <Input type=\"number\" name=\"tambahhargabarang\" id=\"tambahhargabarang\" value={this.state.tambahhargabarang} onChange={this.handleChange} placeholder=\"Harga perunit\" min=\"0\" />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"1\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button color=\"success\" onClick={() => this.addData()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>UNIT</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HARGA</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qty}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.satuan}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.harga}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",minHeight:\"10vh\"}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <span style={{fontWeight:\"bold\"}}>Total Pembelian : {this.state.totalPembelian}</span>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail PO</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nomor_po} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal buat PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.tanggal_buat} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Vendor</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nama_vendor} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HARGA</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataPOD.length > 0 && this.state.dataPOD.map((dataPOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPOD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataPOD.nama_barang}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{dataPOD.qty}</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{dataPOD.satuan_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPOD.harga}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",minHeight:\"10vh\"}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <span style={{fontWeight:\"bold\"}}>Total Pembelian : {this.state.detailDataPO.jumlah_pembelian}</span>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Daftar purchase order</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataPOH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(productIn));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\dummyProductData.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\betweenTransferOut.js",["432","433","434","435","436","437","438","439","440","441","442","443","444","445","446","447","448"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\r\n\r\nclass transferOut extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahunitbarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahkonversibarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahqtyUnit:\"\",\r\n      tambahqtySatuan:\"\",\r\n      tambahStokBarang:\"\",\r\n      tambahStokBarangToShow:\"\",\r\n      addNote:\"\",\r\n      prmModaledit:false,\r\n      prmOutletPengirim:\"\",\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataTransferOut:[],\r\n      dataTOD:[],\r\n      detailDataTO:\"\",\r\n      tanggalKirim: new Date(),\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTransferOut: result.data.dataTransferout,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTransferOut: result.data.dataTransferout,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormTO`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        prmOutletPengirim:result.data.nama_outlet,\r\n        masterBarangList: result.data.dataMasterBarang,\r\n        masterOutletList: result.data.dataOutlet\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      addNote:\"\",\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahunitbarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahkonversibarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahqtyUnit:\"\",\r\n      tambahqtySatuan:\"\",\r\n      tambahStokBarang:\"\",\r\n      tambahStokBarangToShow:\"\",\r\n      addNote:\"\",\r\n      listAddBarang:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      tanggalKirim: new Date(),\r\n      prmOutletPengirim:\"\",\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodeTO: data.kode_between_transfer\r\n    };\r\n    let APIroute = localStorage.getItem(\"APIROUTE\")\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTOD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataTO:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\"\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\"){\r\n        alert(\"Item barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybarang == 0 || this.state.tambahqtybarang === \"\"){\r\n        alert(\"Qty Pembelian tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        // batas\r\n        let qtyTRANS =parseInt(this.state.tambahqtybarang==\"\"?0:this.state.tambahqtybarang)\r\n        let convertionQtyTRANS =parseInt(this.state.tambahkonversibarang)\r\n        let qtyTRANSProcessA = Math.floor(qtyTRANS/convertionQtyTRANS)\r\n        let qtyTRANSProcessB = qtyTRANS%convertionQtyTRANS\r\n        let qtyTRANSToShow = qtyTRANSProcessA+\"/\"+qtyTRANSProcessB\r\n        // batas\r\n        let dataTopush = {\r\n            kode_barang:`${this.state.tambahkodebarang}`,\r\n            nama_barang:`${this.state.tambahnamabarang}`,\r\n            qty:`${this.state.tambahqtybarang}`,\r\n            qtyToShow:`${qtyTRANSToShow} ${this.state.tambahunitbarang}/${this.state.tambahsatuanbarang}`\r\n        }\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahunitbarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahkonversibarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahqtyUnit:\"\",\r\n          tambahqtySatuan:\"\",\r\n          tambahStokBarang:\"\",\r\n          tambahStokBarangToShow:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n        this.hitungTotal()\r\n      } else {\r\n        alert(\"Data barang sudah ada di list barang yang akan di transfer\")\r\n        this.setState({\r\n          ...this.state,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahunitbarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahkonversibarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahqtyUnit:\"\",\r\n          tambahqtySatuan:\"\",\r\n          tambahStokBarang:\"\",\r\n          tambahStokBarangToShow:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n    this.hitungTotal()\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  handleChangeQtyTransfer = event =>  {\r\n    parseInt(event.target.value) > parseInt(this.state.prmBarang.qty_in_stok)\r\n    ?\r\n    alert(\"Qty yang anda input melebihi stok\"):\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterVendor = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmVendor: value,\r\n      tambahkodevendor:value.value\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahunitbarang:value.unit,\r\n      tambahsatuanbarang:value.satuan,\r\n      tambahStokBarang:value.qty_in_stok,\r\n      tambahStokBarangToShow:value.qty_in_stok_toshow,\r\n      tambahkonversibarang:value.konversi\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  submitData = () => {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      OUTLETPENGIRIM: PRMOUTLET,\r\n      OUTLETTUJUAN: this.state.tambahkodeoutlet,\r\n      TANGGALTO: this.state.dateForm,\r\n      USER:this.props.userinfo.id_user,\r\n      ADDDATA: this.state.listAddBarang,\r\n      ADDNOTE: this.state.addNote\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if (this.state.prmOutlet === \"\"){\r\n      alert(\"Outlet penerima tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n    //   console.log(dataToSend);\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormTO`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`${process.env.REACT_APP_PRINT}/#/transferOutPrint?ID=${result.data.kodeTO}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  datepickerHandleChange = date => {\r\n    this.setState({\r\n      ...this.state,\r\n      tanggalKirim: date\r\n    });\r\n  };\r\n  handleChangeunitTransfer = event =>  {\r\n    let unitSend = event.target.value==\"\"?0:parseInt(event.target.value)\r\n    let satuanSend = this.state.tambahqtySatuan==\"\"?0:parseInt(this.state.tambahqtySatuan)\r\n    let cekHasilqty_send = parseInt(satuanSend)+(parseInt(unitSend)*parseInt(this.state.tambahkonversibarang))\r\n    if(cekHasilqty_send>parseInt(this.state.tambahStokBarang)){\r\n      alert(\"qty yang anda input melebihi stok\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        tambahqtybarang:parseInt(satuanSend)+(parseInt(unitSend)*parseInt(this.state.tambahkonversibarang)),\r\n        tambahqtyUnit:event.target.value\r\n      });\r\n    }\r\n  }\r\n  handleChangesatuanTransfer = event =>  {\r\n    let maxSatuan = parseInt(this.state.tambahkonversibarang)-1\r\n    if(event.target.value>maxSatuan){\r\n      alert(\"angka yang anda input melebihi batas satuan\")\r\n    } else{\r\n      let unitSend = this.state.tambahqtyUnit==\"\"?0:parseInt(this.state.tambahqtyUnit)\r\n      let satuanSend = event.target.value==\"\"?0:parseInt(event.target.value)\r\n      let cekHasilqty_send = parseInt(satuanSend)+(parseInt(unitSend)*parseInt(this.state.tambahkonversibarang))\r\n      if(cekHasilqty_send>parseInt(this.state.tambahStokBarang)){\r\n        alert(\"qty yang anda input melebihi stok\")\r\n      } else {\r\n        this.setState({\r\n          ...this.state,\r\n          tambahqtybarang:parseInt(satuanSend)+(parseInt(unitSend)*parseInt(this.state.tambahkonversibarang)),\r\n          tambahqtySatuan:event.target.value\r\n        });\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    // console.log(this.state.prmBarang.unit);\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Transfer Out',\r\n        selector: 'nomor_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Transfer Out',\r\n        selector: 'tanggal_kirim_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet Tujuan Pengiriman',\r\n        selector: 'nama_outlet_penerima',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status Transfer Out',\r\n        selector: 'between_transfer_state',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note',\r\n        selector: 'note_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Transfer Out Form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal Transfer Out</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"prmOutletPengirim\">Outlet Pengirim</Label>\r\n                  <Input type=\"text\" name=\"prmOutletPengirim\" id=\"prmOutletPengirim\" value={this.state.prmOutletPengirim} onChange={this.handleChange} placeholder=\"Outlet pengirim\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Outlet Penerima</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOutlet\"\r\n                    value={this.state.prmOutlet}\r\n                    options={this.state.masterOutletList}\r\n                    onChange={this.onSelectChangedMasterOutlet.bind(this)}\r\n                    placeholder=\"Pilih tujuan kirim\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                    <span style={{fontWeight:\"bold\"}}>Item Transfer</span>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <span style={{fontWeight:\"bold\"}}>Stok Item</span>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <span style={{fontWeight:\"bold\"}}>Unit Transfer</span>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <span style={{fontWeight:\"bold\"}}>Satuan Transfer</span>\r\n                </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                    <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmBarang\"\r\n                        value={this.state.prmBarang}\r\n                        options={this.state.masterBarangList}\r\n                        onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                        placeholder=\"Pilih Barang\"\r\n                    />\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    {this.state.prmBarang.qty_in_stok_toshow !== undefined &&\r\n                        <span style={{fontWeight:\"bold\"}}>{`${this.state.prmBarang.qty_in_stok_toshow} ${this.state.prmBarang.unit}.${this.state.prmBarang.satuan}`}</span>\r\n                    }\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <InputGroup>\r\n                    <Input disabled={this.state.prmBarang.satuan == undefined?true:false} type=\"number\" name=\"tambahunitbarang\" id=\"tambahunitbarang\" value={this.state.tambahqtyUnit} onChange={this.handleChangeunitTransfer} min=\"0\" />\r\n                    <InputGroupAddon addonType=\"append\">\r\n                        <InputGroupText><span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.unit == undefined?\"---\":this.state.prmBarang.unit}</span></InputGroupText>\r\n                    </InputGroupAddon>\r\n                    </InputGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <InputGroup>\r\n                    <Input disabled={this.state.prmBarang.satuan == undefined?true:false} type=\"number\" name=\"tambahsatuanqtybarang\" id=\"tambahsatuanqtybarang\" value={this.state.tambahqtySatuan} onChange={this.handleChangesatuanTransfer} min=\"0\" />\r\n                    <InputGroupAddon addonType=\"append\">\r\n                        <InputGroupText><span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.satuan == undefined?\"---\":this.state.prmBarang.satuan}</span></InputGroupText>\r\n                    </InputGroupAddon>\r\n                    </InputGroup>\r\n                </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button block={true} color=\"success\" onClick={() => this.addData()}>\r\n                    Add\r\n                    </Button>\r\n                </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY TRANSFER</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qtyToShow}</span></Col>\r\n                    <Col xs=\"2\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Transfer Out</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nomor_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.tanggal_kirim_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Pengirim</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_pengirim} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Penerima</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_penerima} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Status Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.between_transfer_state} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              {\r\n                this.state.detailDataTO.between_transfer_state == \"RECEIVED\" ?\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                  <FormGroup>\r\n                    <Label>Tanggal Receive</Label>\r\n                    <Input type=\"text\" value={this.state.detailDataTO.tanggal_terima_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                  </FormGroup>\r\n                </Col>\r\n                :\"\"\r\n              }\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataTO.note_transfer} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataTOD.length > 0 && this.state.dataTOD.map((dataTOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataTOD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Transfer Out List</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataTransferOut}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(transferOut));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\betweenTransferIn.js",["449","450","451","452","453","454","455","456"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass transferIn extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataTIN:[],\r\n      dataTOD:[],\r\n      detailDataTO:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Terima transfer ini\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferinData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTIN: result.data.dataTransferin,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getTransferinData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTIN: result.data.dataTransferin,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodeTO: data.kode_between_transfer\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailTransferoutData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataTOD:result.data.result,\r\n        prmModaledit: true,\r\n        detailDataTO:data\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\",\r\n      dataTOD:[],\r\n      detailDataTO:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Terima transfer ini\"\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  handleChangeDataOrderD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataTOD\r\n    daftarBarang[IdData].qty_receive=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataTOD: daftarBarang\r\n    });\r\n  }\r\n  terimaPO = () => {\r\n    const dataToSend = {\r\n        KODEEPOH: this.state.detailDataTO.kode_purchase_order_h,\r\n        USER:this.props.userinfo.id_user,\r\n        dataTOD:this.state.dataTOD\r\n    };\r\n    console.log(dataToSend);\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receivePO`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        alert(\"PO berhasil diterima\")\r\n        await this.modalEditClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n  }\r\n  updateData = () => {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      ID:this.state.detailDataTO.kode_between_transfer,\r\n      USER:this.props.userinfo.id_user,\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receiveTransferOut`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Terima transfer ini\"\r\n      });\r\n      alert(\"Transfer out ini berhasil di receive\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Transfer Out',\r\n        selector: 'nomor_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Transfer Out',\r\n        selector: 'tanggal_kirim_between_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet Tujuan Pengiriman',\r\n        selector: 'nama_outlet_penerima',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status Transfer Out',\r\n        selector: 'between_transfer_state',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note',\r\n        selector: 'note_transfer',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Transfer In</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nomor_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.tanggal_kirim_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Pengirim</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_pengirim} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Outlet Penerima</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.nama_outlet_penerima} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Status Transfer Out</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataTO.between_transfer_state} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              {\r\n                this.state.detailDataTO.between_transfer_state == \"RECEIVED\" ?\r\n                <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                  <FormGroup>\r\n                    <Label>Tanggal Receive</Label>\r\n                    <Input type=\"text\" value={this.state.detailDataTO.tanggal_terima_between_transfer} onChange={this.handleChange} disabled={true} />\r\n                  </FormGroup>\r\n                </Col>\r\n                :\"\"\r\n              }\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataTO.note_transfer} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataTOD.length > 0 && this.state.dataTOD.map((dataTOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataTOD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataTOD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {\r\n              this.state.detailDataTO.between_transfer_state == \"OPEN\" ?\r\n              <Row>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                  <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan mereceive order ini ?')) this.updateData() } }>\r\n                    <ScaleLoader\r\n                      height={18}\r\n                      width={4}\r\n                      radius={2}\r\n                      margin={2}\r\n                      color={'#FFFFFF'}\r\n                      loading={this.state.buttonEditPrm}\r\n                    />\r\n                    {this.state.buttonEditText}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              :\"\"\r\n            }\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Transfer In List</span>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataTIN}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(transferIn));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\sales.js",["457","458","459","460","461","462","463","464"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"../../node_modules/react-datepicker/dist/react-datepicker.css\";\r\nimport '../../node_modules/react-datepicker/dist/react-datepicker-cssmodules.css';\r\n\r\nclass sales extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataSalesH:[],\r\n      dataSalesD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailData:\"\",\r\n      editNote:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmaddPLU:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahidPLU:\"\",\r\n      tambahnamaPLU:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtyPLU:\"\",\r\n      listAddBarangHasil:[],\r\n      // sales new state\r\n      tanggalSales:\"\",\r\n      prmInventory:[],\r\n      prmPLUD:[],\r\n      tempPLUD:[],\r\n      prmFormAddSales:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getSalesH`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataSalesH: result.data.dataSalesH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getSalesH`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataSalesH: result.data.dataSalesH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getSalesForm`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangHasilList: result.data.dataMasterPLU,\r\n        prmPLUD: result.data.dataPLUD,\r\n        prmInventory: result.data.dataInventory\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmaddPLU:\"\",\r\n      tambahidPLU:\"\",\r\n      tambahnamaPLU:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtyPLU:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmaddPLU:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahidPLU:\"\",\r\n      tambahnamaPLU:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtyPLU:\"\",\r\n      listAddBarangHasil:[],\r\n      tanggalSales:\"\",\r\n      prmInventory:[],\r\n      prmPLUD:[],\r\n      tempPLUD:[],\r\n      prmFormAddSales:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDSALES: data.id_sales_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getSalesD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataSalesD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailData:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataSalesD:[],\r\n      dataProduksiSisaD:[],\r\n      dataProduksiHasilD:[],\r\n      detailData:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Selesaikan proses ini\",\r\n      editNote:\"\"\r\n    });\r\n  }\r\n  updateData = () => {\r\n    const dataToSend = {\r\n      COST:this.state.dataSalesD[0].cost_satuan,\r\n      IDRAWPROCESSH:this.state.detailData.kode_raw_processing_h,\r\n      NOTE:this.state.editNote,\r\n      FINISHEDGOODS:this.state.dataProduksiHasilD,\r\n      USER:this.props.userinfo.id_user,\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/rawProcessCompletion`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Selesaikan proses ini\",\r\n      });\r\n      alert(\"Raw process berhasil di tutup\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = async () => {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    let salesDate = moment(this.state.tanggalSales).format(\"YYYY-MM-DD\")\r\n    let dataSalesEnd = this.rubahDataSales(this.state.tempPLUD)\r\n    await this.setState({\r\n      ...this.state,\r\n      prmFormAddSales:[]\r\n    });\r\n    await this.cekKetersediaanStok()\r\n    const dataToSend = {\r\n        TANGGALSALES: salesDate,\r\n        USER:this.props.userinfo.id_user,\r\n        ADDDATAPLU: this.state.listAddBarangHasil,\r\n        ADDDATASALES: dataSalesEnd,\r\n        OUTLET: prmOUTLET\r\n    };\r\n    if (dataToSend.TANGGALSALES == \"\"){\r\n      alert(\"Tanggal sales tidak boleh kosong\")\r\n    } else if (this.state.listAddBarangHasil.length < 1){\r\n      alert(\"Data item sales tidak boleh kosong\")\r\n    } else {\r\n      this.state.prmFormAddSales.length > 0 ?\r\n      alert(`Stok ${this.state.prmFormAddSales.length > 0 && this.state.prmFormAddSales.map((prmStokAlert,index) =>`${prmStokAlert.nama_barang}`)} kurang`)\r\n      :\r\n      this.prosesSubmitData(dataToSend)\r\n    }\r\n  }\r\n  prosesSubmitData = async (data) => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonAddPrm:true,\r\n      buttonAddText:\"\"\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addSales`, data, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:false,\r\n        buttonAddText:\"Save\",\r\n      });\r\n      alert(\"Data sales berhasil Diproses\")\r\n      await this.modalAddClose()\r\n      window.open(`http://localhost:3338/transferOutPrint?ID=${result.data.idSalesH}`, \"_blank\")\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmaddPLU: value,\r\n      tambahidPLU:value.value,\r\n      tambahnamaPLU:value.label\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahidPLU === \"\"){\r\n      alert(\"Item tidak boleh kosong\")\r\n    } else if(this.state.tambahqtyPLU === \"\"){\r\n      alert(\"Qty tidak boleh kosong\")\r\n    }  else {\r\n        let daftarBarang = this.state.listAddBarangHasil\r\n        let resultChecked = daftarBarang.find(o => o.id_plu === `${this.state.tambahidPLU}`);\r\n        if(resultChecked===undefined){\r\n          let dataTopush = {id_plu:`${this.state.prmaddPLU.id_plu}`,nomor_plu:`${this.state.prmaddPLU.nomor_plu}`,nama_plu:`${this.state.prmaddPLU.nama_plu}`,qty:`${this.state.tambahqtyPLU}`}\r\n          await daftarBarang.push(dataTopush)\r\n          await this.buatArrayPLUD(this.state.prmaddPLU.id_plu,this.state.tambahqtyPLU)\r\n          this.setState({\r\n              ...this.state,\r\n              listAddBarangHasil: daftarBarang,\r\n              tambahidPLU:\"\",\r\n              tambahqtyPLU:\"\",\r\n              prmaddPLU:\"\"\r\n          });\r\n        } else {\r\n          alert(\"Data PLU sudah ada di list item sales\")\r\n          // let indexArray = daftarBarang.findIndex(x => x.id_plu === `${this.state.tambahidPLU}`);\r\n          // let qtyAwal = daftarBarang[indexArray].qty\r\n          // let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtyPLU)\r\n          // daftarBarang[indexArray].qty=qtyAkhir\r\n          this.setState({\r\n            ...this.state,\r\n            tambahidPLU:\"\",\r\n            tambahqtyPLU:\"\",\r\n            prmaddPLU:\"\"\r\n          });\r\n        }\r\n    }\r\n  }\r\n  buatArrayPLUD = (key,prmQty) =>  {\r\n    let dataFiltered =  this.state.prmPLUD.filter(function(data) {\r\n      return data.id_plu == key;\r\n    });\r\n    let dataTemp = this.state.tempPLUD\r\n    for(let i1=0;i1<dataFiltered.length;i1++){\r\n      dataTemp.push({\r\n        id_plu:dataFiltered[i1].id_plu,\r\n        id_plu_d:dataFiltered[i1].id_plu_d,\r\n        kode_barang:dataFiltered[i1].kode_barang,\r\n        nama_barang:dataFiltered[i1].nama_barang,\r\n        qty:`${parseInt(dataFiltered[i1].qty)*parseInt(prmQty)}`\r\n      })\r\n    }\r\n    this.setState({\r\n      ...this.state,\r\n      tempPLUD:dataTemp\r\n    });\r\n  }\r\n  hapusArrayPLUD = (key) =>  {\r\n    let dataTofilter = this.state.tempPLUD\r\n    let dataFiltered =  dataTofilter.filter(function(data) {\r\n      return data.id_plu != key.id_plu;\r\n    });\r\n    let dataTofilter2 = this.state.prmFormAddSales\r\n    let dataFiltered2 =  dataTofilter2.filter(function(data) {\r\n      return data.kode_barang != key.kode_barang;\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      tempPLUD:dataFiltered,\r\n      prmFormAddSales:dataFiltered2\r\n    });\r\n  }\r\n  cekKetersediaanStok = async () =>  {\r\n    let inventoryList = this.state.prmInventory\r\n    let prmStokAlert = this.state.prmFormAddSales\r\n    let dataFiltered=this.state.tempPLUD.filter((v,i,a)=>a.findIndex(t=>(t.kode_barang === v.kode_barang))===i)\r\n    let dataCekTempPLUD = []\r\n    for(let i1=0;i1<dataFiltered.length;i1++){\r\n      let dataToshow =  this.state.tempPLUD.filter(function(dataFilter) {\r\n          return dataFilter.kode_barang == dataFiltered[i1].kode_barang;\r\n      });\r\n      let qtyData = 0\r\n      for(let i2=0;i2<dataToshow.length;i2++){\r\n        let qtyAdd = qtyData+parseInt(dataToshow[i2].qty)\r\n        qtyData = qtyAdd\r\n      }\r\n      dataCekTempPLUD.push({\r\n        id_plu:dataFiltered[i1].id_plu,\r\n        id_plu_d:dataFiltered[i1].id_plu_d,\r\n        kode_barang:dataFiltered[i1].kode_barang,\r\n        nama_barang:dataFiltered[i1].nama_barang,\r\n        qty:qtyData\r\n      })\r\n      dataToshow = []\r\n      qtyData = 0\r\n    }\r\n    for(let i3=0;i3<dataCekTempPLUD.length;i3++){\r\n      let dataToshow =  inventoryList.filter(function(dataFilter) {\r\n          return dataFilter.kode_barang == dataCekTempPLUD[i3].kode_barang;\r\n      });\r\n      dataToshow.length > 0 ?\r\n        parseInt(dataToshow[0].totalQty) < parseInt(dataCekTempPLUD[i3].qty) &&\r\n        prmStokAlert.push({\r\n          id_plu:dataCekTempPLUD[i3].id_plu,\r\n          id_plu_d:dataCekTempPLUD[i3].id_plu_d,\r\n          kode_barang:dataCekTempPLUD[i3].kode_barang,\r\n          nama_barang:dataFiltered[i3].nama_barang,\r\n          minQty:parseInt(dataCekTempPLUD[i3].qty)-parseInt(dataToshow[0].totalQty)\r\n        })\r\n      :\r\n        prmStokAlert.push({\r\n          id_plu:dataCekTempPLUD[i3].id_plu,\r\n          id_plu_d:dataCekTempPLUD[i3].id_plu_d,\r\n          kode_barang:dataCekTempPLUD[i3].kode_barang,\r\n          nama_barang:dataFiltered[i3].nama_barang,\r\n          minQty:dataCekTempPLUD[i3].qty\r\n        })\r\n    }\r\n    this.setState({\r\n      ...this.state,\r\n      prmFormAddSales:prmStokAlert\r\n    });\r\n    \r\n  }\r\n  rubahDataSales = (dataSalesRaw) =>  {\r\n    let dataFiltered=dataSalesRaw.filter((v,i,a)=>a.findIndex(t=>(t.kode_barang === v.kode_barang))===i)\r\n    let dataHasilConvert = []\r\n    for(let i1=0;i1<dataFiltered.length;i1++){\r\n      let dataToshow =  this.state.tempPLUD.filter(function(dataFilter) {\r\n          return dataFilter.kode_barang == dataFiltered[i1].kode_barang;\r\n      });\r\n      let qtyData = 0\r\n      for(let i2=0;i2<dataToshow.length;i2++){\r\n        let qtyAdd = qtyData+parseInt(dataToshow[i2].qty)\r\n        qtyData = qtyAdd\r\n      }\r\n      dataHasilConvert.push({\r\n        id_plu:dataFiltered[i1].id_plu,\r\n        id_plu_d:dataFiltered[i1].id_plu_d,\r\n        kode_barang:dataFiltered[i1].kode_barang,\r\n        nama_barang:dataFiltered[i1].nama_barang,\r\n        qty:qtyData\r\n      })\r\n      dataToshow = []\r\n      qtyData = 0\r\n    }\r\n    return dataHasilConvert\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await this.hapusArrayPLUD(daftarBarang[keyArray])\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[],\r\n      prmPlanProduksi:true\r\n    });\r\n  }\r\n  cekPlanProduksi = () =>  {\r\n    let dataToCek = this.state.listAddBarangPakai\r\n    let panjangData = this.state.listAddBarangPakai.length\r\n    for(let i=0;i<panjangData;i++){\r\n        let qtyReq=dataToCek[i].qty\r\n        let qtyInStok=dataToCek[i].qty_in_stok\r\n        if (parseInt(qtyInStok)<parseInt(qtyReq)){\r\n            this.setState({\r\n                ...this.state,\r\n                prmPlanProduksi:false\r\n            });\r\n        }\r\n    }\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    // let maxSend = daftarBarang[IdData].qty_in_inventory\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiHasilD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.listAddBarangSisa\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      listAddBarangSisa: daftarBarang\r\n    });\r\n  }\r\n  datepickerHandleChange = date => {\r\n    this.setState({\r\n      ...this.state,\r\n      tanggalSales: date\r\n    });\r\n  };\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Sales',\r\n        selector: 'nomor_sales',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Sales',\r\n        selector: 'tanggal_sales',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Sales input form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal Sales</Label>\r\n                  <br></br>\r\n                  <DatePicker\r\n                    selected={this.state.tanggalSales}\r\n                    onChange={this.datepickerHandleChange}\r\n                    dateFormat=\"dd-MMMM-yyyy\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row> */}\r\n            {/* hasil produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>ITEM SALES</h3>\r\n                </Col>\r\n                </Row>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"10\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmaddPLU\">Item List</Label>\r\n                        <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmaddPLU\"\r\n                        value={this.state.prmaddPLU}\r\n                        options={this.state.masterBarangHasilList}\r\n                        onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                        placeholder=\"Select an item\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmaddPLU\">Qty Sales</Label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          name=\"tambahqtyPLU\"\r\n                          id=\"tambahqtyPLU\"\r\n                          value={this.state.tambahqtyPLU}\r\n                          onChange={this.handleChange}\r\n                          placeholder=\"Qty\"\r\n                          min=\"1\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button color=\"success\" block={true} onClick={() => this.addDataHasil()}>\r\n                    <ScaleLoader\r\n                        height={18}\r\n                        width={4}\r\n                        radius={2}\r\n                        margin={2}\r\n                        color={'#FFFFFF'}\r\n                        loading={this.state.buttonAddBarangHasilPrm}\r\n                    />\r\n                    {this.state.buttonAddBarangHasilText}\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>NOMOR PLU</span></Col>\r\n                    <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>NAMA PLU</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                    <Row key={index}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nomor_plu}</span></Col>\r\n                        <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_plu}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                        <Col xs=\"1\">\r\n                        <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                        </Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* hasil produksi section */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" \r\n            onClick=\r\n            {(e) => { if (window.confirm('Stok akan terpotong setelah sales di proses, apakah anda yakin akan memproses sales ini ?')) this.submitData(e) } }\r\n            >\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail sales</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor Sales</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailData.nomor_sales} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal Sales</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailData.tanggal_sales} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>ITEM SALES LIST</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"3\"><span style={{fontWeight:\"bold\"}}>NOMOR PLU</span></Col>\r\n                  <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>NAMA PLU</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataSalesD.length > 0 && this.state.dataSalesD.map((dataSalesD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"3\"><span style={{fontWeight:\"bold\"}}>{dataSalesD.nomor_plu}</span></Col>\r\n                    <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>{dataSalesD.nama_plu}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataSalesD.qty}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Sales</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataSalesH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(sales));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\report.js",["465","466","467","468","469"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n// import scrollToComponent from 'react-scroll-to-component';\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Row,\r\n  Col\r\n} from \"reactstrap\";\r\nimport Navbarpage from \"./navbar\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\n\r\nclass reportPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        prmModalInventoryBreakdown:false,\r\n    };\r\n  }\r\n  // inventory breakdown function\r\n  modalCurrentStockOpen = () =>  {\r\n    this.setState({\r\n        ...this.state,\r\n        prmModalInventoryBreakdown: true\r\n    });\r\n  }\r\n  modalCurrentStockClose = () =>  {\r\n    this.setState({\r\n        ...this.state,\r\n        prmModalInventoryBreakdown: false\r\n    });\r\n  }\r\n  // inventory breakdown function\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModalInventoryBreakdown} backdrop={\"static\"} size=\"xl\">\r\n            <ModalHeader toggle={() => this.modalCurrentStockClose()}>Current stock</ModalHeader>\r\n            <ModalBody>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n            <Button color=\"success\" onClick={() => window.open(\"http://localhost:3000/testreport\", \"_blank\")}>Open Report</Button>\r\n            <Button color=\"danger\" onClick={() => this.modalCurrentStockClose()}>Cancel</Button>\r\n            </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <div className=\"card\" style={{marginTop:15}}>\r\n                  <div className=\"card-header\">\r\n                    <Row>\r\n                      <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                        <span style={{fontWeight:\"bold\"}}>Report list</span>\r\n                      </Col>\r\n                    </Row>\r\n                  </div>\r\n                  <div className=\"card-body\" style={{minHeight:\"55vh\"}}>\r\n                    <Button color=\"secondary\" block={true} onClick={() => this.modalCurrentStockOpen()}>Current stock</Button>\r\n                    <Button color=\"secondary\" block={true} onClick={() => window.open(\"http://localhost:3000/purchaseOrderPrint\", \"_blank\")}>Report 2</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 3</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 4</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 5</Button>\r\n                    <Button color=\"secondary\" block={true}>Report 6</Button>\r\n                  </div>\r\n                </div>\r\n              </Col>\r\n            </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    aksespage: state.reducer.aksespage,\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(reportPage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\user.js",["470","471"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\nimport dataDummy from './dummyData'\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport Select from 'react-select';\r\n\r\nclass user extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      // page state\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      masterUserList:[],\r\n      // add state\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      addUserList:[],\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n      // edit state\r\n      prmModaledit:false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeuser:\"\",\r\n      editnikuser:\"\",\r\n      editnamauser:\"\",\r\n      editaksesuser:\"\",\r\n      editpassuser:\"\",\r\n    };\r\n  }\r\n  // page master function\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getUser`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterUserList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getUser`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterUserList: result.data.result,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  // add data function\r\n  modalAddOpen = async () =>  {\r\n    await axios\r\n    .get(`${localStorage.getItem(\"APIROUTE\")}/hris`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        addUserList: result.data.dataToShow\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: true,\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      addUserList:[],\r\n      prmAddUser:\"\",\r\n      tambahNikUser:\"\",\r\n      tambahNamaUser:\"\",\r\n      tambahAksesUser:\"\",\r\n      tambahPassUser:\"\",\r\n    });\r\n  }\r\n  addData = () => {\r\n    const dataToSend = {\r\n      NIK:this.state.tambahNikUser,\r\n      NAMA:this.state.tambahNamaUser,\r\n      AKSES:this.state.tambahAksesUser,\r\n      PASS:this.state.tambahPassUser\r\n    };\r\n    if(dataToSend.AKSES === \"\" || dataToSend.PASS === \"\"){\r\n      alert(\"Akses dan password user tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addUser`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedAddUser = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmAddUser: value,\r\n      tambahNikUser:value.value,\r\n      tambahNamaUser:value.nama\r\n    });\r\n  }\r\n  // edit data function\r\n  modalEditOpen = (data) =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      editkodeuser:data.id_user,\r\n      editnikuser:data.nik,\r\n      editnamauser:data.nama_user,\r\n      editaksesuser:data.akses_page,\r\n      editpassuser:data.pass_user\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editkodeuser:\"\",\r\n      editnikuser:\"\",\r\n      editnamauser:\"\",\r\n      editaksesuser:\"\",\r\n      editpassuser:\"\",\r\n    });\r\n  }\r\n  updateData = () => {\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    const dataToSend = {\r\n      ID: this.state.editkodeuser,\r\n      AKSES: this.state.editaksesuser,\r\n      PASS: this.state.editpassuser\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/editUser`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Save\"\r\n      });\r\n      alert(\"data berhasil diupdate\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-pencil-square-o fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'NIK',\r\n        selector: 'nik',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nama user',\r\n        selector: 'nama_user',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Akses',\r\n        selector: 'akses_page',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Tambah user</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"prmAddUser\">Data User</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmAddUser\"\r\n                    value={this.state.prmAddUser}\r\n                    options={this.state.addUserList}\r\n                    onChange={this.onSelectChangedAddUser.bind(this)}\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahAksesUser\">Akses</Label>\r\n                    <Input type=\"select\" name=\"tambahAksesUser\" id=\"tambahAksesUser\" value={this.state.tambahAksesUser}  onChange={this.handleChange}>\r\n                      <option value=\"\">Pilih Akses User</option>\r\n                      <option value=\"MASTER USER\">MASTER USER</option>\r\n                      <option value=\"COST CONTROL\">COST CONTROL</option>\r\n                      <option value=\"PURCHASING\">PURCHASING</option>\r\n                      <option value=\"ADMIN\">ADMIN</option>\r\n                      <option value=\"STORE MANAGER\">STORE MANAGER</option>\r\n                    </Input>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"tambahPassUser\">Password</Label>\r\n                  <Input type=\"text\" name=\"tambahPassUser\" id=\"tambahPassUser\" value={this.state.tambahPassUser} onChange={this.handleChange} placeholder=\"Password\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.addData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"}>\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Edit master barang</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnikuser\">Nik</Label>\r\n                  <Input type=\"text\" name=\"editnikuser\" id=\"editnikuser\" value={this.state.editnikuser} onChange={this.handleChange} placeholder=\"Nik\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editnamauser\">Nama user</Label>\r\n                  <Input type=\"text\" name=\"editnamauser\" id=\"editnamauser\" value={this.state.editnamauser} onChange={this.handleChange} placeholder=\"Nama user\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editaksesuser\">Akses</Label>\r\n                    <Input type=\"select\" name=\"editaksesuser\" id=\"editaksesuser\" value={this.state.editaksesuser}  onChange={this.handleChange}>\r\n                      <option value=\"\">Pilih Akses User</option>\r\n                      <option value=\"MASTER USER\">MASTER USER</option>\r\n                      <option value=\"COST CONTROL\">COST CONTROL</option>\r\n                      <option value=\"PURCHASING\">PURCHASING</option>\r\n                      <option value=\"ADMIN\">ADMIN</option>\r\n                      <option value=\"STORE MANAGER\">STORE MANAGER</option>\r\n                    </Input>\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <FormGroup>\r\n                  <Label for=\"editpassuser\">Password</Label>\r\n                  <Input type=\"text\" name=\"editpassuser\" id=\"editpassuser\" value={this.state.editpassuser} onChange={this.handleChange} placeholder=\"Password\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.updateData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonEditPrm}\r\n              />\r\n              {this.state.buttonEditText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalEditClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>User Management</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.masterUserList}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    anbyaBoilerplate: state.reducer.anbyaBoilerplate\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(user));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\pembelian.js",["472","473","474","475","476"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass pembelian extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      listAddBarang:[],\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      dataPembelianH:[],\r\n      dataPembelianD:[],\r\n      detailDataOrder:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Receive order ini\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getPembelianH`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPembelianH: result.data.dataPembelianH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = async () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOrderData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPembelianH: result.data.dataPembelianH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddOrder`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        prmOutlet: result.data.dataOutlet[0],\r\n        masterBarangList: result.data.dataMasterBarang\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodePembelianH: data.kode_pembelian_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailPembelian`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPembelianD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataOrder:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Receive order ini\",\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\" || this.state.tambahqtybarang === \"\" || this.state.tambahhargabarang === \"\"){\r\n      alert(\"barang, qty dan harga barang tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarang}`,nama_barang:`${this.state.tambahnamabarang}`,qty:`${this.state.tambahqtybarang}`,satuan:`${this.state.tambahsatuanbarang}`,harga:`${this.state.tambahhargabarang}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      } else {\r\n        alert(\"Item sudah ada di list item pembelian\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.nama_barang,\r\n      tambahsatuanbarang:value.satuan\r\n    });\r\n  }\r\n  submitData = () => {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n        IDOUTLET: prmOUTLET,\r\n        TANGGALBELI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        ADDDATA: this.state.listAddBarang\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if(dataToSend.IDOUTLET === \"\"){\r\n      alert(\"data outlet tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    }else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addDataPembelian`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        // window.open(\"http://google.com\", \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  updateData = () => {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      IDDelivery:this.state.detailDataOrder.kode_delivery_order,\r\n      IDOrder:this.state.detailDataOrder.kode_order_h,\r\n      USER:this.props.userinfo.id_user,\r\n      PRMOUTLET:PRMOUTLET\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receiveOrder`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Receive order ini\",\r\n      });\r\n      alert(\"Order ini berhasil di receive\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor pembelian',\r\n        selector: 'nomor_pembelian',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal beli',\r\n        selector: 'tanggal_beli',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pembelian</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  {/* <Label for=\"detailbuatpo\">Outlet yang mengajukan order</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOutlet\"\r\n                    value={this.state.prmOutlet}\r\n                    options={this.state.masterOutletList}\r\n                    onChange={this.onSelectChangedMasterOutlet.bind(this)}\r\n                    placeholder=\"Pilih Outlet yang mengajukan order\"\r\n                  /> */}\r\n                  <Label for=\"detailbuatpo\">Outlet</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.prmOutlet.label} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal pembelian</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                    <Label for=\"detailbuatpo\">Item</Label>\r\n                    <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmBarang\"\r\n                    value={this.state.prmBarang}\r\n                    options={this.state.masterBarangList}\r\n                    onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                    placeholder=\"Pilih Barang\"\r\n                    />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <FormGroup>\r\n                    <Label for=\"detailbuatpo\">Qty</Label>\r\n                    <Input type=\"number\" name=\"tambahqtybarang\" id=\"tambahqtybarang\" value={this.state.tambahqtybarang} onChange={this.handleChange} placeholder=\"Qty\" min=\"0\" />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <FormGroup>\r\n                    <Label for=\"satuan\">Satuan</Label>\r\n                    <Input type=\"text\" name=\"satuan\" id=\"satuan\" value={this.state.prmBarang.satuan == undefined?\"---\":this.state.prmBarang.satuan} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <FormGroup>\r\n                    <Label for=\"detailbuatpo\">Harga</Label>\r\n                    <Input type=\"number\" name=\"tambahhargabarang\" id=\"tambahhargabarang\" value={this.state.tambahhargabarang} onChange={this.handleChange} placeholder=\"Harga\" min=\"0\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addData()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HARGA</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.satuan}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.harga}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Pembelian</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor Pembelian</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.nomor_pembelian} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal Pembelian</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.tanggal_beli} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HARGA</span></Col>\r\n            </Row>\r\n            <Row style={{height:\"30vh\",overflowX:\"hidden\",overflowY:\"scroll\"}}>\r\n              <Col>\r\n                {this.state.dataPembelianD.length > 0 && this.state.dataPembelianD.map((dataPembelianD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.qty}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.satuan_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPembelianD.harga}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {\r\n              this.state.detailDataOrder.status_order == \"SEND\" ?\r\n              <Row>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                  <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan mereceive order ini ?')) this.updateData() } }>\r\n                    <ScaleLoader\r\n                      height={18}\r\n                      width={4}\r\n                      radius={2}\r\n                      margin={2}\r\n                      color={'#FFFFFF'}\r\n                      loading={this.state.buttonEditPrm}\r\n                    />\r\n                    {this.state.buttonEditText}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              :\"\"\r\n            }\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>List Pembelian</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataPembelianH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(pembelian));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\receivepo.js",["477","478","479","480","481","482"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass receivepopage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmVendor:\"\",\r\n      masterVendorList:[],\r\n      tambahkodevendor:\"\",\r\n      listAddBarang:[],\r\n      detailponumber:\"\",\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      totalPembelian:0,\r\n      dataPOH:[],\r\n      dataPOD:[],\r\n      detailDataPO:\"\"\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getOpenPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getOpenPOData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOH: result.data.dataPOH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodePOH: data.kode_purchase_order_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailPOData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataPOD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataPO:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\",\r\n      dataPOD:[],\r\n      detailDataPO:\"\"\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  handleChangeDataOrderD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataPOD\r\n    daftarBarang[IdData].qty_receive=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataPOD: daftarBarang\r\n    });\r\n  }\r\n  terimaPO = () => {\r\n    const dataToSend = {\r\n        KODEEPOH: this.state.detailDataPO.kode_purchase_order_h,\r\n        USER:this.props.userinfo.id_user,\r\n        DATAPOD:this.state.dataPOD\r\n    };\r\n    console.log(dataToSend);\r\n    axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receivePO`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        alert(\"PO berhasil diterima\")\r\n        await this.modalEditClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor PO',\r\n        selector: 'nomor_po',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Vendor',\r\n        selector: 'nama_vendor',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail PO</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nomor_po} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Tanggal buat PO</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.tanggal_buat} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Vendor</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataPO.nama_vendor} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n              <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY Received</span></Col>\r\n              <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>UNIT</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataPOD.length > 0 && this.state.dataPOD.map((dataPOD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataPOD.kode_barang}</span></Col>\r\n                    <Col xs=\"7\"><span style={{fontWeight:\"bold\"}}>{dataPOD.nama_barang}</span></Col>\r\n                    <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{dataPOD.qty}</span></Col>\r\n                    <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataPOD.qty_receive} onChange={this.handleChangeDataOrderD} min=\"0\" max={`${dataPOD.qty}`} />\r\n                    </Col>\r\n                    <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{dataPOD.unit_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            <Row style={{paddingBottom:30}}>\r\n              <Col>\r\n                <button className=\"my-btn full-widht\" onClick={(e) => { if (window.confirm('Apakah anda yakin akan menerima PO ini ?')) this.terimaPO(e) } }>Terima PO ini</button>\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Daftar PO yang belum di terima</span>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataPOH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(receivepopage));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\order.js",["483","484","485","486","487","488","489","490","491","492","493","494","495","496","497","498","499","500","501"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label,\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  InputGroupText\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass order extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:0,\r\n      tambahunitqtybarang:0,\r\n      tambahsatuanqtybarang:0,\r\n      prmModaledit:false,\r\n      prmBarang:\"\",\r\n      masterBarangList:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      listAddBarang:[],\r\n      detailbuatpo:\"\",\r\n      dateForm:\"\",\r\n      dataOrderH:[],\r\n      dataOrderD:[],\r\n      detailDataOrder:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Receive order ini\",\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOrderData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderH: result.data.dataOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = async () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getOrderData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderH: result.data.dataOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    let prmOUTLET = localStorage.getItem(\"outletID\")\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    const dataToSend = {\r\n      OUTLET: prmOUTLET\r\n    };\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getFormAddOrder`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOutletList: result.data.dataOutlet,\r\n        masterBarangList: result.data.dataMasterBarang\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      prmBarang:\"\",\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      listAddBarang:[],\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:0,\r\n      tambahunitqtybarang:0,\r\n      tambahsatuanqtybarang:0,\r\n      listAddBarang:[],\r\n      prmOutlet:\"\",\r\n      masterOutletList:[],\r\n      tambahkodeoutlet:\"\",\r\n      dateForm:\"\"\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      kodeOrderH: data.kode_order_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailOrderData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderD:result.data.orderList\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataOrder:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Save\",\r\n      editnamabarang:\"\",\r\n      editsatuanbarang:\"\",\r\n      dataToEdit:\"\",\r\n      buttonEditPrm:false,\r\n      buttonEditText:\"Receive order ini\",\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\"){\r\n      alert(\"Item order tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybarang == 0){\r\n      alert(\"Qty order tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.listAddBarang\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let qtyOrder =parseInt(this.state.tambahqtybarang)\r\n        let convertionQtyOrder =parseInt(this.state.prmBarang.conversi)\r\n        let qtyOrderProcessA = Math.floor(qtyOrder/convertionQtyOrder)\r\n        let qtyOrderProcessB = qtyOrder%convertionQtyOrder\r\n        let qtyOrderToShow = qtyOrderProcessA+\".\"+qtyOrderProcessB\r\n        let dataTopush = {\r\n          kode_barang:`${this.state.tambahkodebarang}`,\r\n          nama_barang:`${this.state.tambahnamabarang}`,\r\n          qty:`${this.state.tambahqtybarang}`,\r\n          qtyToShow:`${qtyOrderToShow}`,\r\n          unit:`${this.state.prmBarang.unit}`,\r\n          satuan:`${this.state.prmBarang.satuan}`\r\n        }\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:0,\r\n          tambahunitqtybarang:0,\r\n          tambahsatuanqtybarang:0,\r\n          prmBarang:\"\"\r\n        });\r\n      } else {\r\n        // let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarang}`);\r\n        // let qtyAwal = daftarBarang[indexArray].qty\r\n        // let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarang)\r\n        // daftarBarang[indexArray].qty=qtyAkhir\r\n        alert(\"item sudah ada di daftar order\")\r\n        this.setState({\r\n          ...this.state,\r\n          listAddBarang: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:0,\r\n          tambahunitqtybarang:0,\r\n          tambahsatuanqtybarang:0,\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarang\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarang: daftarBarang\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  onSelectChangedMasterOutlet = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmOutlet: value,\r\n      tambahkodeoutlet:value.value\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahsatuanbarang:value.satuan,\r\n      tambahqtybarang:0,\r\n      tambahunitqtybarang:0,\r\n      tambahsatuanqtybarang:0\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        IDOUTLET: this.state.tambahkodeoutlet,\r\n        TANGGALORDER: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        ADDDATA: this.state.listAddBarang\r\n    };\r\n    const cekAddData = this.state.listAddBarang.length\r\n    if(dataToSend.IDOUTLET === \"\"){\r\n      alert(\"data outlet tidak boleh kosong\")\r\n    } else if (cekAddData < 1){\r\n      alert(\"Data barang tidak boleh kosong\")\r\n    }else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormOrderData`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        // window.open(\"http://google.com\", \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  handleChangeUnitOrder = event =>  {\r\n    let unitOrder = event.target.value==\"\"?0:parseInt(event.target.value)\r\n    let satuanOrder = this.state.tambahsatuanqtybarang==\"\"?0:parseInt(this.state.tambahsatuanqtybarang)\r\n    let newTambahQty=parseInt(satuanOrder)+(parseInt(unitOrder)*parseInt(this.state.prmBarang.conversi))\r\n    this.setState({\r\n      ...this.state,\r\n      tambahqtybarang:newTambahQty,\r\n      tambahunitqtybarang:event.target.value\r\n    });\r\n  }\r\n  handleChangeSatuanOrder = event =>  {\r\n    let maxSatuan = parseInt(this.state.prmBarang.conversi)-1\r\n    if(event.target.value>maxSatuan){\r\n      alert(\"angka yang anda input melebihi batas satuan\")\r\n    } else{\r\n      let unitOrder = this.state.tambahunitqtybarang==\"\"?0:parseInt(this.state.tambahunitqtybarang)\r\n      let satuanOrder = event.target.value==\"\"?0:parseInt(event.target.value)\r\n      let newTambahQty=parseInt(satuanOrder)+(parseInt(unitOrder)*parseInt(this.state.prmBarang.conversi))\r\n      this.setState({\r\n        ...this.state,\r\n        tambahqtybarang:newTambahQty,\r\n        tambahsatuanqtybarang:event.target.value\r\n      });\r\n    }\r\n  }\r\n  updateData = () => {\r\n    let PRMOUTLET = localStorage.getItem(\"outletID\")\r\n    const dataToSend = {\r\n      IDDelivery:this.state.detailDataOrder.kode_delivery_order,\r\n      IDOrder:this.state.detailDataOrder.kode_order_h,\r\n      USER:this.props.userinfo.id_user,\r\n      PRMOUTLET:PRMOUTLET,\r\n      RECEIVEDATA:this.state.dataOrderD\r\n    };\r\n    this.setState({\r\n      ...this.state,\r\n      buttonEditPrm:true,\r\n      buttonEditText:\"\"\r\n    });\r\n    console.log(dataToSend);\r\n    axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/receiveOrder`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then(async result => {\r\n      await this.setState({\r\n        ...this.state,\r\n        buttonEditPrm:false,\r\n        buttonEditText:\"Receive order ini\",\r\n      });\r\n      alert(\"Order ini berhasil di receive\")\r\n      await this.modalEditClose()\r\n      this.refreshPageData()\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n      console.log(this.props);\r\n    });\r\n  }\r\n  handleChangeunitReceive = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataOrderD\r\n    let unitReceive = event.target.value==\"\"?0:parseInt(event.target.value)\r\n    let satuanReceive = daftarBarang[IdData].satuan_qty_receive==\"\"?0:parseInt(daftarBarang[IdData].satuan_qty_receive)\r\n    let cekHasilqty_receive = parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n    if(cekHasilqty_receive>parseInt(daftarBarang[IdData].qty_send)){\r\n      alert(\"qty yang anda input melebihi stok\")\r\n    } else {\r\n        daftarBarang[IdData].unit_qty_receive=event.target.value\r\n        daftarBarang[IdData].qty_receive=parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  handleChangesatuanReceive = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataOrderD\r\n    let maxSatuan = parseInt(daftarBarang[IdData].konversi_barang)-1\r\n    if(event.target.value>maxSatuan){\r\n      alert(\"angka yang anda input melebihi batas satuan\")\r\n    } else{\r\n      let unitReceive = daftarBarang[IdData].unit_qty_receive==\"\"?0:parseInt(daftarBarang[IdData].unit_qty_receive)\r\n      let satuanReceive = event.target.value==\"\"?0:parseInt(event.target.value)\r\n      let cekHasilqty_receive = parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n      if(cekHasilqty_receive>parseInt(daftarBarang[IdData].qty_send)){\r\n        alert(\"qty yang anda input melebihi stok\")\r\n      } else {\r\n        daftarBarang[IdData].satuan_qty_receive=event.target.value\r\n        daftarBarang[IdData].qty_receive=parseInt(satuanReceive)+(parseInt(unitReceive)*parseInt(daftarBarang[IdData].konversi_barang))\r\n        this.setState({\r\n          ...this.state,\r\n          dataOrderD: daftarBarang\r\n        });\r\n      }\r\n    }\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor order',\r\n        selector: 'nomor_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal buat',\r\n        selector: 'tanggal_buat',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet',\r\n        selector: 'nama_outlet',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Status order',\r\n        selector: 'status_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pengajuan order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Outlet yang mengajukan order</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOutlet\"\r\n                    value={this.state.prmOutlet}\r\n                    options={this.state.masterOutletList}\r\n                    onChange={this.onSelectChangedMasterOutlet.bind(this)}\r\n                    placeholder=\"Pilih Outlet yang mengajukan order\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal buat order</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Item order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Unit order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <span style={{fontWeight:\"bold\"}}>Satuan order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <Select\r\n                  className=\"basic-single\"\r\n                  classNamePrefix=\"select\"\r\n                  isClearable={false}\r\n                  isSearchable={true}\r\n                  name=\"prmBarang\"\r\n                  value={this.state.prmBarang}\r\n                  options={this.state.masterBarangList}\r\n                  onChange={this.onSelectChangedMasterBarang.bind(this)}\r\n                  placeholder=\"Pilih Barang\"\r\n                />\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                {/* <Input type=\"number\" name=\"tambahqtybarang\" id=\"tambahqtybarang\" value={this.state.tambahqtybarang} onChange={this.handleChange} placeholder=\"Qty\" min=\"0\" /> */}\r\n                <InputGroup>\r\n                  <Input disabled={this.state.prmBarang.satuan == undefined?true:false} type=\"number\" name=\"tambahunitbarang\" id=\"tambahunitbarang\" value={this.state.tambahunitqtybarang} onChange={this.handleChangeUnitOrder} min=\"0\" />\r\n                  <InputGroupAddon addonType=\"append\">\r\n                    <InputGroupText><span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.unit == undefined?\"---\":this.state.prmBarang.unit}</span></InputGroupText>\r\n                  </InputGroupAddon>\r\n                </InputGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                {/* <span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.satuan == undefined?\"---\":this.state.prmBarang.satuan}</span> */}\r\n                <InputGroup>\r\n                  <Input disabled={this.state.prmBarang.satuan == undefined?true:false} type=\"number\" name=\"tambahsatuanqtybarang\" id=\"tambahsatuanqtybarang\" value={this.state.tambahsatuanqtybarang} onChange={this.handleChangeSatuanOrder} min=\"0\" />\r\n                  <InputGroupAddon addonType=\"append\">\r\n                    <InputGroupText><span style={{fontWeight:\"bold\"}}>{this.state.prmBarang.satuan == undefined?\"---\":this.state.prmBarang.satuan}</span></InputGroupText>\r\n                  </InputGroupAddon>\r\n                </InputGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                <Button block={true} color=\"success\" onClick={() => this.addData()}>\r\n                  Add\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                  <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.listAddBarang.length > 0 && this.state.listAddBarang.map((listAddBarang,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.kode_barang}</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarang.qtyToShow}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{`${listAddBarang.unit}.${listAddBarang.satuan}`}</span></Col>\r\n                    <Col xs=\"1\">\r\n                      <button className=\"myBtn\" onClick={() => this.eraseAddData(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail ORDER</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor order</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.nomor_order} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label>Tanggal buat order</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.tanggal_buat} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Outlet yang mengajukan order</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.nama_outlet} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label>Nomor Delivery order</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.nomor_delivery == \"null\"?\"---\":this.state.detailDataOrder.nomor_delivery} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Label>Tanggal kirim</Label>\r\n                  <Input type=\"text\" value={this.state.detailDataOrder.tanggal_kirim == \"null\"?\"---\":this.state.detailDataOrder.tanggal_kirim} onChange={this.handleChange} disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>REQUEST QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SEND QTY</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>UNIT RECEIVE</span></Col>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN RECEIVE</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataOrderD.length > 0 && this.state.dataOrderD.map((dataOrderD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.kode_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{`${dataOrderD.qty_req_ToShow}/${dataOrderD.unit_barang}.${dataOrderD.satuan_barang}`}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{`${dataOrderD.qty_send_ToShow}/${dataOrderD.unit_barang}.${dataOrderD.satuan_barang}`}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <InputGroup>\r\n                            <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataOrderD.unit_qty_receive} onChange={this.handleChangeunitReceive} min=\"0\" />\r\n                            <InputGroupAddon addonType=\"append\">\r\n                            <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataOrderD.unit_barang}</span></InputGroupText>\r\n                            </InputGroupAddon>\r\n                        </InputGroup>\r\n                    </Col>\r\n                    <Col xs=\"2\">\r\n                        <InputGroup>\r\n                            <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataOrderD.satuan_qty_receive} onChange={this.handleChangesatuanReceive} min=\"0\" max={dataOrderD.konversi_barang-1} />\r\n                            <InputGroupAddon addonType=\"append\">\r\n                            <InputGroupText><span style={{fontWeight:\"bold\"}}>{dataOrderD.satuan_barang}</span></InputGroupText>\r\n                            </InputGroupAddon>\r\n                        </InputGroup>\r\n                    </Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {\r\n              this.state.detailDataOrder.status_order == \"SEND\" ?\r\n              <Row>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                  <Button color=\"success\" block={true} onClick={() => { if (window.confirm('Apakah anda yakin akan mereceive order ini ?')) this.updateData() } }>\r\n                    <ScaleLoader\r\n                      height={18}\r\n                      width={4}\r\n                      radius={2}\r\n                      margin={2}\r\n                      color={'#FFFFFF'}\r\n                      loading={this.state.buttonEditPrm}\r\n                    />\r\n                    {this.state.buttonEditText}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              :\"\"\r\n            }\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>List Order</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataOrderH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(order));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\productout.js",["502"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass productout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaladd:false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Proses delivery order\",\r\n      prmModaledit:false,\r\n      prmOrder:\"\",\r\n      masterOrderList:[],\r\n      tambahkodeOrder:\"\",\r\n      kodeOrderh:\"\",\r\n      dataOrderD:[],\r\n      dateForm:\"\",\r\n      dataDeliveryOrderH:[],\r\n      dataDeliveryOrderD:[],\r\n      detailDataDeliveryOrder:\"\",\r\n      // state detail delivery order\r\n      detailViewOutletTujuan:\"\",\r\n      detailViewNomorDO:\"\",\r\n      detailViewTanggalPengiriman:\"\",\r\n      detailViewNomorOrder:\"\",\r\n      detailViewTanggalOrder:\"\",\r\n      detailViewDataDO:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getDeliveryOrderData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataDeliveryOrderH: result.data.dataDeliveryOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getDeliveryOrderData`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataDeliveryOrderH: result.data.dataDeliveryOrderH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getOrderOption`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterOrderList: result.data.dataToShow\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dataOrderD:[],\r\n      dateForm:dateToForm\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Proses delivery order\",\r\n      prmBarang:\"\",\r\n      masterBarangList: [],\r\n      tambahkodebarang:\"\",\r\n      tambahnamabarang:\"\",\r\n      tambahsatuanbarang:\"\",\r\n      tambahqtybarang:\"\",\r\n      tambahhargabarang:\"\",\r\n      dataOrderD:[],\r\n      prmOrder:\"\",\r\n      masterOrderList:[],\r\n      tambahkodeOrder:\"\",\r\n      dateForm:\"\",\r\n      kodeOrderh:\"\",\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    const dataToSend = {\r\n      KODEDO: data.kode_delivery_order\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDeliveryOrderDetail`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( async result => {\r\n      console.log();\r\n      await this.setState({\r\n        ...this.state,\r\n        prmModaledit: true,\r\n        // state detail delivery order\r\n        detailViewOutletTujuan:result.data.outlet_tujuan,\r\n        detailViewNomorDO:result.data.nomor_delivery_order,\r\n        detailViewTanggalPengiriman:result.data.tanggal_kirim,\r\n        detailViewNomorOrder:result.data.nomor_order,\r\n        detailViewTanggalOrder:result.data.tanggal_order,\r\n        detailViewDataDO:result.data.dataDeliveryOrderD,\r\n      });\r\n      await this.setState({\r\n        ...this.state,\r\n        loadingParam:\"none\"\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      // state detail delivery order\r\n      detailViewOutletTujuan:\"\",\r\n      detailViewNomorDO:\"\",\r\n      detailViewTanggalPengiriman:\"\",\r\n      detailViewNomorOrder:\"\",\r\n      detailViewTanggalOrder:\"\",\r\n      detailViewDataDO:[],\r\n    });\r\n  }\r\n  addData = async () => {\r\n    if(this.state.tambahkodebarang === \"\" || this.state.tambahqtybarang === \"\" || this.state.tambahhargabarang === \"\"){\r\n      alert(\"barang, qty dan harga barang tidak boleh kosong\")\r\n    } else {\r\n      let daftarBarang = this.state.dataOrderD\r\n      let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarang}`);\r\n      if(resultChecked===undefined){\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebarang}`,nama_barang:`${this.state.tambahnamabarang}`,qty:`${this.state.tambahqtybarang}`,satuan:`${this.state.tambahsatuanbarang}`,harga:`${this.state.tambahhargabarang}`}\r\n        await daftarBarang.push(dataTopush)\r\n        await this.setState({\r\n          ...this.state,\r\n          dataOrderD: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n        this.hitungTotal()\r\n      } else {\r\n        let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarang}`);\r\n        let qtyAwal = daftarBarang[indexArray].qty\r\n        let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarang)\r\n        daftarBarang[indexArray].qty=qtyAkhir\r\n        this.setState({\r\n          ...this.state,\r\n          dataOrderD: daftarBarang,\r\n          tambahkodebarang:\"\",\r\n          tambahnamabarang:\"\",\r\n          tambahsatuanbarang:\"\",\r\n          tambahqtybarang:\"\",\r\n          tambahhargabarang:\"\",\r\n          prmBarang:\"\"\r\n        });\r\n      }\r\n    }\r\n  }\r\n  eraseAddData = async (keyArray) => {\r\n    let daftarBarang = this.state.dataOrderD\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      dataOrderD: daftarBarang\r\n    });\r\n    this.hitungTotal()\r\n  }\r\n  // minusOrderData = async (keyArray) => {\r\n  //   let daftarBarang = this.state.dataOrderD\r\n  //   let qtyAwal = daftarBarang[keyArray].qty_send\r\n  //   if(qtyAwal>0){\r\n  //     let qtyAkhir = parseInt(qtyAwal)-1\r\n  //     daftarBarang[keyArray].qty_send=qtyAkhir\r\n  //     this.setState({\r\n  //       ...this.state,\r\n  //       dataOrderD: daftarBarang\r\n  //     });\r\n  //   }\r\n  // }\r\n  // plusOrderData = async (keyArray) => {\r\n  //   let daftarBarang = this.state.dataOrderD\r\n  //   let qtyAwal = daftarBarang[keyArray].qty_send\r\n  //   let qtyAkhir = parseInt(qtyAwal)+1\r\n  //   daftarBarang[keyArray].qty_send=qtyAkhir\r\n  //   this.setState({\r\n  //     ...this.state,\r\n  //     dataOrderD: daftarBarang\r\n  //   });\r\n  // }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  handleChangeDataOrderD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataOrderD\r\n    let maxSend = daftarBarang[IdData].qty_in_inventory\r\n    if(event.target.value > maxSend || event.target.value < 0){\r\n      alert(\"jumlah yang di input melebihi stok\")\r\n    } else {\r\n      daftarBarang[IdData].qty_send=event.target.value\r\n      this.setState({\r\n        ...this.state,\r\n        dataOrderD: daftarBarang\r\n      });\r\n    }\r\n  }\r\n  onSelectChangedMasterOrder = async (value) => {\r\n    const dataToSend = {\r\n      kodeOrderH:value.value\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getDetailOrderData`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        kodeOrderh:value.value,\r\n        prmOrder: value,\r\n        dataOrderD:result.data.result\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  onSelectChangedMasterBarang = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarang: value,\r\n      tambahkodebarang:value.value,\r\n      tambahnamabarang:value.label,\r\n      tambahsatuanbarang:value.satuan\r\n    });\r\n  }\r\n  hitungTotal = () => {\r\n    let daftarBarang = this.state.dataOrderD\r\n    if(daftarBarang.length > 0){\r\n      let totalPembelian = 0\r\n      for(let i=0;i<daftarBarang.length;i++){\r\n        let xAwal = parseInt(totalPembelian)\r\n        let xHarga = parseInt(daftarBarang[i].harga)\r\n        let xQty = parseInt(daftarBarang[i].qty)\r\n        let xPenambah = xHarga * xQty\r\n        totalPembelian = xAwal+xPenambah\r\n      }\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: totalPembelian\r\n      });\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        totalPembelian: 0\r\n      });\r\n    }\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n      TANNGALKIRIM:this.state.dateForm,\r\n      USER:this.props.userinfo.id_user,\r\n      KODEORDER:this.state.kodeOrderh,\r\n      DATAORDERD:this.state.dataOrderD\r\n    };\r\n    if(this.state.prmOrder === \"\"){\r\n      alert(\"Data order tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormDeliveryOrder`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Proses delivery order\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Delivery Order',\r\n        selector: 'nomor_delivery_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Kirim',\r\n        selector: 'tanggal_kirim',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Nomor Order',\r\n        selector: 'nomor_order',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Outlet Tujuan',\r\n        selector: 'outlet_tujuan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Form pembuatan delivery order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal buat delivery order</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat delivery order\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"8\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Daftar order</Label>\r\n                  <Select\r\n                    className=\"basic-single\"\r\n                    classNamePrefix=\"select\"\r\n                    isClearable={false}\r\n                    isSearchable={true}\r\n                    name=\"prmOrder\"\r\n                    value={this.state.prmOrder}\r\n                    options={this.state.masterOrderList}\r\n                    onChange={this.onSelectChangedMasterOrder.bind(this)}\r\n                    placeholder=\"Pilih data order\"\r\n                  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY Req</span></Col>\r\n              <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY Stock</span></Col>\r\n              <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>QTY Send</span></Col>\r\n              <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataOrderD.length > 0 && this.state.dataOrderD.map((dataOrderD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.kode_barang}</span></Col>\r\n                    <Col xs=\"6\"><span style={{fontWeight:\"bold\"}}>{dataOrderD.nama_barang}</span></Col>\r\n                    <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{dataOrderD.qty_req}</span></Col>\r\n                    <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{dataOrderD.qty_in_inventory}</span></Col>\r\n                    <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                      <Input type=\"number\" name={`${index}`} id={`${index}`} value={dataOrderD.qty_send > dataOrderD.qty_in_inventory?0:dataOrderD.qty_send} onChange={this.handleChangeDataOrderD} min=\"0\" max={`${dataOrderD.qty_in_inventory}`} />\r\n                    </Col>\r\n                    <Col xs=\"1\" style={{padding:0,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}><span style={{fontWeight:\"bold\"}}>{dataOrderD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Delivery Order</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Outlet Tujuan</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>: {this.state.detailViewOutletTujuan}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Nomor Order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewNomorOrder}</span>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Nomor DO</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewNomorDO}</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Tanggal Order</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewTanggalOrder}</span>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                <span style={{fontWeight:\"bold\"}}>Tanggal Pengiriman</span>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                <span style={{fontWeight:\"bold\"}}>:  {this.state.detailViewTanggalPengiriman}</span>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\",marginTop:\"2vh\"}}>\r\n              <Col xs=\"2\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n              <Col xs=\"7\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n              <Col xs=\"1\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>QTY Req</span></Col>\r\n              <Col xs=\"1\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>QTY Send</span></Col>\r\n              <Col xs=\"1\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.detailViewDataDO.length > 0 && this.state.detailViewDataDO.map((detailViewDataDO,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>{detailViewDataDO.kode_barang}</span></Col>\r\n                    <Col xs=\"7\" className=\"dataTableJSAC\"><span style={{fontWeight:\"bold\"}}>{detailViewDataDO.nama_barang}</span></Col>\r\n                    <Col xs=\"1\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>{detailViewDataDO.qty_req}</span></Col>\r\n                    <Col xs=\"1\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>{detailViewDataDO.qty_send}</span></Col>\r\n                    <Col xs=\"1\" className=\"dataTableJCAC\" style={{padding:0}}><span style={{fontWeight:\"bold\"}}>{detailViewDataDO.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Daftar Delivery order</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataDeliveryOrderH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(productout));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\completionplanproduksi.js",["503","504","505","506"],"import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from 'moment';\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport \"../App.css\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter,\r\n  Input,\r\n  FormGroup,\r\n  Label\r\n} from \"reactstrap\";\r\nimport Select from 'react-select';\r\nimport { HashLoader , ScaleLoader } from 'react-spinners';\r\nimport DataTable from 'react-data-table-component';\r\nimport DataTableExtensions from 'react-data-table-component-extensions';\r\n\r\nclass completionPlanProduksi extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadingParam:\"none\",\r\n      pagination:true,\r\n      highlight:true,\r\n      striped:false,\r\n      loading:false,\r\n      noHeader:true,\r\n      fixedHeader:false,\r\n      prmModaledit:false,\r\n      detailbuatpo:\"\",\r\n      dataProduksiH:[],\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiTurunanD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n      // state form add produksi\r\n      prmModaladd:false,\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state button add produksi\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Add\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      masterBarangPakaiList:[],\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      masterBarangSisaList:[],\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      buttonAddBarangHasilPrm:false,\r\n      buttonAddBarangHasilText:\"Add\",\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    };\r\n  }\r\n  componentDidMount = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  refreshPageData = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      loading:true,\r\n    });\r\n    axios\r\n    .get(`http://localhost:3009/centralkitchen/getProductionPlanPageH`)\r\n    .then(result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiH: result.data.dataProduksiH,\r\n        loading:false,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n  }\r\n  modalAddOpen = async () =>  {\r\n    await this.setState({\r\n      ...this.state,\r\n      loadingParam:\"block\",\r\n    });\r\n    await axios\r\n    .get(`http://localhost:3009/centralkitchen/getFormProductionPlan`)\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        masterBarangHasilList: result.data.dataMasterBarang,\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    const dateToForm = moment().format(\"YYYY-MM-DD HH:mm:ss\")\r\n    this.setState({\r\n      ...this.state,\r\n      loadingParam:\"none\",\r\n      prmModaladd: true,\r\n      dateForm:dateToForm,\r\n      addNote:\"\",\r\n      // state tambah barang pakai produksi\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalAddClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaladd: false,\r\n      buttonAddPrm:false,\r\n      buttonAddText:\"Save\",\r\n      dateForm:\"\",\r\n      addNote:\"\",\r\n      prmPlanProduksi:true,\r\n      // state tambah barang pakai produksi\r\n      masterBarangPakaiList:[],\r\n      prmBarangPakai:\"\",\r\n      inStok:\"\",\r\n      tambahkodebarangpakai:\"\",\r\n      tambahnamabarangpakai:\"\",\r\n      tambahsatuanbarangpakai:\"\",\r\n      tambahqtybarangpakai:\"\",\r\n      listAddBarangPakai:[],\r\n      // state tambah barang sisa produksi\r\n      masterBarangSisaList:[],\r\n      prmBarangSisa:\"\",\r\n      tambahkodebarangsisa:\"\",\r\n      tambahnamabarangsisa:\"\",\r\n      tambahsatuanbarangsisa:\"\",\r\n      tambahqtybarangsisa:\"\",\r\n      listAddBarangSisa:[],\r\n      // state tambah barang hasil produksi\r\n      prmBarangHasil:\"\",\r\n      masterBarangHasilList:[],\r\n      tambahkodebaranghasil:\"\",\r\n      tambahnamabaranghasil:\"\",\r\n      tambahsatuanbaranghasil:\"\",\r\n      tambahqtybaranghasil:\"\",\r\n      listAddBarangHasil:[],\r\n    });\r\n  }\r\n  modalEditOpen = async (data) =>  {\r\n    const dataToSend = {\r\n      IDPRODUKSIH: data.kode_produksi_h,\r\n      PRMTURUNANPRODUKSI: data.kode_master_produksi_h\r\n    };\r\n    await axios\r\n    .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/getCompletionProductionPageD`, dataToSend, {\r\n      headers: {\r\n        \"Access-Control-Allow-Origin\": \"*\"\r\n      }\r\n    })\r\n    .then( result => {\r\n      this.setState({\r\n        ...this.state,\r\n        dataProduksiPakaiD:result.data.dataPakaiProduksiD,\r\n        dataProduksiHasilD:result.data.dataHasilProduksiD\r\n      });\r\n    })\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: true,\r\n      detailDataProduksi:data\r\n    });\r\n  }\r\n  modalEditClose = () =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      prmModaledit: false,\r\n      dataProduksiPakaiD:[],\r\n      dataProduksiTurunanD:[],\r\n      dataProduksiHasilD:[],\r\n      detailDataProduksi:\"\",\r\n    });\r\n  }\r\n  handleChange = event =>  {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  }\r\n  submitData = () => {\r\n    const dataToSend = {\r\n        TANGGALPRODUKSI: this.state.dateForm,\r\n        USER:this.props.userinfo.id_user,\r\n        NOTE:this.state.addNote,\r\n        ADDDATABARANGPAKAI: this.state.listAddBarangPakai,\r\n        ADDDATABARANGSISA: this.state.listAddBarangSisa,\r\n        ADDDATABARANGHASIL: this.state.listAddBarangHasil\r\n    };\r\n    const cekAddDataBarangHasil = this.state.listAddBarangHasil.length\r\n    if (cekAddDataBarangHasil < 1){\r\n      alert(\"Data item produksi tidak boleh kosong\")\r\n    } else {\r\n      this.setState({\r\n        ...this.state,\r\n        buttonAddPrm:true,\r\n        buttonAddText:\"\"\r\n      });\r\n      axios\r\n      .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addFormProductionPlan`, dataToSend, {\r\n        headers: {\r\n          \"Access-Control-Allow-Origin\": \"*\"\r\n        }\r\n      })\r\n      .then(async result => {\r\n        await this.setState({\r\n          ...this.state,\r\n          buttonAddPrm:false,\r\n          buttonAddText:\"Save\",\r\n        });\r\n        alert(\"data berhasil Ditambahkan\")\r\n        await this.modalAddClose()\r\n        window.open(`https://scmoutlet.jaygeegroupapp.com/productionPlanPrint?ID=${result.data.kodeProduksiH}`, \"_blank\")\r\n        this.refreshPageData()\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        console.log(this.props);\r\n      });\r\n    }\r\n  }\r\n  // function barang pakai produksi\r\n  // onSelectChangedMasterBarangPakai = async (value) => {\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     prmBarangPakai: value,\r\n  //     tambahkodebarangpakai:value.value,\r\n  //     tambahnamabarangpakai:value.label,\r\n  //     tambahsatuanbarangpakai:value.satuan,\r\n  //     inStok:value.qty_in_stok,\r\n  //   });\r\n  // }\r\n  // addDataPakai = async () => {\r\n  //   let qtyTambahPakai = parseInt(this.state.tambahqtybarangpakai)\r\n  //   let qtyInStok = parseInt(this.state.inStok)\r\n  //   if(this.state.tambahkodebarangpakai === \"\" || this.state.tambahqtybarangpakai === \"\"){\r\n  //     alert(\"barang dan qty barang tidak boleh kosong\")\r\n  //   } else if(this.state.tambahqtybarangpakai === 0 || this.state.tambahqtybarangpakai === \"0\"){\r\n  //     alert(\"Qty tidak boleh 0 (Nol)\")\r\n  //   } else if(qtyTambahPakai > qtyInStok){\r\n  //     alert(\"Qty yang anda input melebihi stok\")\r\n  //   } else {\r\n  //     let daftarBarang = this.state.listAddBarangPakai\r\n  //     let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n  //     if(resultChecked===undefined){\r\n  //       let dataTopush = {kode_barang:`${this.state.tambahkodebarangpakai}`,nama_barang:`${this.state.tambahnamabarangpakai}`,qty:`${this.state.tambahqtybarangpakai}`,satuan:`${this.state.tambahsatuanbarangpakai}`}\r\n  //       await daftarBarang.push(dataTopush)\r\n  //       await this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangPakai: daftarBarang,\r\n  //         prmBarangPakai:\"\",\r\n  //         inStok:\"\",\r\n  //         tambahkodebarangpakai:\"\",\r\n  //         tambahnamabarangpakai:\"\",\r\n  //         tambahsatuanbarangpakai:\"\",\r\n  //         tambahqtybarangpakai:\"\",\r\n  //       });\r\n  //     } else {\r\n  //       let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarangpakai}`);\r\n  //       let qtyAwal = daftarBarang[indexArray].qty\r\n  //       let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarangpakai)\r\n  //       daftarBarang[indexArray].qty=qtyAkhir\r\n  //       this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangPakai: daftarBarang,\r\n  //         prmBarangPakai:\"\",\r\n  //         inStok:\"\",\r\n  //         tambahkodebarangpakai:\"\",\r\n  //         tambahnamabarangpakai:\"\",\r\n  //         tambahsatuanbarangpakai:\"\",\r\n  //         tambahqtybarangpakai:\"\",\r\n  //       });\r\n  //     }\r\n  //   }\r\n  // }\r\n  // eraseAddDataPakai = async (keyArray) => {\r\n  //   let daftarBarang = this.state.listAddBarangPakai\r\n  //   await daftarBarang.splice(keyArray, 1)\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     listAddBarangPakai: daftarBarang\r\n  //   });\r\n  // }\r\n  // function barang sisa produksi\r\n  // onSelectChangedMasterBarangSisa = async (value) => {\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     prmBarangSisa: value,\r\n  //     tambahkodebarangsisa:value.value,\r\n  //     tambahnamabarangsisa:value.label,\r\n  //     tambahsatuanbarangsisa:value.satuan,\r\n  //   });\r\n  // }\r\n  // addDataSisa = async () => {\r\n  //   if(this.state.tambahkodebarangsisa === \"\" || this.state.tambahqtybarangsisa === \"\"){\r\n  //     alert(\"barang dan qty barang tidak boleh kosong\")\r\n  //   } else if(this.state.tambahqtybarangsisa === 0 || this.state.tambahqtybarangsisa === \"0\"){\r\n  //     alert(\"Qty tidak boleh 0 (Nol)\")\r\n  //   } else {\r\n  //     let daftarBarang = this.state.listAddBarangSisa\r\n  //     let resultChecked = daftarBarang.find(o => o.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n  //     if(resultChecked===undefined){\r\n  //       let dataTopush = {kode_barang:`${this.state.tambahkodebarangsisa}`,nama_barang:`${this.state.tambahnamabarangsisa}`,qty:`${this.state.tambahqtybarangsisa}`,satuan:`${this.state.tambahsatuanbarangsisa}`}\r\n  //       await daftarBarang.push(dataTopush)\r\n  //       await this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangSisa: daftarBarang,\r\n  //         prmBarangSisa:\"\",\r\n  //         tambahkodebarangsisa:\"\",\r\n  //         tambahnamabarangsisa:\"\",\r\n  //         tambahsatuanbarangsisa:\"\",\r\n  //         tambahqtybarangsisa:\"\",\r\n  //       });\r\n  //     } else {\r\n  //       let indexArray = daftarBarang.findIndex(x => x.kode_barang === `${this.state.tambahkodebarangsisa}`);\r\n  //       let qtyAwal = daftarBarang[indexArray].qty\r\n  //       let qtyAkhir = parseInt(qtyAwal)+parseInt(this.state.tambahqtybarangsisa)\r\n  //       daftarBarang[indexArray].qty=qtyAkhir\r\n  //       this.setState({\r\n  //         ...this.state,\r\n  //         listAddBarangSisa: daftarBarang,\r\n  //         prmBarangSisa:\"\",\r\n  //         tambahkodebarangsisa:\"\",\r\n  //         tambahnamabarangsisa:\"\",\r\n  //         tambahsatuanbarangsisa:\"\",\r\n  //         tambahqtybarangsisa:\"\",\r\n  //       });\r\n  //     }\r\n  //   }\r\n  // }\r\n  // eraseAddDataSisa = async (keyArray) => {\r\n  //   let daftarBarang = this.state.listAddBarangSisa\r\n  //   await daftarBarang.splice(keyArray, 1)\r\n  //   await this.setState({\r\n  //     ...this.state,\r\n  //     listAddBarangSisa: daftarBarang\r\n  //   });\r\n  // }\r\n  // function barang hasil produksi\r\n  onSelectChangedMasterBarangHasil = async (value) => {\r\n    await this.setState({\r\n      ...this.state,\r\n      prmBarangHasil: value,\r\n      tambahkodebaranghasil:value.value,\r\n      tambahnamabaranghasil:value.label,\r\n      tambahsatuanbaranghasil:value.satuan,\r\n    });\r\n  }\r\n  addDataHasil = async () => {\r\n    if(this.state.tambahkodebaranghasil === \"\" || this.state.tambahqtybaranghasil === \"\"){\r\n      alert(\"barang dan qty barang tidak boleh kosong\")\r\n    } else if(this.state.tambahqtybaranghasil === 0 || this.state.tambahqtybaranghasil === \"0\"){\r\n      alert(\"Qty tidak boleh 0 (Nol)\")\r\n    } else {\r\n        let daftarBarang = this.state.listAddBarangHasil\r\n        let dataTopush = {kode_barang:`${this.state.tambahkodebaranghasil}`,nama_barang:`${this.state.tambahnamabaranghasil}`,qty:`${parseInt(this.state.tambahqtybaranghasil)*parseInt(this.state.prmBarangHasil.qty)}`,satuan:`${this.state.tambahsatuanbaranghasil}`}\r\n        await daftarBarang.push(dataTopush)\r\n        this.setState({\r\n            ...this.state,\r\n            listAddBarangHasil: daftarBarang\r\n        });\r\n        let dataToSend = {\r\n            KEYPLANPRODUCTION: this.state.prmBarangHasil.kode_master_produksi_h,\r\n            MULTIPLEBY:this.state.tambahqtybaranghasil\r\n        };\r\n        axios\r\n        .post(`${localStorage.getItem(\"APIROUTE\")}/centralkitchen/addItemProductionPlan`, dataToSend, {\r\n            headers: {\r\n            \"Access-Control-Allow-Origin\": \"*\"\r\n            }\r\n        })\r\n        .then(async result => {\r\n            await this.setState({\r\n            ...this.state,\r\n            listAddBarangPakai:result.data.dataKebutuhanProduksi\r\n            });\r\n            this.setState({\r\n                ...this.state,\r\n                prmBarangHasil:\"\",\r\n                tambahkodebaranghasil:\"\",\r\n                tambahnamabaranghasil:\"\",\r\n                tambahsatuanbaranghasil:\"\",\r\n                tambahqtybaranghasil:\"\",\r\n            });\r\n            this.cekPlanProduksi()\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n    }\r\n  }\r\n  eraseAddDataHasil = async (keyArray) => {\r\n    let daftarBarang = this.state.listAddBarangHasil\r\n    await daftarBarang.splice(keyArray, 1)\r\n    await this.setState({\r\n      ...this.state,\r\n      listAddBarangHasil: daftarBarang,\r\n      listAddBarangPakai:[],\r\n      listAddBarangSisa:[],\r\n      prmPlanProduksi:true\r\n    });\r\n  }\r\n  cekPlanProduksi = () =>  {\r\n    let dataToCek = this.state.listAddBarangPakai\r\n    let panjangData = this.state.listAddBarangPakai.length\r\n    for(let i=0;i<panjangData;i++){\r\n        let qtyReq=dataToCek[i].qty\r\n        let qtyInStok=dataToCek[i].qty_in_stok\r\n        if (parseInt(qtyInStok)<parseInt(qtyReq)){\r\n            this.setState({\r\n                ...this.state,\r\n                prmPlanProduksi:false\r\n            });\r\n        }\r\n    }\r\n  }\r\n  handleChangeDatahasilD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiHasilD\r\n    let max_qty = daftarBarang[IdData].qty_plan\r\n    event.target.value > max_qty ? alert(\"kuantiti yang anda input melebihi qty plan\") :\r\n    daftarBarang[IdData].qty_produksi=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiHasilD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDatapakaiD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiPakaiD\r\n    let max_qty = daftarBarang[IdData].qty\r\n    event.target.value > max_qty ? alert(\"kuantiti yang anda input melebihi qty plan\") :\r\n    daftarBarang[IdData].qty_sisa=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiPakaiD: daftarBarang\r\n    });\r\n  }\r\n  handleChangeDataSisaD = event =>  {\r\n    let IdData = event.target.id\r\n    let daftarBarang = this.state.dataProduksiTurunanD\r\n    daftarBarang[IdData].qty=event.target.value\r\n    this.setState({\r\n      ...this.state,\r\n      dataProduksiTurunanD: daftarBarang\r\n    });\r\n  }\r\n  render() {\r\n    const DataButton = (data) => (\r\n      <div>\r\n        <button className=\"myBtn\" onClick={()=> this.modalEditOpen(data)}><i className=\"fa fa-search fa-2x\" aria-hidden=\"true\"></i></button>\r\n      </div>\r\n    );\r\n    const columns = [\r\n      {\r\n        name: 'Nomor Produksi',\r\n        selector: 'nomor_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tanggal Produksi',\r\n        selector: 'tanggal_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Item Produksi',\r\n        selector: 'production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Quantity Produksi',\r\n        selector: 'production_qty_plan',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Satuan Produksi',\r\n        selector: 'satuan_production_item',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Note Produksi',\r\n        selector: 'note_produksi',\r\n        sortable: true,\r\n      },\r\n      {\r\n        name: 'Tool',\r\n        button: true,\r\n        cell: row => DataButton(row),\r\n      },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Modal isOpen={this.state.prmModaladd} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalAddClose()}>Production plan form</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal penyelesaian produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.dateForm} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.addNote} onChange={this.handleChange} placeholder=\"Note\" />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Production item</h3>\r\n                </Col>\r\n                </Row>\r\n                {\r\n                this.state.listAddBarangHasil.length > 0 ?\"\"\r\n                :\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingBottom:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production plan item</Label>\r\n                        <Select\r\n                        className=\"basic-single\"\r\n                        classNamePrefix=\"select\"\r\n                        isClearable={false}\r\n                        isSearchable={true}\r\n                        name=\"prmBarangHasil\"\r\n                        value={this.state.prmBarangHasil}\r\n                        options={this.state.masterBarangHasilList}\r\n                        onChange={this.onSelectChangedMasterBarangHasil.bind(this)}\r\n                        placeholder=\"Select a production plan item\"\r\n                        />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Production per batch</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.qty == undefined?\"---\":this.state.prmBarangHasil.qty} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"2\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Unit</Label>\r\n                        <Input type=\"text\" value={this.state.prmBarangHasil.satuan == undefined?\"---\":this.state.prmBarangHasil.satuan} disabled={true} />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"4\">\r\n                    <FormGroup>\r\n                        <Label for=\"prmBarangHasil\">Multiple batch by</Label>\r\n                        <Input type=\"number\" name=\"tambahqtybaranghasil\" id=\"tambahqtybaranghasil\" value={this.state.tambahqtybaranghasil} onChange={this.handleChange} placeholder=\"Qty\" min=\"1\" />\r\n                    </FormGroup>\r\n                </Col>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n                    <Button color=\"success\" block={true} onClick={() => this.addDataHasil()}>\r\n                    <ScaleLoader\r\n                        height={18}\r\n                        width={4}\r\n                        radius={2}\r\n                        margin={2}\r\n                        color={'#FFFFFF'}\r\n                        loading={this.state.buttonAddBarangHasilPrm}\r\n                    />\r\n                    {this.state.buttonAddBarangHasilText}\r\n                    </Button>\r\n                </Col>\r\n                </Row>\r\n                }\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>TOOL</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangHasil.length > 0 && this.state.listAddBarangHasil.map((listAddBarangHasil,index) =>\r\n                    <Row key={index}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.nama_barang}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.qty}</span></Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangHasil.satuan}</span></Col>\r\n                        <Col xs=\"1\">\r\n                        <button className=\"myBtn\" onClick={() => this.eraseAddDataHasil(index)}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\r\n                        </Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* hasil produksi section */}\r\n            {/* pakai produksi section */}\r\n            <div>\r\n                <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n                <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                    <h3>Raw material</h3>\r\n                </Col>\r\n                </Row>\r\n                <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n                <Col>\r\n                    <Row>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                    <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                    <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>IN STOK</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>QTY</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                    </Row>\r\n                </Col>\r\n                </Row>\r\n                <Row className=\"bodyData\">\r\n                <Col>\r\n                    {this.state.listAddBarangPakai.length > 0 && this.state.listAddBarangPakai.map((listAddBarangPakai,index) =>\r\n                    <Row key={index} style={{color:parseInt(listAddBarangPakai.qty_in_stok) < parseInt(listAddBarangPakai.qty)?\"#FF0000\":\"#000000\"}}>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.kode_barang}</span></Col>\r\n                        <Col xs=\"5\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.nama_barang}</span></Col>\r\n                        <Col xs=\"1\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty_in_stok}</span></Col>\r\n                        <Col xs=\"2\">\r\n                        <span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.qty}</span>\r\n                        </Col>\r\n                        <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{listAddBarangPakai.satuan_barang}</span></Col>\r\n                    </Row>\r\n                    )}\r\n                </Col>\r\n                </Row>\r\n            </div>\r\n            {/* pakai produksi section */}\r\n          </ModalBody>\r\n          <ModalFooter>\r\n            <Button color=\"success\" onClick={() => this.submitData()} disabled={this.state.prmPlanProduksi == true ? false:true}>\r\n              <ScaleLoader\r\n                height={18}\r\n                width={4}\r\n                radius={2}\r\n                margin={2}\r\n                color={'#FFFFFF'}\r\n                loading={this.state.buttonAddPrm}\r\n              />\r\n              {this.state.buttonAddText}\r\n            </Button>\r\n            <Button color=\"danger\" onClick={() => this.modalAddClose()}>Cancel</Button>\r\n          </ModalFooter>\r\n        </Modal>\r\n        <Modal isOpen={this.state.prmModaledit} backdrop={\"static\"} size=\"xl\">\r\n          <ModalHeader toggle={() => this.modalEditClose()}>Detail Produksi</ModalHeader>\r\n          <ModalBody>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Nomor produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.nomor_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n              <Col xs=\"12\" sm=\"12\" md=\"6\">\r\n                <FormGroup>\r\n                  <Label for=\"detailbuatpo\">Tanggal produksi</Label>\r\n                  <Input type=\"text\" name=\"detailbuatpo\" id=\"detailbuatpo\" value={this.state.detailDataProduksi.tanggal_produksi} onChange={this.handleChange} placeholder=\"Tanggal buat PO\" disabled={true} />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <FormGroup>\r\n                  <Label for=\"addNote\">Note</Label>\r\n                  <Input type=\"textarea\" name=\"addNote\" id=\"addNote\" value={this.state.detailDataProduksi.note_produksi} onChange={this.handleChange} placeholder=\"Note\" disabled={true}  />\r\n                </FormGroup>\r\n              </Col>\r\n            </Row>\r\n            {/* hasil produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang hasil produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PLAN QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>HASIL QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiHasilD.length > 0 && this.state.dataProduksiHasilD.map((dataProduksiHasilD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.qty_plan}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiHasilD.qty_produksi}`}\r\n                            onChange={this.handleChangeDatahasilD}\r\n                            min=\"0\"\r\n                            max={`${dataProduksiHasilD.qty_plan}`}\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiHasilD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n            {/* pakai produksi section */}\r\n            <Row style={{backgroundColor:\"#f7f7f7\",paddingTop:10}}>\r\n              <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n                <h3>Barang pakai produksi</h3>\r\n              </Col>\r\n            </Row>\r\n            <Row style={{borderBottom:\"1px solid #000000\"}}>\r\n              <Col>\r\n                <Row>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>KODE BARANG</span></Col>\r\n                  <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>NAMA BARANG</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>PLAN QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SISA QTY</span></Col>\r\n                  <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>SATUAN</span></Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n            <Row className=\"bodyData\">\r\n              <Col>\r\n                {this.state.dataProduksiPakaiD.length > 0 && this.state.dataProduksiPakaiD.map((dataProduksiPakaiD,index) =>\r\n                  <Row key={index}>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.kode_barang}</span></Col>\r\n                    <Col xs=\"4\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.nama_barang}</span></Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.qty}</span></Col>\r\n                    <Col xs=\"2\">\r\n                        <Input\r\n                            type=\"number\"\r\n                            name={`${index}`}\r\n                            id={`${index}`}\r\n                            value={`${dataProduksiPakaiD.qty_sisa}`}\r\n                            onChange={this.handleChangeDatapakaiD}\r\n                            min=\"0\"\r\n                            max={`${dataProduksiPakaiD.qty}`}\r\n                        />\r\n                    </Col>\r\n                    <Col xs=\"2\"><span style={{fontWeight:\"bold\"}}>{dataProduksiPakaiD.satuan_barang}</span></Col>\r\n                  </Row>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </ModalBody>\r\n        </Modal>\r\n        <Container fluid={true} style={{paddingBottom:30}}>\r\n          <Row>\r\n            <Col xs=\"12\" sm=\"12\" md=\"12\">\r\n              <div className=\"card\" style={{marginTop:15}}>\r\n                <div className=\"card-header\">\r\n                  <Row>\r\n                    <Col xs=\"10\" sm=\"10\" md=\"10\" style={{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}}>\r\n                      <span style={{fontWeight:\"bold\"}}>Open production plan list</span>\r\n                    </Col>\r\n                    <Col xs=\"2\" sm=\"2\" md=\"2\" style={{display:\"flex\",justifyContent:\"flex-end\",alignItems:\"center\"}}>\r\n                      {/* <button className=\"myBtn\" onClick={() => this.modalAddOpen()}><i className=\"fa fa-plus-square fa-2x\" aria-hidden=\"true\"></i></button> */}\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <DataTableExtensions\r\n                      columns={columns}\r\n                      data={this.state.dataProduksiH}\r\n                      print={false}\r\n                      exportHeaders={false}\r\n                      export={false}\r\n                  >\r\n                    <DataTable\r\n                      defaultSortField=\"title\"\r\n                      pagination={this.state.pagination}\r\n                      highlightOnHover={this.state.highlight}\r\n                      striped={this.state.striped}\r\n                      progressPending={this.state.loading}\r\n                      noHeader={this.state.noHeader}\r\n                      fixedHeader={this.state.fixedHeader}\r\n                      fixedHeaderScrollHeight=\"300px\"\r\n                    />\r\n                  </DataTableExtensions>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userinfo: state.reducer.userinfo\r\n  };\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(completionPlanProduksi));","C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\redux\\reducers\\index.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\pages\\dummyData.js",[],"C:\\Users\\asus\\Documents\\web_apps\\scmjaygeegroupoutlet\\src\\LoadingRoutes.js",[],{"ruleId":"507","replacedBy":"508"},{"ruleId":"509","replacedBy":"510"},{"ruleId":"511","severity":1,"message":"512","line":2,"column":8,"nodeType":"513","messageId":"514","endLine":2,"endColumn":13},{"ruleId":"511","severity":1,"message":"515","line":12,"column":8,"nodeType":"513","messageId":"514","endLine":12,"endColumn":18},{"ruleId":"511","severity":1,"message":"516","line":13,"column":8,"nodeType":"513","messageId":"514","endLine":13,"endColumn":20},{"ruleId":"511","severity":1,"message":"517","line":14,"column":8,"nodeType":"513","messageId":"514","endLine":14,"endColumn":20},{"ruleId":"511","severity":1,"message":"518","line":15,"column":8,"nodeType":"513","messageId":"514","endLine":15,"endColumn":20},{"ruleId":"511","severity":1,"message":"519","line":16,"column":8,"nodeType":"513","messageId":"514","endLine":16,"endColumn":21},{"ruleId":"511","severity":1,"message":"520","line":17,"column":8,"nodeType":"513","messageId":"514","endLine":17,"endColumn":26},{"ruleId":"511","severity":1,"message":"521","line":18,"column":8,"nodeType":"513","messageId":"514","endLine":18,"endColumn":31},{"ruleId":"511","severity":1,"message":"522","line":19,"column":8,"nodeType":"513","messageId":"514","endLine":19,"endColumn":20},{"ruleId":"511","severity":1,"message":"523","line":20,"column":8,"nodeType":"513","messageId":"514","endLine":20,"endColumn":25},{"ruleId":"511","severity":1,"message":"524","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":24},{"ruleId":"511","severity":1,"message":"525","line":22,"column":8,"nodeType":"513","messageId":"514","endLine":22,"endColumn":34},{"ruleId":"511","severity":1,"message":"526","line":23,"column":8,"nodeType":"513","messageId":"514","endLine":23,"endColumn":21},{"ruleId":"511","severity":1,"message":"527","line":24,"column":8,"nodeType":"513","messageId":"514","endLine":24,"endColumn":21},{"ruleId":"511","severity":1,"message":"528","line":25,"column":8,"nodeType":"513","messageId":"514","endLine":25,"endColumn":22},{"ruleId":"511","severity":1,"message":"529","line":29,"column":8,"nodeType":"513","messageId":"514","endLine":29,"endColumn":16},{"ruleId":"511","severity":1,"message":"530","line":30,"column":8,"nodeType":"513","messageId":"514","endLine":30,"endColumn":18},{"ruleId":"511","severity":1,"message":"531","line":33,"column":8,"nodeType":"513","messageId":"514","endLine":33,"endColumn":18},{"ruleId":"511","severity":1,"message":"532","line":34,"column":8,"nodeType":"513","messageId":"514","endLine":34,"endColumn":26},{"ruleId":"511","severity":1,"message":"533","line":35,"column":8,"nodeType":"513","messageId":"514","endLine":35,"endColumn":27},{"ruleId":"511","severity":1,"message":"534","line":36,"column":8,"nodeType":"513","messageId":"514","endLine":36,"endColumn":30},{"ruleId":"511","severity":1,"message":"535","line":2,"column":8,"nodeType":"513","messageId":"514","endLine":2,"endColumn":19},{"ruleId":"511","severity":1,"message":"536","line":17,"column":10,"nodeType":"513","messageId":"514","endLine":17,"endColumn":20},{"ruleId":"511","severity":1,"message":"537","line":1,"column":27,"nodeType":"513","messageId":"514","endLine":1,"endColumn":35},{"ruleId":"538","severity":1,"message":"539","line":32,"column":20,"nodeType":"540","messageId":"541","endLine":32,"endColumn":22},{"ruleId":"538","severity":1,"message":"539","line":84,"column":88,"nodeType":"540","messageId":"541","endLine":84,"endColumn":90},{"ruleId":"538","severity":1,"message":"539","line":91,"column":88,"nodeType":"540","messageId":"541","endLine":91,"endColumn":90},{"ruleId":"538","severity":1,"message":"539","line":98,"column":88,"nodeType":"540","messageId":"541","endLine":98,"endColumn":90},{"ruleId":"538","severity":1,"message":"539","line":105,"column":88,"nodeType":"540","messageId":"541","endLine":105,"endColumn":90},{"ruleId":"538","severity":1,"message":"539","line":112,"column":114,"nodeType":"540","messageId":"541","endLine":112,"endColumn":116},{"ruleId":"511","severity":1,"message":"542","line":5,"column":8,"nodeType":"513","messageId":"514","endLine":5,"endColumn":13},{"ruleId":"511","severity":1,"message":"543","line":13,"column":3,"nodeType":"513","messageId":"514","endLine":13,"endColumn":9},{"ruleId":"511","severity":1,"message":"544","line":14,"column":3,"nodeType":"513","messageId":"514","endLine":14,"endColumn":8},{"ruleId":"511","severity":1,"message":"545","line":15,"column":3,"nodeType":"513","messageId":"514","endLine":15,"endColumn":14},{"ruleId":"511","severity":1,"message":"546","line":16,"column":3,"nodeType":"513","messageId":"514","endLine":16,"endColumn":12},{"ruleId":"511","severity":1,"message":"547","line":17,"column":3,"nodeType":"513","messageId":"514","endLine":17,"endColumn":14},{"ruleId":"511","severity":1,"message":"515","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":18},{"ruleId":"511","severity":1,"message":"548","line":22,"column":8,"nodeType":"513","messageId":"514","endLine":22,"endColumn":17},{"ruleId":"511","severity":1,"message":"549","line":23,"column":8,"nodeType":"513","messageId":"514","endLine":23,"endColumn":27},{"ruleId":"511","severity":1,"message":"550","line":24,"column":8,"nodeType":"513","messageId":"514","endLine":24,"endColumn":24},{"ruleId":"551","severity":1,"message":"552","line":199,"column":84,"nodeType":"553","messageId":"541","endLine":199,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":200,"column":84,"nodeType":"553","messageId":"541","endLine":200,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":201,"column":84,"nodeType":"553","messageId":"541","endLine":201,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":202,"column":84,"nodeType":"553","messageId":"541","endLine":202,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":203,"column":84,"nodeType":"553","messageId":"541","endLine":203,"endColumn":91},{"ruleId":"538","severity":1,"message":"539","line":207,"column":80,"nodeType":"540","messageId":"541","endLine":207,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":208,"column":80,"nodeType":"540","messageId":"541","endLine":208,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":209,"column":80,"nodeType":"540","messageId":"541","endLine":209,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":210,"column":80,"nodeType":"540","messageId":"541","endLine":210,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":211,"column":80,"nodeType":"540","messageId":"541","endLine":211,"endColumn":82},{"ruleId":"551","severity":1,"message":"552","line":219,"column":82,"nodeType":"553","messageId":"541","endLine":219,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":220,"column":82,"nodeType":"553","messageId":"541","endLine":220,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":221,"column":82,"nodeType":"553","messageId":"541","endLine":221,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":224,"column":82,"nodeType":"553","messageId":"541","endLine":224,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":225,"column":82,"nodeType":"553","messageId":"541","endLine":225,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":226,"column":82,"nodeType":"553","messageId":"541","endLine":226,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":229,"column":82,"nodeType":"553","messageId":"541","endLine":229,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":230,"column":82,"nodeType":"553","messageId":"541","endLine":230,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":241,"column":82,"nodeType":"553","messageId":"541","endLine":241,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":242,"column":82,"nodeType":"553","messageId":"541","endLine":242,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":249,"column":82,"nodeType":"553","messageId":"541","endLine":249,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":250,"column":82,"nodeType":"553","messageId":"541","endLine":250,"endColumn":89},{"ruleId":"511","severity":1,"message":"542","line":5,"column":8,"nodeType":"513","messageId":"514","endLine":5,"endColumn":13},{"ruleId":"511","severity":1,"message":"543","line":13,"column":3,"nodeType":"513","messageId":"514","endLine":13,"endColumn":9},{"ruleId":"511","severity":1,"message":"544","line":14,"column":3,"nodeType":"513","messageId":"514","endLine":14,"endColumn":8},{"ruleId":"511","severity":1,"message":"545","line":15,"column":3,"nodeType":"513","messageId":"514","endLine":15,"endColumn":14},{"ruleId":"511","severity":1,"message":"546","line":16,"column":3,"nodeType":"513","messageId":"514","endLine":16,"endColumn":12},{"ruleId":"511","severity":1,"message":"547","line":17,"column":3,"nodeType":"513","messageId":"514","endLine":17,"endColumn":14},{"ruleId":"511","severity":1,"message":"515","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":18},{"ruleId":"511","severity":1,"message":"548","line":22,"column":8,"nodeType":"513","messageId":"514","endLine":22,"endColumn":17},{"ruleId":"511","severity":1,"message":"549","line":23,"column":8,"nodeType":"513","messageId":"514","endLine":23,"endColumn":27},{"ruleId":"511","severity":1,"message":"550","line":24,"column":8,"nodeType":"513","messageId":"514","endLine":24,"endColumn":24},{"ruleId":"551","severity":1,"message":"552","line":155,"column":84,"nodeType":"553","messageId":"541","endLine":155,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":156,"column":84,"nodeType":"553","messageId":"541","endLine":156,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":157,"column":84,"nodeType":"553","messageId":"541","endLine":157,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":158,"column":84,"nodeType":"553","messageId":"541","endLine":158,"endColumn":91},{"ruleId":"538","severity":1,"message":"539","line":162,"column":80,"nodeType":"540","messageId":"541","endLine":162,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":163,"column":80,"nodeType":"540","messageId":"541","endLine":163,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":164,"column":80,"nodeType":"540","messageId":"541","endLine":164,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":165,"column":80,"nodeType":"540","messageId":"541","endLine":165,"endColumn":82},{"ruleId":"551","severity":1,"message":"552","line":177,"column":82,"nodeType":"553","messageId":"541","endLine":177,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":178,"column":82,"nodeType":"553","messageId":"541","endLine":178,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":185,"column":82,"nodeType":"553","messageId":"541","endLine":185,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":186,"column":82,"nodeType":"553","messageId":"541","endLine":186,"endColumn":89},{"ruleId":"511","severity":1,"message":"542","line":5,"column":8,"nodeType":"513","messageId":"514","endLine":5,"endColumn":13},{"ruleId":"511","severity":1,"message":"543","line":13,"column":3,"nodeType":"513","messageId":"514","endLine":13,"endColumn":9},{"ruleId":"511","severity":1,"message":"544","line":14,"column":3,"nodeType":"513","messageId":"514","endLine":14,"endColumn":8},{"ruleId":"511","severity":1,"message":"545","line":15,"column":3,"nodeType":"513","messageId":"514","endLine":15,"endColumn":14},{"ruleId":"511","severity":1,"message":"546","line":16,"column":3,"nodeType":"513","messageId":"514","endLine":16,"endColumn":12},{"ruleId":"511","severity":1,"message":"547","line":17,"column":3,"nodeType":"513","messageId":"514","endLine":17,"endColumn":14},{"ruleId":"511","severity":1,"message":"515","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":18},{"ruleId":"511","severity":1,"message":"548","line":22,"column":8,"nodeType":"513","messageId":"514","endLine":22,"endColumn":17},{"ruleId":"511","severity":1,"message":"549","line":23,"column":8,"nodeType":"513","messageId":"514","endLine":23,"endColumn":27},{"ruleId":"511","severity":1,"message":"550","line":24,"column":8,"nodeType":"513","messageId":"514","endLine":24,"endColumn":24},{"ruleId":"551","severity":1,"message":"552","line":146,"column":84,"nodeType":"553","messageId":"541","endLine":146,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":147,"column":84,"nodeType":"553","messageId":"541","endLine":147,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":148,"column":84,"nodeType":"553","messageId":"541","endLine":148,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":149,"column":84,"nodeType":"553","messageId":"541","endLine":149,"endColumn":91},{"ruleId":"538","severity":1,"message":"539","line":153,"column":80,"nodeType":"540","messageId":"541","endLine":153,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":154,"column":80,"nodeType":"540","messageId":"541","endLine":154,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":155,"column":80,"nodeType":"540","messageId":"541","endLine":155,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":156,"column":80,"nodeType":"540","messageId":"541","endLine":156,"endColumn":82},{"ruleId":"551","severity":1,"message":"552","line":168,"column":82,"nodeType":"553","messageId":"541","endLine":168,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":169,"column":82,"nodeType":"553","messageId":"541","endLine":169,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":176,"column":82,"nodeType":"553","messageId":"541","endLine":176,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":177,"column":82,"nodeType":"553","messageId":"541","endLine":177,"endColumn":89},{"ruleId":"511","severity":1,"message":"512","line":2,"column":8,"nodeType":"513","messageId":"514","endLine":2,"endColumn":13},{"ruleId":"511","severity":1,"message":"554","line":4,"column":10,"nodeType":"513","messageId":"514","endLine":4,"endColumn":19},{"ruleId":"511","severity":1,"message":"555","line":10,"column":3,"nodeType":"513","messageId":"514","endLine":10,"endColumn":12},{"ruleId":"511","severity":1,"message":"543","line":11,"column":3,"nodeType":"513","messageId":"514","endLine":11,"endColumn":9},{"ruleId":"511","severity":1,"message":"544","line":12,"column":3,"nodeType":"513","messageId":"514","endLine":12,"endColumn":8},{"ruleId":"511","severity":1,"message":"545","line":13,"column":3,"nodeType":"513","messageId":"514","endLine":13,"endColumn":14},{"ruleId":"511","severity":1,"message":"546","line":14,"column":3,"nodeType":"513","messageId":"514","endLine":14,"endColumn":12},{"ruleId":"511","severity":1,"message":"547","line":15,"column":3,"nodeType":"513","messageId":"514","endLine":15,"endColumn":14},{"ruleId":"511","severity":1,"message":"556","line":16,"column":3,"nodeType":"513","messageId":"514","endLine":16,"endColumn":6},{"ruleId":"511","severity":1,"message":"557","line":17,"column":3,"nodeType":"513","messageId":"514","endLine":17,"endColumn":6},{"ruleId":"511","severity":1,"message":"542","line":5,"column":8,"nodeType":"513","messageId":"514","endLine":5,"endColumn":13},{"ruleId":"511","severity":1,"message":"543","line":13,"column":3,"nodeType":"513","messageId":"514","endLine":13,"endColumn":9},{"ruleId":"511","severity":1,"message":"544","line":14,"column":3,"nodeType":"513","messageId":"514","endLine":14,"endColumn":8},{"ruleId":"511","severity":1,"message":"545","line":15,"column":3,"nodeType":"513","messageId":"514","endLine":15,"endColumn":14},{"ruleId":"511","severity":1,"message":"546","line":16,"column":3,"nodeType":"513","messageId":"514","endLine":16,"endColumn":12},{"ruleId":"511","severity":1,"message":"547","line":17,"column":3,"nodeType":"513","messageId":"514","endLine":17,"endColumn":14},{"ruleId":"511","severity":1,"message":"515","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":18},{"ruleId":"511","severity":1,"message":"548","line":22,"column":8,"nodeType":"513","messageId":"514","endLine":22,"endColumn":17},{"ruleId":"511","severity":1,"message":"549","line":23,"column":8,"nodeType":"513","messageId":"514","endLine":23,"endColumn":27},{"ruleId":"511","severity":1,"message":"550","line":24,"column":8,"nodeType":"513","messageId":"514","endLine":24,"endColumn":24},{"ruleId":"551","severity":1,"message":"552","line":139,"column":84,"nodeType":"553","messageId":"541","endLine":139,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":140,"column":84,"nodeType":"553","messageId":"541","endLine":140,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":141,"column":84,"nodeType":"553","messageId":"541","endLine":141,"endColumn":91},{"ruleId":"551","severity":1,"message":"552","line":142,"column":84,"nodeType":"553","messageId":"541","endLine":142,"endColumn":91},{"ruleId":"538","severity":1,"message":"539","line":146,"column":80,"nodeType":"540","messageId":"541","endLine":146,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":147,"column":80,"nodeType":"540","messageId":"541","endLine":147,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":148,"column":80,"nodeType":"540","messageId":"541","endLine":148,"endColumn":82},{"ruleId":"538","severity":1,"message":"539","line":149,"column":80,"nodeType":"540","messageId":"541","endLine":149,"endColumn":82},{"ruleId":"551","severity":1,"message":"552","line":161,"column":82,"nodeType":"553","messageId":"541","endLine":161,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":162,"column":82,"nodeType":"553","messageId":"541","endLine":162,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":169,"column":82,"nodeType":"553","messageId":"541","endLine":169,"endColumn":89},{"ruleId":"551","severity":1,"message":"552","line":170,"column":82,"nodeType":"553","messageId":"541","endLine":170,"endColumn":89},{"ruleId":"511","severity":1,"message":"542","line":3,"column":8,"nodeType":"513","messageId":"514","endLine":3,"endColumn":13},{"ruleId":"511","severity":1,"message":"515","line":14,"column":8,"nodeType":"513","messageId":"514","endLine":14,"endColumn":18},{"ruleId":"538","severity":1,"message":"539","line":149,"column":37,"nodeType":"540","messageId":"541","endLine":149,"endColumn":39},{"ruleId":"511","severity":1,"message":"558","line":22,"column":8,"nodeType":"513","messageId":"514","endLine":22,"endColumn":14},{"ruleId":"511","severity":1,"message":"559","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":17},{"ruleId":"511","severity":1,"message":"536","line":22,"column":10,"nodeType":"513","messageId":"514","endLine":22,"endColumn":20},{"ruleId":"511","severity":1,"message":"560","line":18,"column":3,"nodeType":"513","messageId":"514","endLine":18,"endColumn":8},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"551","severity":1,"message":"561","line":192,"column":7,"nodeType":"553","messageId":"541","endLine":192,"endColumn":28},{"ruleId":"551","severity":1,"message":"562","line":269,"column":7,"nodeType":"553","messageId":"541","endLine":269,"endColumn":20},{"ruleId":"551","severity":1,"message":"563","line":270,"column":7,"nodeType":"553","messageId":"541","endLine":270,"endColumn":21},{"ruleId":"511","severity":1,"message":"558","line":22,"column":8,"nodeType":"513","messageId":"514","endLine":22,"endColumn":14},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"538","severity":1,"message":"539","line":517,"column":89,"nodeType":"540","messageId":"541","endLine":517,"endColumn":91},{"ruleId":"538","severity":1,"message":"539","line":538,"column":84,"nodeType":"540","messageId":"541","endLine":538,"endColumn":86},{"ruleId":"538","severity":1,"message":"539","line":586,"column":108,"nodeType":"540","messageId":"541","endLine":586,"endColumn":110},{"ruleId":"511","severity":1,"message":"564","line":17,"column":3,"nodeType":"513","messageId":"514","endLine":17,"endColumn":12},{"ruleId":"511","severity":1,"message":"560","line":18,"column":3,"nodeType":"513","messageId":"514","endLine":18,"endColumn":8},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"551","severity":1,"message":"565","line":165,"column":7,"nodeType":"553","messageId":"541","endLine":165,"endColumn":27},{"ruleId":"551","severity":1,"message":"561","line":193,"column":7,"nodeType":"553","messageId":"541","endLine":193,"endColumn":28},{"ruleId":"538","severity":1,"message":"539","line":342,"column":47,"nodeType":"540","messageId":"541","endLine":342,"endColumn":49},{"ruleId":"511","severity":1,"message":"566","line":346,"column":11,"nodeType":"513","messageId":"514","endLine":346,"endColumn":24},{"ruleId":"538","severity":1,"message":"539","line":768,"column":87,"nodeType":"540","messageId":"541","endLine":768,"endColumn":89},{"ruleId":"538","severity":1,"message":"539","line":836,"column":87,"nodeType":"540","messageId":"541","endLine":836,"endColumn":89},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"511","severity":1,"message":"567","line":383,"column":9,"nodeType":"513","messageId":"514","endLine":383,"endColumn":16},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"538","severity":1,"message":"539","line":639,"column":81,"nodeType":"540","messageId":"541","endLine":639,"endColumn":83},{"ruleId":"538","severity":1,"message":"539","line":645,"column":84,"nodeType":"540","messageId":"541","endLine":645,"endColumn":86},{"ruleId":"538","severity":1,"message":"539","line":734,"column":108,"nodeType":"540","messageId":"541","endLine":734,"endColumn":110},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"538","severity":1,"message":"539","line":458,"column":76,"nodeType":"540","messageId":"541","endLine":458,"endColumn":78},{"ruleId":"511","severity":1,"message":"536","line":24,"column":10,"nodeType":"513","messageId":"514","endLine":24,"endColumn":20},{"ruleId":"511","severity":1,"message":"568","line":27,"column":8,"nodeType":"513","messageId":"514","endLine":27,"endColumn":18},{"ruleId":"511","severity":1,"message":"569","line":86,"column":9,"nodeType":"513","messageId":"514","endLine":86,"endColumn":17},{"ruleId":"511","severity":1,"message":"569","line":113,"column":9,"nodeType":"513","messageId":"514","endLine":113,"endColumn":17},{"ruleId":"511","severity":1,"message":"569","line":140,"column":9,"nodeType":"513","messageId":"514","endLine":140,"endColumn":17},{"ruleId":"511","severity":1,"message":"569","line":212,"column":9,"nodeType":"513","messageId":"514","endLine":212,"endColumn":17},{"ruleId":"538","severity":1,"message":"539","line":248,"column":42,"nodeType":"540","messageId":"541","endLine":248,"endColumn":44},{"ruleId":"538","severity":1,"message":"539","line":255,"column":58,"nodeType":"540","messageId":"541","endLine":255,"endColumn":60},{"ruleId":"538","severity":1,"message":"539","line":428,"column":38,"nodeType":"540","messageId":"541","endLine":428,"endColumn":40},{"ruleId":"538","severity":1,"message":"539","line":429,"column":48,"nodeType":"540","messageId":"541","endLine":429,"endColumn":50},{"ruleId":"538","severity":1,"message":"539","line":446,"column":46,"nodeType":"540","messageId":"541","endLine":446,"endColumn":48},{"ruleId":"538","severity":1,"message":"539","line":447,"column":42,"nodeType":"540","messageId":"541","endLine":447,"endColumn":44},{"ruleId":"538","severity":1,"message":"539","line":579,"column":66,"nodeType":"540","messageId":"541","endLine":579,"endColumn":68},{"ruleId":"538","severity":1,"message":"539","line":581,"column":102,"nodeType":"540","messageId":"541","endLine":581,"endColumn":104},{"ruleId":"538","severity":1,"message":"539","line":587,"column":66,"nodeType":"540","messageId":"541","endLine":587,"endColumn":68},{"ruleId":"538","severity":1,"message":"539","line":589,"column":104,"nodeType":"540","messageId":"541","endLine":589,"endColumn":106},{"ruleId":"538","severity":1,"message":"539","line":676,"column":64,"nodeType":"540","messageId":"541","endLine":676,"endColumn":66},{"ruleId":"511","severity":1,"message":"570","line":3,"column":8,"nodeType":"513","messageId":"514","endLine":3,"endColumn":14},{"ruleId":"511","severity":1,"message":"547","line":15,"column":3,"nodeType":"513","messageId":"514","endLine":15,"endColumn":14},{"ruleId":"511","severity":1,"message":"558","line":20,"column":8,"nodeType":"513","messageId":"514","endLine":20,"endColumn":14},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"551","severity":1,"message":"562","line":146,"column":7,"nodeType":"553","messageId":"541","endLine":146,"endColumn":20},{"ruleId":"551","severity":1,"message":"563","line":147,"column":7,"nodeType":"553","messageId":"541","endLine":147,"endColumn":21},{"ruleId":"538","severity":1,"message":"539","line":318,"column":64,"nodeType":"540","messageId":"541","endLine":318,"endColumn":66},{"ruleId":"538","severity":1,"message":"539","line":355,"column":62,"nodeType":"540","messageId":"541","endLine":355,"endColumn":64},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"538","severity":1,"message":"539","line":336,"column":33,"nodeType":"540","messageId":"541","endLine":336,"endColumn":35},{"ruleId":"538","severity":1,"message":"539","line":419,"column":26,"nodeType":"540","messageId":"541","endLine":419,"endColumn":28},{"ruleId":"538","severity":1,"message":"571","line":439,"column":26,"nodeType":"540","messageId":"541","endLine":439,"endColumn":28},{"ruleId":"538","severity":1,"message":"571","line":443,"column":31,"nodeType":"540","messageId":"541","endLine":443,"endColumn":33},{"ruleId":"538","severity":1,"message":"539","line":458,"column":41,"nodeType":"540","messageId":"541","endLine":458,"endColumn":43},{"ruleId":"538","severity":1,"message":"539","line":477,"column":41,"nodeType":"540","messageId":"541","endLine":477,"endColumn":43},{"ruleId":"538","severity":1,"message":"539","line":508,"column":41,"nodeType":"540","messageId":"541","endLine":508,"endColumn":43},{"ruleId":"511","severity":1,"message":"512","line":2,"column":8,"nodeType":"513","messageId":"514","endLine":2,"endColumn":13},{"ruleId":"511","severity":1,"message":"542","line":3,"column":8,"nodeType":"513","messageId":"514","endLine":3,"endColumn":13},{"ruleId":"511","severity":1,"message":"515","line":19,"column":8,"nodeType":"513","messageId":"514","endLine":19,"endColumn":18},{"ruleId":"511","severity":1,"message":"548","line":20,"column":8,"nodeType":"513","messageId":"514","endLine":20,"endColumn":17},{"ruleId":"511","severity":1,"message":"549","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":27},{"ruleId":"511","severity":1,"message":"559","line":21,"column":8,"nodeType":"513","messageId":"514","endLine":21,"endColumn":17},{"ruleId":"511","severity":1,"message":"536","line":22,"column":10,"nodeType":"513","messageId":"514","endLine":22,"endColumn":20},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"551","severity":1,"message":"562","line":205,"column":7,"nodeType":"553","messageId":"541","endLine":205,"endColumn":20},{"ruleId":"551","severity":1,"message":"563","line":206,"column":7,"nodeType":"553","messageId":"541","endLine":206,"endColumn":21},{"ruleId":"538","severity":1,"message":"539","line":429,"column":101,"nodeType":"540","messageId":"541","endLine":429,"endColumn":103},{"ruleId":"538","severity":1,"message":"539","line":526,"column":55,"nodeType":"540","messageId":"541","endLine":526,"endColumn":57},{"ruleId":"511","severity":1,"message":"570","line":3,"column":8,"nodeType":"513","messageId":"514","endLine":3,"endColumn":14},{"ruleId":"511","severity":1,"message":"543","line":11,"column":3,"nodeType":"513","messageId":"514","endLine":11,"endColumn":9},{"ruleId":"511","severity":1,"message":"547","line":15,"column":3,"nodeType":"513","messageId":"514","endLine":15,"endColumn":14},{"ruleId":"511","severity":1,"message":"558","line":20,"column":8,"nodeType":"513","messageId":"514","endLine":20,"endColumn":14},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"511","severity":1,"message":"572","line":21,"column":23,"nodeType":"513","messageId":"514","endLine":21,"endColumn":34},{"ruleId":"511","severity":1,"message":"536","line":24,"column":10,"nodeType":"513","messageId":"514","endLine":24,"endColumn":20},{"ruleId":"551","severity":1,"message":"562","line":209,"column":7,"nodeType":"553","messageId":"541","endLine":209,"endColumn":20},{"ruleId":"551","severity":1,"message":"563","line":210,"column":7,"nodeType":"553","messageId":"541","endLine":210,"endColumn":21},{"ruleId":"538","severity":1,"message":"539","line":216,"column":42,"nodeType":"540","messageId":"541","endLine":216,"endColumn":44},{"ruleId":"538","severity":1,"message":"539","line":342,"column":39,"nodeType":"540","messageId":"541","endLine":342,"endColumn":41},{"ruleId":"538","severity":1,"message":"539","line":343,"column":55,"nodeType":"540","messageId":"541","endLine":343,"endColumn":57},{"ruleId":"538","severity":1,"message":"539","line":356,"column":53,"nodeType":"540","messageId":"541","endLine":356,"endColumn":55},{"ruleId":"538","severity":1,"message":"539","line":357,"column":43,"nodeType":"540","messageId":"541","endLine":357,"endColumn":45},{"ruleId":"538","severity":1,"message":"539","line":405,"column":41,"nodeType":"540","messageId":"541","endLine":405,"endColumn":43},{"ruleId":"538","severity":1,"message":"539","line":406,"column":64,"nodeType":"540","messageId":"541","endLine":406,"endColumn":66},{"ruleId":"538","severity":1,"message":"539","line":426,"column":62,"nodeType":"540","messageId":"541","endLine":426,"endColumn":64},{"ruleId":"538","severity":1,"message":"539","line":427,"column":45,"nodeType":"540","messageId":"541","endLine":427,"endColumn":47},{"ruleId":"538","severity":1,"message":"539","line":533,"column":64,"nodeType":"540","messageId":"541","endLine":533,"endColumn":66},{"ruleId":"538","severity":1,"message":"539","line":535,"column":98,"nodeType":"540","messageId":"541","endLine":535,"endColumn":100},{"ruleId":"538","severity":1,"message":"539","line":542,"column":64,"nodeType":"540","messageId":"541","endLine":542,"endColumn":66},{"ruleId":"538","severity":1,"message":"539","line":544,"column":100,"nodeType":"540","messageId":"541","endLine":544,"endColumn":102},{"ruleId":"538","severity":1,"message":"539","line":617,"column":87,"nodeType":"540","messageId":"541","endLine":617,"endColumn":89},{"ruleId":"538","severity":1,"message":"539","line":621,"column":86,"nodeType":"540","messageId":"541","endLine":621,"endColumn":88},{"ruleId":"538","severity":1,"message":"539","line":662,"column":55,"nodeType":"540","messageId":"541","endLine":662,"endColumn":57},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"511","severity":1,"message":"536","line":21,"column":10,"nodeType":"513","messageId":"514","endLine":21,"endColumn":20},{"ruleId":"538","severity":1,"message":"539","line":611,"column":81,"nodeType":"540","messageId":"541","endLine":611,"endColumn":83},{"ruleId":"538","severity":1,"message":"539","line":617,"column":84,"nodeType":"540","messageId":"541","endLine":617,"endColumn":86},{"ruleId":"538","severity":1,"message":"539","line":706,"column":108,"nodeType":"540","messageId":"541","endLine":706,"endColumn":110},"no-native-reassign",["573"],"no-negated-in-lhs",["574"],"no-unused-vars","'axios' is defined but never used.","Identifier","unusedVar","'Navbarpage' is defined but never used.","'MasterBarang' is defined but never used.","'MasterVendor' is defined but never used.","'MasterOutlet' is defined but never used.","'InventoryPage' is defined but never used.","'MasterProduksiPage' is defined but never used.","'MasterRawProcessingPage' is defined but never used.","'ProduksiPage' is defined but never used.","'RawProsessingPage' is defined but never used.","'PlanproduksiPage' is defined but never used.","'CompletionplanproduksiPage' is defined but never used.","'ProductinPage' is defined but never used.","'ReceivepoPage' is defined but never used.","'ProductoutPage' is defined but never used.","'userPage' is defined but never used.","'reportPage' is defined but never used.","'TestReport' is defined but never used.","'purchaseOrderPrint' is defined but never used.","'ProductionPlanPrint' is defined but never used.","'RawProsessingPlanPrint' is defined but never used.","'queryString' is defined but never used.","'HashLoader' is defined but never used.","'useState' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'jsPDF' is defined but never used.","'Button' is defined but never used.","'Modal' is defined but never used.","'ModalHeader' is defined but never used.","'ModalBody' is defined but never used.","'ModalFooter' is defined but never used.","'DataTable' is defined but never used.","'DataTableExtensions' is defined but never used.","'dataProductDummy' is defined but never used.","no-dupe-keys","Duplicate key 'display'.","ObjectExpression","'autoTable' is defined but never used.","'Container' is defined but never used.","'Row' is defined but never used.","'Col' is defined but never used.","'Select' is defined but never used.","'dataDummy' is defined but never used.","'Label' is defined but never used.","Duplicate key 'masterBarangPakaiList'.","Duplicate key 'buttonEditPrm'.","Duplicate key 'buttonEditText'.","'FormGroup' is defined but never used.","Duplicate key 'tambahqtybarangpakai'.","'resultChecked' is assigned a value but never used.","'maxSend' is assigned a value but never used.","'DatePicker' is defined but never used.","'APIroute' is assigned a value but never used.","'moment' is defined but never used.","Expected '!==' and instead saw '!='.","'ScaleLoader' is defined but never used.","no-global-assign","no-unsafe-negation"]